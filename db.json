{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"source/images/flutter/new_flutter_prj.png","path":"images/flutter/new_flutter_prj.png","modified":0,"renderable":0},{"_id":"source/images/flutter/created_flutter_app.png","path":"images/flutter/created_flutter_app.png","modified":0,"renderable":0},{"_id":"source/images/ionic/deal_list.webp","path":"images/ionic/deal_list.webp","modified":0,"renderable":0},{"_id":"source/images/ionic/folder_structure.png","path":"images/ionic/folder_structure.png","modified":0,"renderable":0},{"_id":"source/images/ionic/play_store_menu.png","path":"images/ionic/play_store_menu.png","modified":0,"renderable":0},{"_id":"source/images/npm-registry/create_acc.png","path":"images/npm-registry/create_acc.png","modified":0,"renderable":0},{"_id":"source/images/npm-registry/set_realms.png","path":"images/npm-registry/set_realms.png","modified":0,"renderable":0},{"_id":"source/images/npm-registry/set_role.png","path":"images/npm-registry/set_role.png","modified":0,"renderable":0},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"source/images/ionic/p2p_statistics.webp","path":"images/ionic/p2p_statistics.webp","modified":0,"renderable":0},{"_id":"source/images/npm-registry/create_repo.png","path":"images/npm-registry/create_repo.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"source/images/flutter/virtual_device.png","path":"images/flutter/virtual_device.png","modified":0,"renderable":0},{"_id":"source/images/ionic/play_store.png","path":"images/ionic/play_store.png","modified":0,"renderable":0},{"_id":"source/images/ionic/ios_setting.png","path":"images/ionic/ios_setting.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"source/images/jenkins/1.png","path":"images/jenkins/1.png","modified":0,"renderable":0},{"_id":"source/about/i_want_what_you_have.jpg","path":"about/i_want_what_you_have.jpg","modified":0,"renderable":0}],"Cache":[{"_id":"themes/next/.all-contributorsrc","hash":"e32dc4075e304af04b98d0726d489081bea722c0","modified":1594997226807},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1594997226807},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1594997226807},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1594997226808},{"_id":"themes/next/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1594997226807},{"_id":"themes/next/.gitignore","hash":"a18c2e83bb20991b899b58e6aeadcb87dd8aa16e","modified":1594997226810},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1594997226810},{"_id":"themes/next/.travis.yml","hash":"3d1dc928c4a97933e64379cfde749dedf62f252c","modified":1594997226811},{"_id":"themes/next/LICENSE.md","hash":"fc7227c508af3351120181cbf2f9b99dc41f063e","modified":1594997226811},{"_id":"themes/next/README.md","hash":"ee7119baf976616a84d3c9c10fcab567995dc98e","modified":1594997226811},{"_id":"themes/next/bower.json","hash":"1c22c2003163799cb919f8e9dc1e3d20bd79151d","modified":1594997226812},{"_id":"themes/next/_config.yml","hash":"76b9a9cae20a335b44b34e49e9032dcbefab3230","modified":1595261973339},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1594997226812},{"_id":"themes/next/gulpfile.coffee","hash":"48d2f9fa88a4210308fc41cc7d3f6d53989f71b7","modified":1594997226818},{"_id":"themes/next/package.json","hash":"f86ddeeddc0b5c6aff7de1e0101b1f64e7f29476","modified":1594997226844},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"b63696d41f022525e40d7e7870c3785b6bc7536b","modified":1594997226808},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"00c25366764e6b9ccb40b877c60dc13b2916bbf7","modified":1594997226809},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"a5335a99377069ae76fd993d488bc3eaf48f3a05","modified":1594997226809},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"7abbb4c8a29b2c14e576a00f53dbc0b4f5669c13","modified":1594997226809},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1594997226810},{"_id":"themes/next/.github/stale.yml","hash":"fd0856f6745db8bd0228079ccb92a662830cc4fb","modified":1594997226810},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1594997226813},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"141e989844d0b5ae2e09fb162a280715afb39b0d","modified":1594997226813},{"_id":"themes/next/docs/DATA-FILES.md","hash":"8e1962dd3e1b700169b3ae5bba43992f100651ce","modified":1594997226814},{"_id":"themes/next/docs/INSTALLATION.md","hash":"2bbdd6c1751b2b42ce9b9335da420c6026a483e9","modified":1594997226814},{"_id":"themes/next/docs/AUTHORS.md","hash":"7b24be2891167bdedb9284a682c2344ec63e50b5","modified":1594997226813},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"120750c03ec30ccaa470b113bbe39f3d423c67f0","modified":1594997226814},{"_id":"themes/next/docs/MATH.md","hash":"e6023505dcccaef0b856102543585a13fc6af0b1","modified":1594997226815},{"_id":"themes/next/docs/LICENSE","hash":"fe607fe22fc9308f6434b892a7f2d2c5514b8f0d","modified":1594997226814},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"ad57c168d12ba01cf144a1ea0627b2ffd1847d3e","modified":1594997226815},{"_id":"themes/next/languages/de.yml","hash":"18b1fbab4b891813954482975c7bd4e8242b789b","modified":1594997226819},{"_id":"themes/next/languages/default.yml","hash":"84a9c4101169bd6c0f8df3174f98842d4e06d52c","modified":1594997226819},{"_id":"themes/next/languages/fr.yml","hash":"ad4f192c1a6f9e8a2f93df57627640a48054dcd5","modified":1594997226819},{"_id":"themes/next/languages/en.yml","hash":"84a9c4101169bd6c0f8df3174f98842d4e06d52c","modified":1594997226819},{"_id":"themes/next/languages/id.yml","hash":"38644041081ac7ae80e5d523097baae5868612af","modified":1594997226819},{"_id":"themes/next/languages/it.yml","hash":"1e6c15e8d98f44aee3662972374a580c3626d6ae","modified":1594997226820},{"_id":"themes/next/languages/ja.yml","hash":"2ae7eab656892187a6cc307df7444249911904e8","modified":1594997226820},{"_id":"themes/next/languages/ko.yml","hash":"822eaf0913049f87452c9485d72915908bb09732","modified":1594997226820},{"_id":"themes/next/languages/nl.yml","hash":"3dd7ddae143f2038d6aa5d70c28e6775b770bf63","modified":1594997226820},{"_id":"themes/next/languages/pt-BR.yml","hash":"f61c047f0695ff2ad4682c675a110e14384bf94e","modified":1594997226820},{"_id":"themes/next/languages/pt.yml","hash":"f83b016e5e0cca640aac83d429640207f2b0496f","modified":1594997226821},{"_id":"themes/next/languages/ru.yml","hash":"312dba201270278da350b1222e5f9c533e6f3213","modified":1594997226821},{"_id":"themes/next/languages/tr.yml","hash":"02e8d1cc0a453285e587e75ec494a53c30333c75","modified":1594997226821},{"_id":"themes/next/languages/vi.yml","hash":"d2467c03dd668438232750527c041c026ff540bd","modified":1594997226821},{"_id":"themes/next/languages/zh-CN.yml","hash":"3a384fc54cabf06d6fb5c67b9b99460751c37067","modified":1594997226821},{"_id":"themes/next/languages/zh-HK.yml","hash":"246e156494819b7dccd01c7d4540d6a4d8486c0d","modified":1594997226821},{"_id":"themes/next/languages/zh-TW.yml","hash":"26fdc215c89bb7b7d980fe123dcdcc27e111dc58","modified":1594997226822},{"_id":"themes/next/layout/_layout.swig","hash":"4b7a12e8acbfd782301eb30dbd4c85056a0a9ff7","modified":1594997226823},{"_id":"themes/next/layout/archive.swig","hash":"2b6450c6b6d2bcbcd123ad9f59922a5e323d77a5","modified":1594997226843},{"_id":"themes/next/layout/category.swig","hash":"5d955284a42f802a48560b4452c80906a5d1da02","modified":1594997226843},{"_id":"themes/next/layout/index.swig","hash":"c2a3896c64e96790edc10426ef586b6186a87f46","modified":1594997226843},{"_id":"themes/next/layout/page.swig","hash":"862b361852fb6d7a95bfb6077922410a33cd3126","modified":1594997226843},{"_id":"themes/next/layout/post.swig","hash":"318249db246a57e9422875a2457c6acfce974ba5","modified":1594997226843},{"_id":"themes/next/layout/schedule.swig","hash":"3268dd3d90d8b0e142cfa1a2ebb23355baeda148","modified":1594997226844},{"_id":"themes/next/layout/tag.swig","hash":"ba402ce8fd55e80b240e019e8d8c48949b194373","modified":1594997226844},{"_id":"themes/next/scripts/merge-configs.js","hash":"33afe97284d34542015d358a720823feeebef120","modified":1594997226845},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1594997226846},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1594997226877},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1594997226878},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1594997226878},{"_id":"source/_posts/flutter.md","hash":"cd8c60cf4a5c0d94fd979da195f26d01ae2d4913","modified":1594997226700},{"_id":"source/_posts/hello-world.md","hash":"6a1f255c30473d47554ef468242afa57922702c1","modified":1595253982474},{"_id":"source/_posts/markdown.md","hash":"49c8baad3ded8ca831cf2e6c131eb1442d41de38","modified":1594997226702},{"_id":"source/about/index.md","hash":"32cc02d6cd66e8d531d0f7705538666e24588ea0","modified":1594997226719},{"_id":"source/admire/index.md","hash":"c933e87d6666b9f111fa76910ae15574442788b1","modified":1594997226719},{"_id":"source/tags/index.md","hash":"51b8bc2ff413c4f729ea4ee2f977bb2b7979d604","modified":1594997226782},{"_id":"source/categories/index.md","hash":"1aa54b6641e17502efeac99442efa270da9f45ad","modified":1594997226719},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226869},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"6855402e2ef59aae307e8bd2a990647d3a605eb8","modified":1594997226816},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"a45a791b49954331390d548ac34169d573ea5922","modified":1594997226817},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"bd2c955d9b7b1b45bd74a4536717d547e03fcde3","modified":1594997226817},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"f3eec572a7d83542e2710a7404082014aaa1a5e7","modified":1594997226817},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"b19a6e0ae96eb7c756fb5b1ba03934c7f9cbb3c3","modified":1594997226817},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"24cf2618d164440b047bb9396263de83bee5b993","modified":1594997226818},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"8ac2f5d2a023211d8d8ea626cbf6b8dea67ac201","modified":1594997226818},{"_id":"themes/next/docs/zh-CN/README.md","hash":"aa6808f4f587c1a97205fa9427ba96a366bcb288","modified":1594997226818},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"5da70d7fa0c988a66a469b9795d33d471a4a4433","modified":1594997226818},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"d6d20f60f77a76c77f8e65d0c9adbd79d0274557","modified":1594997226815},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"6c5d69e94961c793da156217ecf1179e868d7ba1","modified":1594997226816},{"_id":"themes/next/docs/ru/README.md","hash":"c54e256ed11a84ee38f755d6f35a3e6e29a91dbc","modified":1594997226816},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"b1dd18d9b890b21718883ea1832e7e02a773104a","modified":1594997226816},{"_id":"themes/next/layout/_custom/head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1594997226822},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1594997226822},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1594997226822},{"_id":"themes/next/layout/_partials/breadcrumb.swig","hash":"6994d891e064f10607bce23f6e2997db7994010e","modified":1594997226825},{"_id":"themes/next/layout/_partials/comments.swig","hash":"dce2938bb54c3cef3319f09f2621b93bc41117a0","modified":1594997226825},{"_id":"themes/next/layout/_partials/footer.swig","hash":"07f88421bda86d9d5ff32d130b1cb1196b99a326","modified":1594997226826},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1aaf32bed57b976c4c1913fd801be34d4838cc72","modified":1594997226828},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"4a1709dfcf6e45c4d30ea59cfef9b9af4c398067","modified":1595260535679},{"_id":"themes/next/layout/_partials/post-copyright.swig","hash":"2f73cc9ffb63534f0b6d8f0e9ee853c1af1b1244","modified":1594997226828},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"11e71bb85f9ee2c08380c6397e715c803d7099fe","modified":1595260120980},{"_id":"themes/next/layout/_macro/post-related.swig","hash":"08fe30ce8909b920540231e36c97e28cfbce62b6","modified":1594997226824},{"_id":"themes/next/layout/_macro/post.swig","hash":"973b5a7da1817adf8df39e95d0a5e943984d564c","modified":1594997226824},{"_id":"themes/next/layout/_macro/reward.swig","hash":"64d65d9ad0cc94734ac6ded279e2b5dc870a1cab","modified":1594997226824},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"da95814699e867bacdeb3f56a2ba737186e9e974","modified":1595263577282},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"a9e1346b83cf99e06bed59a53fc069279751e52a","modified":1594997226824},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"0a0129e926c27fffc6e7ef87fe370016bc7a4564","modified":1594997226830},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"6fc63d5da49cb6157b8792f39c7305b55a0d1593","modified":1594997226830},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"ac3ad2c0eccdf16edaa48816d111aaf51200a54b","modified":1594997226831},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"f380a10c792411eff82204305b097a288ed0b423","modified":1594997226832},{"_id":"themes/next/layout/_third-party/bookmark.swig","hash":"60001c8e08b21bf3a7afaf029839e1455340e95d","modified":1594997226835},{"_id":"themes/next/layout/_third-party/copy-code.swig","hash":"a8ab2035654dd06d94faf11a35750529e922d719","modified":1594997226837},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"f532ce257fca6108e84b8f35329c53f272c2ce84","modified":1594997226837},{"_id":"themes/next/layout/_third-party/github-banner.swig","hash":"be6008b8cf76c84278a1cd6480b8f902217acec0","modified":1595260120965},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"927f19160ae14e7030df306fc7114ba777476282","modified":1594997226838},{"_id":"themes/next/layout/_third-party/pangu.swig","hash":"6b75c5fd76ae7cf0a7b04024510bd5221607eab3","modified":1594997226838},{"_id":"themes/next/layout/_third-party/pdf.swig","hash":"def2736c8c10170712ff36dea220243b0c1858af","modified":1594997226839},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1594997226839},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1594997226839},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"b0ca46e0d1ff4c08cb0a3a8c1994f20d0260cef9","modified":1594997226840},{"_id":"themes/next/scripts/helpers/engine.js","hash":"60eb1554456d9d0e5afc4a2d16f1580a0aa02da8","modified":1594997226845},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"debe1332a472fc72884468a32417a4666ae84d9e","modified":1595259873861},{"_id":"themes/next/scripts/tags/button.js","hash":"4b12c376bea894d23cca0f9fcb3d6518b6db279d","modified":1594997226846},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"f13430d9d1c9773b390787c2f046bb1f12a79878","modified":1594997226846},{"_id":"themes/next/scripts/tags/exturl.js","hash":"7ded3e7a78380b32de3e12f156e0978ef5c2890a","modified":1594997226847},{"_id":"themes/next/scripts/tags/full-image.js","hash":"e282bf5a7c70b3d354001e8f66d3bef1a4fbb79e","modified":1594997226847},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"981e01aaf45a1f0f23ce0796d03134f9e437aaca","modified":1594997226847},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"5db59d56f4f4082382bf1c16722e6c383892b0c5","modified":1594997226847},{"_id":"themes/next/scripts/tags/label.js","hash":"f0ecd3b5773b19a6bd93a819dfe0c49ee418e4de","modified":1594997226847},{"_id":"themes/next/scripts/tags/note.js","hash":"adb945ba93ac487d46b969ca4e59d3681b8f8d1c","modified":1594997226847},{"_id":"themes/next/scripts/tags/tabs.js","hash":"e37761253d68a29593fe9ed2fe403f49b6e971de","modified":1594997226848},{"_id":"themes/next/source/css/main.styl","hash":"c26ca6e7b5bd910b9046d6722c8e00be672890e0","modified":1594997226869},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1594997226869},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1594997226869},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1594997226869},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1594997226870},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1594997226870},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1594997226870},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1594997226870},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1594997226870},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1594997226870},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1594997226870},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1594997226870},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1594997226871},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1594997226871},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1594997226871},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1594997226871},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1594997226871},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1594997226871},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1594997226871},{"_id":"source/_posts/cloudiajs/claudiajs-get-started.md","hash":"4ba00b8661831fb32d82b81859029c451b1adab4","modified":1594997226699},{"_id":"source/_posts/cloudiajs/claudiajs-rest-api.md","hash":"26d9bce4907425a9e7f58915231b503e430f9071","modified":1594997226699},{"_id":"source/_posts/docker/docker-mysql-galera.md","hash":"8aa99b2050c61db198d830fc905a31650c267430","modified":1594997226699},{"_id":"source/_posts/docker/docker-redis.md","hash":"c11f1bfce7b6d02fcbe38d6f4689ff6a4be9e2f7","modified":1594997226700},{"_id":"source/_posts/docker/docker.md","hash":"b2e1ae71265c36a284c901ee9cc09f753b962ca5","modified":1594997226700},{"_id":"source/_posts/ionic/ionic-app-play-store-registration.md","hash":"b3ec00de108b7338f838675283ceb7ac7b6b9a7d","modified":1594997226700},{"_id":"source/_posts/ionic/ionic-get-started.md","hash":"27c8ce08bfc6c40c63443c4c00559aa9c406dc08","modified":1594997226700},{"_id":"source/_posts/ionic/ionic-make-android-jar.md","hash":"608ca6e5f2a5ba8bf55a267fd3b925df43f143a7","modified":1594997226701},{"_id":"source/_posts/ionic/ionic-prototype-app-development.md","hash":"341c05660657f2b6046c2d50bcdf8acdf67275ac","modified":1594997226701},{"_id":"source/_posts/ionic/ionic-set-environment.md","hash":"c63fa8b528d6ce76b374f9d706e39b804b1d2988","modified":1594997226701},{"_id":"source/_posts/nodejs/nodejs-passport.md","hash":"ae0d89aba21480c299621c6c2fc739597c00bd3e","modified":1594997226702},{"_id":"source/_posts/nodejs/npm-registry.md","hash":"3b60ccd78cbd2c1b52a3f5b6858379a474e90623","modified":1594997226702},{"_id":"source/images/flutter/new_flutter_prj.png","hash":"93fc1df64813067400d08edeeb8191f32c8f353d","modified":1594997226720},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226831},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226831},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226868},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226869},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226864},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226864},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1594997226865},{"_id":"source/images/flutter/created_flutter_app.png","hash":"58e559a758b882e6a176cd435caa6bd061d14c2a","modified":1594997226720},{"_id":"source/images/ionic/deal_list.webp","hash":"fab22ff65bb3718ea2eed47327714dba4bf5057d","modified":1594997226752},{"_id":"source/images/ionic/folder_structure.png","hash":"dcf28a52ca938b027ccaafbaa0bf7bdaa069db08","modified":1594997226753},{"_id":"source/images/ionic/play_store_menu.png","hash":"85c9be11515099c71034c5119695e5e5c4c1f8bc","modified":1594997226758},{"_id":"source/images/npm-registry/create_acc.png","hash":"a57710b318e9f75b6567d859b1716e6425880290","modified":1594997226761},{"_id":"source/images/npm-registry/set_realms.png","hash":"cb368acefc6dd020a6ae773c42c0ca0fe093c6fd","modified":1594997226763},{"_id":"source/images/npm-registry/set_role.png","hash":"ba6dcd8ea7773fc2da758202a1fb2b5c70ce73e6","modified":1594997226764},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1594997226826},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"a7e376b087ae77f2e2a61ba6af81cde5af693174","modified":1594997226827},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"7d397010a2bb1f32a16dceac98857b7e75b5ee64","modified":1595261973327},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"fd780171713aada5eb4f4ffed8e714617c8ae6be","modified":1594997226827},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"2082f5077551123e695e8afec471c9c44b436acb","modified":1594997226827},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"3db735d0cd2d449edf2674310ac1e7c0043cb357","modified":1594997226828},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"88b4b6051592d26bff59788acb76346ce4e398c2","modified":1594997226828},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"a33b29ccbdc2248aedff23b04e0627f435824406","modified":1594997226829},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1594997226829},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1594997226829},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1594997226829},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1594997226830},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1594997226830},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1594997226830},{"_id":"themes/next/layout/_macro/menu/menu-badge.swig","hash":"65c5e585982dae7ae1542cada71858b4ea1f73d6","modified":1594997226823},{"_id":"themes/next/layout/_macro/menu/menu-item.swig","hash":"a152d172ac8f6f62d4b49c2f300decd8811c3869","modified":1595259873853},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"cc865af4a3cb6d25a0be171b7fc919ade306bb50","modified":1594997226831},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"ea03fe9c98ddcfcc0ecfdbe5a2b622f9cde3b3a1","modified":1594997226831},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"ea03fe9c98ddcfcc0ecfdbe5a2b622f9cde3b3a1","modified":1594997226832},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1594997226832},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1594997226833},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1594997226833},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"07307f1f0e0e9858f2c7143cbdfcb2a9a92149ab","modified":1594997226833},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1594997226833},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1594997226833},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"fae69a0e1a1d42f7bb44e594a29857d94594698b","modified":1594997226834},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"beb53371c035b62e1a2c7bb76c63afbb595fe6e5","modified":1594997226834},{"_id":"themes/next/layout/_third-party/analytics/growingio.swig","hash":"5dbeb640707a9c91357e373b9063a48c8e78f439","modified":1594997226834},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"438c6f5e6665d72f4ea7ee206011d669246f6102","modified":1594997226834},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"c28f3f4aa31d7f996d26a97df6cd7ffa9bfd2cec","modified":1594997226835},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1594997226835},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1594997226835},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1594997226835},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1594997226836},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"03ef008bc95e8e83232e5464a6c63d6157d33a5e","modified":1594997226836},{"_id":"themes/next/layout/_third-party/comments/gitalk.swig","hash":"c4adbde0ef775e475146fbeb2be03568e16a1c73","modified":1594997226836},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"fe8177e4698df764e470354b6acde8292a3515e0","modified":1594997226836},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"9809d63a4234c5f268ff0b489579149b849728fc","modified":1594997226836},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"2c74a96dd314e804d801f8773ac1b2e0a970fce3","modified":1594997226837},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"34421679cae6581697cd3ab7c3729eb220e3e3f5","modified":1594997226837},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"a6fc00ec7f5642aabd66aa1cf51c6acc5b10e012","modified":1594997226838},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"97dbc2035bcb5aa7eafb80a4202dc827cce34983","modified":1594997226838},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"15cae4ebac6e86fe22cf1eb3034be4d5049b410b","modified":1594997226838},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1594997226841},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"b15e10abe85b4270860a56c970b559baa258b2a8","modified":1594997226841},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1594997226842},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1594997226842},{"_id":"themes/next/scripts/filters/after_post_render/exturl.js","hash":"9c9f61b7bfb3349b03b1e61355f20232044b5fd8","modified":1594997226845},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1594997226864},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"e1f6f59ad6e562dfe640ee4ed5d1ac9b6aba4114","modified":1594997226868},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1594997226868},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c167eeb6b736f7b021fba98c38c2c21032ee1255","modified":1594997226868},{"_id":"themes/next/source/css/_variables/base.styl","hash":"f9b83d0385529e52ce7ba95ed5ed6b3d4e2419bb","modified":1594997226869},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1594997226864},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"2640a54fa63bdd4c547eab7ce2fc1192cf0ccec8","modified":1594997226864},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"086f5979b3de091c3378512e6c5c2f8fcb4f6298","modified":1594997226865},{"_id":"themes/next/source/js/src/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1594997226871},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1594997226872},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"1c41508b83cb0c4512e64b4d63afa1be954ce8ef","modified":1594997226872},{"_id":"themes/next/source/js/src/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1594997226872},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1594997226872},{"_id":"themes/next/source/js/src/motion.js","hash":"b45d2c0d48f2c8e6a0621b8063845f76b89476cc","modified":1594997226872},{"_id":"themes/next/source/js/src/post-details.js","hash":"0dde5e6d4547587662a3256317a9d5d1db507692","modified":1594997226873},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1594997226873},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1594997226874},{"_id":"themes/next/source/js/src/utils.js","hash":"28a79d317b7f4012917a54cac770551596bf6241","modified":1594997226874},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1594997226877},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1594997226877},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1594997226877},{"_id":"source/images/ionic/p2p_statistics.webp","hash":"985a58f6667e81df11abda1b96c9010403e869a8","modified":1594997226756},{"_id":"source/images/npm-registry/create_repo.png","hash":"83eae23fd810226a2224a681cad82607924c0cbc","modified":1594997226762},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1594997226875},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"6958a97fde63e03983ec2394a4f8e408860fb42b","modified":1594997226840},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1594997226841},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"b4a2f1d031fe44452cf55ded8211cf018235073a","modified":1594997226848},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1594997226848},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1594997226848},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1594997226849},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1594997226849},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1594997226852},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1594997226859},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"aebbd86500d819c4532ab290c62b6f432bc2f878","modified":1594997226863},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"ec2a62400642bb69edd9259e74e8f1c8ed53c42b","modified":1594997226863},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1594997226863},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"efc40a32487e0ac7b94b1ca81bdbdcc4ec8f2924","modified":1594997226863},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1594997226864},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1594997226864},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"02d138ed65060e98f20bc5b1dd59a791222b7156","modified":1594997226864},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"665b1813a1d6fbc3c5549a76e4f26cd62a804dde","modified":1594997226865},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"0bef9f0dc134215bc4d0984ba3a16a1a0b6f87ec","modified":1594997226865},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1594997226865},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1594997226866},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1594997226865},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"5e12572b18846250e016a872a738026478ceef37","modified":1594997226866},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"fe2dc74726a515549956d233becda188da64f948","modified":1594997226866},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"2212511ae14258d93bec57993c0385e5ffbb382b","modified":1594997226866},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"876b5d99061025cf485a3cac440624ded5734319","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"f26860978fc4e011758945db5d0f79105ac84fae","modified":1594997226868},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"74c7dccf0a3ee9fc2ca25ad8e998243191813a0e","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1594997226868},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"5779cc8086b1cfde9bc4f1afdd85223bdc45f0a0","modified":1594997226868},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"ffa870c3fa37a48b01dc6f967e66f5df508d02bf","modified":1594997226868},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"d5e8ea6336bc2e237d501ed0d5bbcbbfe296c832","modified":1594997226867},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"936132428a0d35b3947ccedd4c379940abcf223a","modified":1594997226867},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"72037e8c4202a73b0c6ff7d81b57cd349e836837","modified":1594997226873},{"_id":"source/images/flutter/virtual_device.png","hash":"9328d41f8a6518026819e111c21ea774f8cc25f9","modified":1594997226722},{"_id":"source/images/ionic/play_store.png","hash":"efba53df109c7f5a315021569fd3f8f62635e979","modified":1594997226757},{"_id":"source/images/ionic/ios_setting.png","hash":"c5012e5980888eee2d80c5148ccb25fe5938791f","modified":1594997226754},{"_id":"themes/next/source/css/_common/components/header/github-banner.styl","hash":"ee37e6c465b9b2a7e39175fccfcbed14f2db039b","modified":1594997226849},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"39dee82d481dd9d44e33658960ec63e47cd0a715","modified":1594997226849},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"05e68adae13f4d99a6ac6493daab39c92e39a6bd","modified":1594997226850},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1594997226850},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1594997226850},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"7cc3f36222494c9a1325c5347d7eb9ae53755a32","modified":1594997226850},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1594997226850},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1594997226851},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"a6dc3c7eb81ef5117c28fa2245fff1adc02d0292","modified":1594997226851},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1594997226851},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"a1eeceea4b88fba184408cb2507bbef1f5e7b0e0","modified":1594997226851},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"7dd9a0378ccff3e4a2003f486b1a34e74c20dac6","modified":1594997226851},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"fb451dc4cc0355b57849c27d3eb110c73562f794","modified":1594997226852},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1594997226852},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1594997226852},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"f2911a048e5c20ca2a059bd1087d98ac1c51681c","modified":1594997226852},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"3b5a37ba5e70f92c1ee707c8053524e38adbb710","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"2356226157e8068b0e9bbe2f7d0f74e1ab49199b","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"ca89b167d368eac50a4f808fa53ba67e69cbef94","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"417f05ff12a2aaca6ceeac8b7e7eb26e9440c4c3","modified":1594997226853},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"549a8a0b5301d32acd86a97f17340cdfcd46fb63","modified":1594997226854},{"_id":"themes/next/source/css/_common/components/post/post-reading_progress.styl","hash":"f4e9f870baa56eae423a123062f00e24cc780be1","modified":1594997226854},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1594997226854},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1594997226854},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1594997226854},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"578bb2d5f24cad39205bbafb4c39c7e9962b9fa9","modified":1594997226855},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"8e058c99dd7d41f0bd34c7c28b6ac9fbb17dcb5e","modified":1594997226854},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"3039df53b94b0847b0c451d2d227270b479cc184","modified":1594997226855},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"35c0350096921dd8e2222ec41b6c17a4ea6b44f2","modified":1594997226855},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1594997226857},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"e18b90c97aaff027e795f5a0cb10476a71bf1c3a","modified":1594997226856},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1594997226857},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1594997226857},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"43bc58daa8d35d5d515dc787ceb21dd77633fe49","modified":1594997226858},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1594997226858},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1594997226858},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"4427ed3250483ed5b7baad74fa93474bd1eda729","modified":1594997226857},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1594997226859},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1594997226860},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"6ec8ea7b11a146777b6b8da0f71f0cc1dbd129df","modified":1594997226859},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1594997226860},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1594997226860},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1594997226861},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1594997226861},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"5e340ee2407a4e39cd708794cfcc718a5f398d7b","modified":1594997226861},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1594997226862},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"10e9bb3392826a5a8f4cabfc14c6d81645f33fe6","modified":1594997226861},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1594997226862},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"ac7753d536341aa824d7bce0332735e838916995","modified":1594997226862},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1594997226862},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1594997226862},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1594997226862},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"fcb8d1f2cffaa418b7c471e0238e101ea0025d0e","modified":1594997226863},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"76937db9702053d772f6758d9cea4088c2a6e2a3","modified":1594997226863},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1594997226866},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1594997226866},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1594997226867},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1594997226876},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"b34bb2ea4d16e47e6fdc06cd4feb32d93ccbd779","modified":1594997226856},{"_id":"source/images/jenkins/1.png","hash":"c5fa45241d6b1cf226350e12e2ba35f9f6f26425","modified":1594997226760},{"_id":"source/about/i_want_what_you_have.jpg","hash":"8ee7b845b60143308c72b28fe6e88fd571c4647e","modified":1594997226718},{"_id":"public/about/index.html","hash":"9d146c9b7eba73957a32a980a052a21dc41f03cd","modified":1647868521492},{"_id":"public/tags/index.html","hash":"1bde514b76c093589f1cf9ea810827b43ddbdc87","modified":1647868521492},{"_id":"public/admire/index.html","hash":"e704fade5920824c82fa050762eb667635224431","modified":1647868521492},{"_id":"public/categories/index.html","hash":"e61143ef119fd3e6501c08ea4853dfbe1fe19b29","modified":1647868521492},{"_id":"public/2019/06/29/docker/docker-redis/index.html","hash":"501307d9d2a3cc2587247e7620adea73bb4ab91f","modified":1647868521492},{"_id":"public/2019/06/29/docker/docker-mysql-galera/index.html","hash":"65d9a99fb918890f0e21237928637927e2beae2f","modified":1647868521492},{"_id":"public/2019/02/24/nodejs/npm-registry/index.html","hash":"5ee54124c47e93f4aa1ddbce747a0bb5af7dc1ef","modified":1647868521492},{"_id":"public/2019/02/24/docker/docker/index.html","hash":"1dde7a67601eee38844e03e3e24f49adc5aad7b9","modified":1647868521492},{"_id":"public/2019/02/17/nodejs/nodejs-passport/index.html","hash":"7fce1b658a8648462ad079dd800292bf4b7be788","modified":1647868521492},{"_id":"public/2019/02/04/ionic/ionic-set-environment/index.html","hash":"85d303d1360e03dd5f042a163f2d5a278bc5e9b7","modified":1647868521492},{"_id":"public/2019/02/04/ionic/ionic-make-android-jar/index.html","hash":"b0bee9063bcfe328fc567aef26e8f194406c2391","modified":1647868521492},{"_id":"public/2019/02/04/ionic/ionic-app-play-store-registration/index.html","hash":"78755deb74a0c9058bc6333b6d064f829848a374","modified":1647868521492},{"_id":"public/2019/01/19/cloudiajs/claudiajs-rest-api/index.html","hash":"688db3f2261a005660084e40f497bde7b9442c36","modified":1647868521492},{"_id":"public/2019/02/04/ionic/ionic-prototype-app-development/index.html","hash":"a325e838289e6db187b50bf86bdd126fd636639d","modified":1647868521492},{"_id":"public/2019/01/19/cloudiajs/claudiajs-get-started/index.html","hash":"299bc1f017d932a616029add7ad6b3d01410d08f","modified":1647868521492},{"_id":"public/2019/02/04/ionic/ionic-get-started/index.html","hash":"7784d0cbd60731717628e3770406000f8e32c2b4","modified":1647868521492},{"_id":"public/2019/01/18/flutter/index.html","hash":"ba467de3dcfa36f6eb7c0e9e9128a17861d5c575","modified":1647868521492},{"_id":"public/2019/01/12/markdown/index.html","hash":"d62455273d0b6e3aabbb8681df1ed46f6bdbeec5","modified":1647868521492},{"_id":"public/archives/page/2/index.html","hash":"147640c24faaa2c3654ad0ea81ce205efd1a2c1d","modified":1647868521492},{"_id":"public/archives/index.html","hash":"51d12e19c9433eb9d5e2381c3ed6ed34a8603e8e","modified":1647868521492},{"_id":"public/2018/12/28/hello-world/index.html","hash":"bf30f17f56aa406df79116734e11ee3f99bf6588","modified":1647868521492},{"_id":"public/archives/2018/index.html","hash":"5c8d8db1d602dcafed9784d819e62b8694b24746","modified":1647868521492},{"_id":"public/archives/2018/12/index.html","hash":"cc93f1ddc8e1dc3242797361b08a157b4f0371bc","modified":1647868521492},{"_id":"public/archives/2019/index.html","hash":"4c93c016ced5a65fb664b7a31b09593ef4c64485","modified":1647868521492},{"_id":"public/archives/2019/page/2/index.html","hash":"2b2ea079c61b9d5444f22e13061fb5f99c2d0b9a","modified":1647868521492},{"_id":"public/archives/2019/01/index.html","hash":"23505e14214d9fc9c7b9d06853470dbbab9ae0db","modified":1647868521492},{"_id":"public/archives/2019/02/index.html","hash":"d107c15e88623c0c6b97a7099b8056e36e65c491","modified":1647868521492},{"_id":"public/archives/2019/06/index.html","hash":"70ce6788ff145accc0a2fd1866fcb706875bb334","modified":1647868521492},{"_id":"public/categories/flutter/index.html","hash":"bed61202351b349bb260e767c52cf0bb96c03c98","modified":1647868521492},{"_id":"public/categories/hexo/index.html","hash":"05eb9d543a91fb441163bfbbffbe8babf629bfb5","modified":1647868521492},{"_id":"public/categories/claudiajs/index.html","hash":"aa5b81c2d0331b1985580b9ac34ebd5323a7367b","modified":1647868521492},{"_id":"public/categories/markdown/index.html","hash":"1ff65be1940a1339b854ec2a868cad1fbf03d73b","modified":1647868521492},{"_id":"public/categories/docker/index.html","hash":"bf17849fe8941c51d43c9d9d04474d5211dc1472","modified":1647868521492},{"_id":"public/categories/nodejs/index.html","hash":"9daba6907a1c08d56388f6e391f0f37dd02e9589","modified":1647868521492},{"_id":"public/categories/ionic/index.html","hash":"64f3933ab1aa6e8ddc5dabf5c9c7065ba7920752","modified":1647868521492},{"_id":"public/index.html","hash":"5deab202135371052bef3c8066b68e821bdeb458","modified":1647868521492},{"_id":"public/page/2/index.html","hash":"9ae9029cba981796dc2f2d1389d28bcccef0a065","modified":1647868521492},{"_id":"public/page/4/index.html","hash":"adecec7594360d1abdd5ed0a95eb3b1e5b9c1e66","modified":1647868521492},{"_id":"public/page/3/index.html","hash":"c4f2cc8adbbc968483f84dc784a1a3cdd4b9fc73","modified":1647868521492},{"_id":"public/page/5/index.html","hash":"ace0e47d3333c6776e2f01efe89f4ef33492dae3","modified":1647868521492},{"_id":"public/page/6/index.html","hash":"10f83c48501125075ac77cf6b013da4ad16737de","modified":1647868521492},{"_id":"public/page/7/index.html","hash":"1aa408bfd58c360d7688277b5ed5a14c459a3628","modified":1647868521492},{"_id":"public/page/8/index.html","hash":"d06c19cecd21e299543b066285b8d87a3ac5d6d9","modified":1647868521492},{"_id":"public/tags/mobile/index.html","hash":"c0c979d228d0ad83a366d7294b0d3cc6379aa13f","modified":1647868521492},{"_id":"public/tags/flutter/index.html","hash":"3031ebdd22d6ab10e9b70253769481a96a5e5a50","modified":1647868521492},{"_id":"public/tags/hexo/index.html","hash":"8075b9334e173a850b2be4e688718ff48fe9eb5b","modified":1647868521492},{"_id":"public/tags/markdown/index.html","hash":"b6a41742b1c123b42699e9fe2608e306d0166520","modified":1647868521492},{"_id":"public/tags/aws/index.html","hash":"53dfc25f8144e50db6d95a1b3c8dfddbed5e4d05","modified":1647868521492},{"_id":"public/tags/lambda/index.html","hash":"441ee586b61e3fd4b51c3c4081a85164fa4a7bfb","modified":1647868521492},{"_id":"public/tags/claudiajs/index.html","hash":"d0cd02f87492c7b1ec438059e5bab60e689c5541","modified":1647868521492},{"_id":"public/tags/docker/index.html","hash":"a6e2ced6d4ff477c3193df39ea2d0db9eed2c14b","modified":1647868521492},{"_id":"public/tags/container/index.html","hash":"0040473c50a3505552c187883f3b9a94d5b63697","modified":1647868521492},{"_id":"public/tags/swarm/index.html","hash":"283e6c1e3274156dcc3fe7b16a0d5bbbb07c3d87","modified":1647868521492},{"_id":"public/tags/redis/index.html","hash":"c18ef495a3ef7e569796b09819297be5704538f7","modified":1647868521492},{"_id":"public/tags/sentinel/index.html","hash":"0ff57799cd0c1111d65c76cc247cfbd1b0f276db","modified":1647868521492},{"_id":"public/tags/docker-compose/index.html","hash":"85e2646c8ced6f4e60b6fbd91653380cb56c056a","modified":1647868521492},{"_id":"public/tags/vagrant/index.html","hash":"1b94f5c7a056d60d83753e94ebdfce6e0f4eb40a","modified":1647868521492},{"_id":"public/tags/ionic/index.html","hash":"e4fbb35260700a5fcbf0e251e800c9bf7f52ac62","modified":1647868521492},{"_id":"public/tags/android/index.html","hash":"d4976c083c7c7969032510749e6f88c3283b90dc","modified":1647868521492},{"_id":"public/tags/play-store/index.html","hash":"41e4f60fe93c5091820434d98a823575d5ce6a30","modified":1647868521492},{"_id":"public/tags/angular/index.html","hash":"0c37ef1a25f1ac51368129b5bae6b374125b3ac2","modified":1647868521492},{"_id":"public/tags/nodejs/index.html","hash":"c36f6b39c362e2c769e7e47622a0e638f7dd0e6c","modified":1647868521492},{"_id":"public/tags/express/index.html","hash":"13d639bdbf23f00a5efc58afa2a19caba465180b","modified":1647868521492},{"_id":"public/tags/passport/index.html","hash":"6c8024e1a6530b5d7b7eb43fea48a271f1d12bd3","modified":1647868521492},{"_id":"public/tags/authentication/index.html","hash":"3fa29dce087746c6c050aa444efdaad95f2a7f61","modified":1647868521492},{"_id":"public/tags/npm/index.html","hash":"d4c4ee21ed12f5392eaef7f6de4ad5f5e1580549","modified":1647868521492},{"_id":"public/tags/nexus/index.html","hash":"ba71a6686b4b03421afa24ec53fa18fe715c3348","modified":1647868521492},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1647868521492},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1647868521492},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1647868521492},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1647868521492},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1647868521492},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1647868521492},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1647868521492},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1647868521492},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1647868521492},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1647868521492},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1647868521492},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1647868521492},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1647868521492},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1647868521492},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1647868521492},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1647868521492},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1647868521492},{"_id":"public/images/flutter/new_flutter_prj.png","hash":"93fc1df64813067400d08edeeb8191f32c8f353d","modified":1647868521492},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1647868521492},{"_id":"public/images/flutter/created_flutter_app.png","hash":"58e559a758b882e6a176cd435caa6bd061d14c2a","modified":1647868521492},{"_id":"public/images/ionic/play_store_menu.png","hash":"85c9be11515099c71034c5119695e5e5c4c1f8bc","modified":1647868521492},{"_id":"public/images/npm-registry/set_realms.png","hash":"cb368acefc6dd020a6ae773c42c0ca0fe093c6fd","modified":1647868521492},{"_id":"public/images/npm-registry/create_acc.png","hash":"a57710b318e9f75b6567d859b1716e6425880290","modified":1647868521492},{"_id":"public/css/main.css","hash":"574b660dfcbacdb54d8ab2f0d531ecfe95deb3ea","modified":1647868521492},{"_id":"public/js/src/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1647868521492},{"_id":"public/js/src/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1647868521492},{"_id":"public/js/src/bootstrap.js","hash":"1c41508b83cb0c4512e64b4d63afa1be954ce8ef","modified":1647868521492},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1647868521492},{"_id":"public/js/src/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1647868521492},{"_id":"public/js/src/motion.js","hash":"b45d2c0d48f2c8e6a0621b8063845f76b89476cc","modified":1647868521492},{"_id":"public/js/src/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1647868521492},{"_id":"public/js/src/post-details.js","hash":"0dde5e6d4547587662a3256317a9d5d1db507692","modified":1647868521492},{"_id":"public/js/src/utils.js","hash":"28a79d317b7f4012917a54cac770551596bf6241","modified":1647868521492},{"_id":"public/js/src/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1647868521492},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1647868521492},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1647868521492},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1647868521492},{"_id":"public/js/src/schemes/pisces.js","hash":"72037e8c4202a73b0c6ff7d81b57cd349e836837","modified":1647868521492},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1647868521492},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1647868521492},{"_id":"public/images/ionic/folder_structure.png","hash":"dcf28a52ca938b027ccaafbaa0bf7bdaa069db08","modified":1647868521492},{"_id":"public/images/ionic/deal_list.webp","hash":"fab22ff65bb3718ea2eed47327714dba4bf5057d","modified":1647868521492},{"_id":"public/images/npm-registry/set_role.png","hash":"ba6dcd8ea7773fc2da758202a1fb2b5c70ce73e6","modified":1647868521492},{"_id":"public/images/ionic/p2p_statistics.webp","hash":"985a58f6667e81df11abda1b96c9010403e869a8","modified":1647868521492},{"_id":"public/images/npm-registry/create_repo.png","hash":"83eae23fd810226a2224a681cad82607924c0cbc","modified":1647868521492},{"_id":"public/images/ionic/play_store.png","hash":"efba53df109c7f5a315021569fd3f8f62635e979","modified":1647868521492},{"_id":"public/images/flutter/virtual_device.png","hash":"9328d41f8a6518026819e111c21ea774f8cc25f9","modified":1647868521492},{"_id":"public/images/ionic/ios_setting.png","hash":"c5012e5980888eee2d80c5148ccb25fe5938791f","modified":1647868521492},{"_id":"public/images/jenkins/1.png","hash":"c5fa45241d6b1cf226350e12e2ba35f9f6f26425","modified":1647868521492},{"_id":"public/about/i_want_what_you_have.jpg","hash":"8ee7b845b60143308c72b28fe6e88fd571c4647e","modified":1647868521492},{"_id":"source/_posts/algorithm/programmers/완주하지 못한 선수.md","hash":"bc5c2c1977121b6654a148bb065be593894c5980","modified":1647871492192},{"_id":"source/_posts/algorithm/programmers/test.md","hash":"d7a3a808d14b085dc38c7326814a482efda9e16f","modified":1647868473928},{"_id":"public/archives/2022/index.html","hash":"03c33107c5565adacfa8f0b4d66082d1af7ae51a","modified":1647868521492},{"_id":"public/archives/2022/03/index.html","hash":"1207d6822a4cf04e0f89daf3a5992b869b94987c","modified":1647868521492},{"_id":"public/categories/algorithm/index.html","hash":"8a613efd9a9eca0c55ecbe87f3c9e34bef271c58","modified":1647868521492},{"_id":"public/tags/programmers/index.html","hash":"37b9b2f003ef7a98f4f8f90620b7de33ea7682ef","modified":1647868521492},{"_id":"public/tags/hash/index.html","hash":"0565612f1999a7f6c23f85a0cd068b8de63953df","modified":1647868521492},{"_id":"public/tags/level1/index.html","hash":"666d561fad32796791ee901a3134ad870717babc","modified":1647868521492},{"_id":"public/tags/java/index.html","hash":"d593e118417d1af6d830b097f4a562c68cbc48e2","modified":1647868521492},{"_id":"public/2022/03/21/algorithm/programmers/완주하지 못한 선수/index.html","hash":"9364be898b4e565411282aba35793e8d10ada157","modified":1647868521492}],"Category":[{"name":"flutter","_id":"ckculonty0004twuzd4vcpfue"},{"name":"hexo","_id":"ckculonu10009twuzo4jy68vx"},{"name":"markdown","_id":"ckculonu2000ctwuz2mj7v22k"},{"name":"claudiajs","_id":"ckculonvh000ntwuzp10nel3p"},{"name":"docker","_id":"ckculonvk000stwuz8ttdtagb"},{"name":"ionic","_id":"ckculonvt001dtwuz4eyh5a52"},{"name":"nodejs","_id":"ckculonvy001utwuznsy8io9i"},{"name":"algorithm","_id":"cl10q6e7g0001tyuz4efnfdkz"}],"Data":[],"Page":[{"title":"about","date":"2018-12-29T01:34:08.000Z","comments":0,"_content":"\n![](i_want_what_you_have.jpg \"i_want_what_you_have\")\n\nYou can see me on [Linkedin](https://www.linkedin.com/in/jiseob-kim/)🧐","source":"about/index.md","raw":"---\ntitle: about\ndate: 2018-12-29 10:34:08\ncomments: false\n---\n\n![](i_want_what_you_have.jpg \"i_want_what_you_have\")\n\nYou can see me on [Linkedin](https://www.linkedin.com/in/jiseob-kim/)🧐","updated":"2020-07-17T14:47:06.719Z","path":"about/index.html","layout":"page","_id":"ckculontv0001twuzocth1f2n","content":"<p><img src=\"i_want_what_you_have.jpg\" alt=\"\" title=\"i_want_what_you_have\"></p>\n<p>You can see me on <a href=\"https://www.linkedin.com/in/jiseob-kim/\" target=\"_blank\" rel=\"noopener\">Linkedin</a>🧐</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"i_want_what_you_have.jpg\" alt=\"\" title=\"i_want_what_you_have\"></p>\n<p>You can see me on <a href=\"https://www.linkedin.com/in/jiseob-kim/\" target=\"_blank\" rel=\"noopener\">Linkedin</a>🧐</p>\n"},{"title":"tags","date":"2018-12-29T01:26:41.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2018-12-29 10:26:41\ntype: \"tags\"\ncomments: false\n---\n","updated":"2020-07-17T14:47:06.782Z","path":"tags/index.html","layout":"page","_id":"ckculontx0003twuzhcktd268","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"admire","comments":0,"date":"2018-12-29T01:45:37.000Z","_content":"","source":"admire/index.md","raw":"---\ntitle: admire\ncomments: false\ndate: 2018-12-29 10:45:37\n---\n","updated":"2020-07-17T14:47:06.719Z","path":"admire/index.html","layout":"page","_id":"ckculonu00007twuzgwqlan25","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2018-12-29T01:26:20.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2018-12-29 10:26:20\ntype: \"categories\"\ncomments: false\n---\n","updated":"2020-07-17T14:47:06.719Z","path":"categories/index.html","layout":"page","_id":"ckculonu10008twuz1kk40uxp","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"flutter","date":"2019-01-18T05:49:46.000Z","_content":"\n## flutter 설치하기 \n\nflutter는 windows, mac, linux에 설치할 수 있다.\n\n### 시스템 요구사항\n- windows 7 이상\n- 400mb 이상 disk\n- powershell 5.0 이상 / git 사용가능 상태\n\n### SDK 설치(https://flutter.io/setup-windows/)\n1. SDK 다운로드 받기\n2. 다운받은 zip파일의 압축을 풀고 적당한 path에 옮기기\n3.  `flutter` 디렉토리에 있는 `flutter_console.bat`파일을 더블클릭해서 실행\n\n### 설정에 필요한 flutter 기본 command\n```jshelllanguage\n#setup 완료를 위해 필요한 디펜던시 확인하기\nflutter doctor\n#flutter 설정 확인하기\nflutter config\n```\n\n### 기타\n- flutter 업그레이드 하기 (https://flutter.io/upgrading/)\n- flutter path 설정하기 (일반적인 윈도우 프롬프트에서 flutter 커맨드를 사용하려면)\n  - 윈도우 환경설정 path에 `flutter\\bin;` 위치 추가하기\n  \n## android studio 설치\n\nIDE는 vs code, intellij, android studio를 지원한다. (https://flutter.io/get-started/editor/)\n\nandroid studio, flutter plugin 설치하기\n- file -> settings -> plugins, search flutter and install (dart plugin 같이 설치필요)\n\n\n## 프로젝트 생성하기 (android studio)\n\n1. flutter 프로젝트 생성\n![new flutter project](/images/flutter/new_flutter_prj.png \"create flutter project\")\n2. flutter application 선택 \n3. flutter sdk path 는 압축해제한 flutter 디렉토리 지정\n4. finish 하면 아래처럼 생성된 프로젝트를 확인할 수 있습니다.\n![main.dart](/images/flutter/created_flutter_app.png \"created flutter\")\n\n## device 설정하기 (android studio)\n\n- flutter는 Android API 16이상 device가 필요합니다.\n- tools -> AVD Manager -> Create Virtual Device...\n- tools -> SDK Manager (생성한 device api에 맞는 sdk를 설치해야 합니다.)\n- 가상 기기를 실행하면 android studio 에서 프로젝트를 실행할 수 있습니다.\n![virtual device](/images/flutter/virtual_device.png \"virtual device\")\n- command로 디바이스 확인하고 실행하기\n  - 디바이스 확인 : `flutter devices`\n  - 디바이스 실행 : `flutter run`\n\n## flutter package repository\nhttps://pub.dartlang.org/flutter/\n\n## flutter 공부하기 \n- free course : https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905","source":"_posts/flutter.md","raw":"---\ntitle: flutter\ndate: 2019-01-18 14:49:46\ntags:\n- mobile\n- flutter\ncategories:\n- flutter\n---\n\n## flutter 설치하기 \n\nflutter는 windows, mac, linux에 설치할 수 있다.\n\n### 시스템 요구사항\n- windows 7 이상\n- 400mb 이상 disk\n- powershell 5.0 이상 / git 사용가능 상태\n\n### SDK 설치(https://flutter.io/setup-windows/)\n1. SDK 다운로드 받기\n2. 다운받은 zip파일의 압축을 풀고 적당한 path에 옮기기\n3.  `flutter` 디렉토리에 있는 `flutter_console.bat`파일을 더블클릭해서 실행\n\n### 설정에 필요한 flutter 기본 command\n```jshelllanguage\n#setup 완료를 위해 필요한 디펜던시 확인하기\nflutter doctor\n#flutter 설정 확인하기\nflutter config\n```\n\n### 기타\n- flutter 업그레이드 하기 (https://flutter.io/upgrading/)\n- flutter path 설정하기 (일반적인 윈도우 프롬프트에서 flutter 커맨드를 사용하려면)\n  - 윈도우 환경설정 path에 `flutter\\bin;` 위치 추가하기\n  \n## android studio 설치\n\nIDE는 vs code, intellij, android studio를 지원한다. (https://flutter.io/get-started/editor/)\n\nandroid studio, flutter plugin 설치하기\n- file -> settings -> plugins, search flutter and install (dart plugin 같이 설치필요)\n\n\n## 프로젝트 생성하기 (android studio)\n\n1. flutter 프로젝트 생성\n![new flutter project](/images/flutter/new_flutter_prj.png \"create flutter project\")\n2. flutter application 선택 \n3. flutter sdk path 는 압축해제한 flutter 디렉토리 지정\n4. finish 하면 아래처럼 생성된 프로젝트를 확인할 수 있습니다.\n![main.dart](/images/flutter/created_flutter_app.png \"created flutter\")\n\n## device 설정하기 (android studio)\n\n- flutter는 Android API 16이상 device가 필요합니다.\n- tools -> AVD Manager -> Create Virtual Device...\n- tools -> SDK Manager (생성한 device api에 맞는 sdk를 설치해야 합니다.)\n- 가상 기기를 실행하면 android studio 에서 프로젝트를 실행할 수 있습니다.\n![virtual device](/images/flutter/virtual_device.png \"virtual device\")\n- command로 디바이스 확인하고 실행하기\n  - 디바이스 확인 : `flutter devices`\n  - 디바이스 실행 : `flutter run`\n\n## flutter package repository\nhttps://pub.dartlang.org/flutter/\n\n## flutter 공부하기 \n- free course : https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905","slug":"flutter","published":1,"updated":"2020-07-17T14:47:06.700Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculontr0000twuznsljhtu0","content":"<h2 id=\"flutter-설치하기\"><a href=\"#flutter-설치하기\" class=\"headerlink\" title=\"flutter 설치하기\"></a>flutter 설치하기</h2><p>flutter는 windows, mac, linux에 설치할 수 있다.</p>\n<h3 id=\"시스템-요구사항\"><a href=\"#시스템-요구사항\" class=\"headerlink\" title=\"시스템 요구사항\"></a>시스템 요구사항</h3><ul>\n<li>windows 7 이상</li>\n<li>400mb 이상 disk</li>\n<li>powershell 5.0 이상 / git 사용가능 상태</li>\n</ul>\n<h3 id=\"SDK-설치-https-flutter-io-setup-windows\"><a href=\"#SDK-설치-https-flutter-io-setup-windows\" class=\"headerlink\" title=\"SDK 설치(https://flutter.io/setup-windows/)\"></a>SDK 설치(<a href=\"https://flutter.io/setup-windows/\" target=\"_blank\" rel=\"noopener\">https://flutter.io/setup-windows/</a>)</h3><ol>\n<li>SDK 다운로드 받기</li>\n<li>다운받은 zip파일의 압축을 풀고 적당한 path에 옮기기</li>\n<li><code>flutter</code> 디렉토리에 있는 <code>flutter_console.bat</code>파일을 더블클릭해서 실행</li>\n</ol>\n<h3 id=\"설정에-필요한-flutter-기본-command\"><a href=\"#설정에-필요한-flutter-기본-command\" class=\"headerlink\" title=\"설정에 필요한 flutter 기본 command\"></a>설정에 필요한 flutter 기본 command</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#setup 완료를 위해 필요한 디펜던시 확인하기</span><br><span class=\"line\">flutter doctor</span><br><span class=\"line\">#flutter 설정 확인하기</span><br><span class=\"line\">flutter config</span><br></pre></td></tr></table></figure>\n<h3 id=\"기타\"><a href=\"#기타\" class=\"headerlink\" title=\"기타\"></a>기타</h3><ul>\n<li>flutter 업그레이드 하기 (<a href=\"https://flutter.io/upgrading/\" target=\"_blank\" rel=\"noopener\">https://flutter.io/upgrading/</a>)</li>\n<li>flutter path 설정하기 (일반적인 윈도우 프롬프트에서 flutter 커맨드를 사용하려면)<ul>\n<li>윈도우 환경설정 path에 <code>flutter\\bin;</code> 위치 추가하기</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"android-studio-설치\"><a href=\"#android-studio-설치\" class=\"headerlink\" title=\"android studio 설치\"></a>android studio 설치</h2><p>IDE는 vs code, intellij, android studio를 지원한다. (<a href=\"https://flutter.io/get-started/editor/\" target=\"_blank\" rel=\"noopener\">https://flutter.io/get-started/editor/</a>)</p>\n<p>android studio, flutter plugin 설치하기</p>\n<ul>\n<li>file -&gt; settings -&gt; plugins, search flutter and install (dart plugin 같이 설치필요)</li>\n</ul>\n<h2 id=\"프로젝트-생성하기-android-studio\"><a href=\"#프로젝트-생성하기-android-studio\" class=\"headerlink\" title=\"프로젝트 생성하기 (android studio)\"></a>프로젝트 생성하기 (android studio)</h2><ol>\n<li>flutter 프로젝트 생성<br><img src=\"/images/flutter/new_flutter_prj.png\" alt=\"new flutter project\" title=\"create flutter project\"></li>\n<li>flutter application 선택 </li>\n<li>flutter sdk path 는 압축해제한 flutter 디렉토리 지정</li>\n<li>finish 하면 아래처럼 생성된 프로젝트를 확인할 수 있습니다.<br><img src=\"/images/flutter/created_flutter_app.png\" alt=\"main.dart\" title=\"created flutter\"></li>\n</ol>\n<h2 id=\"device-설정하기-android-studio\"><a href=\"#device-설정하기-android-studio\" class=\"headerlink\" title=\"device 설정하기 (android studio)\"></a>device 설정하기 (android studio)</h2><ul>\n<li>flutter는 Android API 16이상 device가 필요합니다.</li>\n<li>tools -&gt; AVD Manager -&gt; Create Virtual Device…</li>\n<li>tools -&gt; SDK Manager (생성한 device api에 맞는 sdk를 설치해야 합니다.)</li>\n<li>가상 기기를 실행하면 android studio 에서 프로젝트를 실행할 수 있습니다.<br><img src=\"/images/flutter/virtual_device.png\" alt=\"virtual device\" title=\"virtual device\"></li>\n<li>command로 디바이스 확인하고 실행하기<ul>\n<li>디바이스 확인 : <code>flutter devices</code></li>\n<li>디바이스 실행 : <code>flutter run</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"flutter-package-repository\"><a href=\"#flutter-package-repository\" class=\"headerlink\" title=\"flutter package repository\"></a>flutter package repository</h2><p><a href=\"https://pub.dartlang.org/flutter/\" target=\"_blank\" rel=\"noopener\">https://pub.dartlang.org/flutter/</a></p>\n<h2 id=\"flutter-공부하기\"><a href=\"#flutter-공부하기\" class=\"headerlink\" title=\"flutter 공부하기\"></a>flutter 공부하기</h2><ul>\n<li>free course : <a href=\"https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905\" target=\"_blank\" rel=\"noopener\">https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"flutter-설치하기\"><a href=\"#flutter-설치하기\" class=\"headerlink\" title=\"flutter 설치하기\"></a>flutter 설치하기</h2><p>flutter는 windows, mac, linux에 설치할 수 있다.</p>\n<h3 id=\"시스템-요구사항\"><a href=\"#시스템-요구사항\" class=\"headerlink\" title=\"시스템 요구사항\"></a>시스템 요구사항</h3><ul>\n<li>windows 7 이상</li>\n<li>400mb 이상 disk</li>\n<li>powershell 5.0 이상 / git 사용가능 상태</li>\n</ul>\n<h3 id=\"SDK-설치-https-flutter-io-setup-windows\"><a href=\"#SDK-설치-https-flutter-io-setup-windows\" class=\"headerlink\" title=\"SDK 설치(https://flutter.io/setup-windows/)\"></a>SDK 설치(<a href=\"https://flutter.io/setup-windows/\" target=\"_blank\" rel=\"noopener\">https://flutter.io/setup-windows/</a>)</h3><ol>\n<li>SDK 다운로드 받기</li>\n<li>다운받은 zip파일의 압축을 풀고 적당한 path에 옮기기</li>\n<li><code>flutter</code> 디렉토리에 있는 <code>flutter_console.bat</code>파일을 더블클릭해서 실행</li>\n</ol>\n<h3 id=\"설정에-필요한-flutter-기본-command\"><a href=\"#설정에-필요한-flutter-기본-command\" class=\"headerlink\" title=\"설정에 필요한 flutter 기본 command\"></a>설정에 필요한 flutter 기본 command</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#setup 완료를 위해 필요한 디펜던시 확인하기</span><br><span class=\"line\">flutter doctor</span><br><span class=\"line\">#flutter 설정 확인하기</span><br><span class=\"line\">flutter config</span><br></pre></td></tr></table></figure>\n<h3 id=\"기타\"><a href=\"#기타\" class=\"headerlink\" title=\"기타\"></a>기타</h3><ul>\n<li>flutter 업그레이드 하기 (<a href=\"https://flutter.io/upgrading/\" target=\"_blank\" rel=\"noopener\">https://flutter.io/upgrading/</a>)</li>\n<li>flutter path 설정하기 (일반적인 윈도우 프롬프트에서 flutter 커맨드를 사용하려면)<ul>\n<li>윈도우 환경설정 path에 <code>flutter\\bin;</code> 위치 추가하기</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"android-studio-설치\"><a href=\"#android-studio-설치\" class=\"headerlink\" title=\"android studio 설치\"></a>android studio 설치</h2><p>IDE는 vs code, intellij, android studio를 지원한다. (<a href=\"https://flutter.io/get-started/editor/\" target=\"_blank\" rel=\"noopener\">https://flutter.io/get-started/editor/</a>)</p>\n<p>android studio, flutter plugin 설치하기</p>\n<ul>\n<li>file -&gt; settings -&gt; plugins, search flutter and install (dart plugin 같이 설치필요)</li>\n</ul>\n<h2 id=\"프로젝트-생성하기-android-studio\"><a href=\"#프로젝트-생성하기-android-studio\" class=\"headerlink\" title=\"프로젝트 생성하기 (android studio)\"></a>프로젝트 생성하기 (android studio)</h2><ol>\n<li>flutter 프로젝트 생성<br><img src=\"/images/flutter/new_flutter_prj.png\" alt=\"new flutter project\" title=\"create flutter project\"></li>\n<li>flutter application 선택 </li>\n<li>flutter sdk path 는 압축해제한 flutter 디렉토리 지정</li>\n<li>finish 하면 아래처럼 생성된 프로젝트를 확인할 수 있습니다.<br><img src=\"/images/flutter/created_flutter_app.png\" alt=\"main.dart\" title=\"created flutter\"></li>\n</ol>\n<h2 id=\"device-설정하기-android-studio\"><a href=\"#device-설정하기-android-studio\" class=\"headerlink\" title=\"device 설정하기 (android studio)\"></a>device 설정하기 (android studio)</h2><ul>\n<li>flutter는 Android API 16이상 device가 필요합니다.</li>\n<li>tools -&gt; AVD Manager -&gt; Create Virtual Device…</li>\n<li>tools -&gt; SDK Manager (생성한 device api에 맞는 sdk를 설치해야 합니다.)</li>\n<li>가상 기기를 실행하면 android studio 에서 프로젝트를 실행할 수 있습니다.<br><img src=\"/images/flutter/virtual_device.png\" alt=\"virtual device\" title=\"virtual device\"></li>\n<li>command로 디바이스 확인하고 실행하기<ul>\n<li>디바이스 확인 : <code>flutter devices</code></li>\n<li>디바이스 실행 : <code>flutter run</code></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"flutter-package-repository\"><a href=\"#flutter-package-repository\" class=\"headerlink\" title=\"flutter package repository\"></a>flutter package repository</h2><p><a href=\"https://pub.dartlang.org/flutter/\" target=\"_blank\" rel=\"noopener\">https://pub.dartlang.org/flutter/</a></p>\n<h2 id=\"flutter-공부하기\"><a href=\"#flutter-공부하기\" class=\"headerlink\" title=\"flutter 공부하기\"></a>flutter 공부하기</h2><ul>\n<li>free course : <a href=\"https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905\" target=\"_blank\" rel=\"noopener\">https://www.udacity.com/course/build-native-mobile-apps-with-flutter--ud905</a></li>\n</ul>\n"},{"title":"Hello World","date":"2018-12-28T02:05:00.000Z","_content":"\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n$ hexo new post title\n\n$ hexo new draft title\n\n# draft to post\n$ hexo publish post title\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2018-12-28 11:05:00\ntags:\n- hexo\ncategories:\n- hexo\n---\n\n\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n$ hexo new post title\n\n$ hexo new draft title\n\n# draft to post\n$ hexo publish post title\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"updated":"2020-07-20T14:06:22.474Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculontv0002twuza53qibte","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br><span class=\"line\">$ hexo new post title</span><br><span class=\"line\"></span><br><span class=\"line\">$ hexo new draft title</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># draft to post</span></span><br><span class=\"line\">$ hexo publish post title</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br><span class=\"line\">$ hexo new post title</span><br><span class=\"line\"></span><br><span class=\"line\">$ hexo new draft title</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># draft to post</span></span><br><span class=\"line\">$ hexo publish post title</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"how to use markdown","date":"2019-01-12T13:27:47.000Z","_content":"\nmarkdown으로 글쓰기\n\n### 제목을 지정해보자\n\n```\n# H1\n## H2\n### H3\n#### H4\n##### H5\n###### H6\n```\n\n### 링크 첨부하기\n\n```\n[Link1](https://j2yes.github.io/)\n\n[j2yess@gmail.com](mailto:j2yess@gmail.com)\n```\n> [Link1](https://j2yes.github.io/)\n\n> [j2yess@gmail.com](mailto:j2yess@gmail.com)\n\n### 이미지 첨부하기\n\n```\n![background](/images/jenkins/1.png \"Optional title\")\n```\n\n![background](/images/jenkins/1.png \"Optional title\")\n\n### 파일(PDF) 첨부하기\n\n```\n[다운로드](/assets/mydoc.pdf)\n```\n\n> [다운로드](/assets/mydoc.pdf)\n\n### 코드(GIST) 첨부하기\n\n```\n{% gist j2yes/3451d495ee5b9a601385 %}\n```\n{% gist j2yes/3451d495ee5b9a601385 %}\n\n### 코드블럭 첨부하기\n\n```sbtshell\nps -ef | grep oh\n```\n\n```javascript\nconsole.log('oh');\n```\n\n```java\nstatic void main(String args[]) {\n    \n}\n```\n    \n\n### 수평선으로 구분하기\n\n```\n---\nor\n***\nor\n___\n```\n\n### 번호 없는 리스트\n\n```\n+ Java\n- Python\n* Ruby\n```\n\n+ Java\n- Python\n* Ruby\n\n### 번호 있는 리스트\n\n```\n1. 첫번째\n2. 두번째\n3. 세번째\n```\n\n1. 첫번째\n2. 두번째\n3. 세번째\n\n### 체크박스 \n\n```\n- [ ] 리스트1\n- [X] 리스트2\n```\n\n- [ ] 리스트1\n- [X] 리스트1\n\n### 텍스트에 효과주기\n\n```\n**두껍게**\n~~취소선~~\n```\n\n기본글씨\n\n**두껍게**\n\n~~취소선~~\n\n### \\` 사용하기\n\n```\n\\`\n```\n\n> \\`\n\n### 음영효과주기\n\n```\n`keyword`\n```\n\n`keyword`\n\n\n### Table\n| Item      |    Value | Qty  |\n| :-------- | --------:| :--: |\n| Computer  | 1600 USD |  5   |\n| Phone     |   12 USD |  12  |\n| Pipe      |    1 USD | 234  |\n\n\n### 참고사이트\n* https://sourceforge.net/p/collapse/wiki/markdown_syntax/\n* http://commonmark.org/help/tutorial/index.html\n* https://guides.github.com/features/mastering-markdown/\n* http://marxi.co/","source":"_posts/markdown.md","raw":"---\ntitle: how to use markdown\ndate: 2019-01-12 22:27:47\ntags:\n- markdown\ncategories:\n- markdown\n---\n\nmarkdown으로 글쓰기\n\n### 제목을 지정해보자\n\n```\n# H1\n## H2\n### H3\n#### H4\n##### H5\n###### H6\n```\n\n### 링크 첨부하기\n\n```\n[Link1](https://j2yes.github.io/)\n\n[j2yess@gmail.com](mailto:j2yess@gmail.com)\n```\n> [Link1](https://j2yes.github.io/)\n\n> [j2yess@gmail.com](mailto:j2yess@gmail.com)\n\n### 이미지 첨부하기\n\n```\n![background](/images/jenkins/1.png \"Optional title\")\n```\n\n![background](/images/jenkins/1.png \"Optional title\")\n\n### 파일(PDF) 첨부하기\n\n```\n[다운로드](/assets/mydoc.pdf)\n```\n\n> [다운로드](/assets/mydoc.pdf)\n\n### 코드(GIST) 첨부하기\n\n```\n{% gist j2yes/3451d495ee5b9a601385 %}\n```\n{% gist j2yes/3451d495ee5b9a601385 %}\n\n### 코드블럭 첨부하기\n\n```sbtshell\nps -ef | grep oh\n```\n\n```javascript\nconsole.log('oh');\n```\n\n```java\nstatic void main(String args[]) {\n    \n}\n```\n    \n\n### 수평선으로 구분하기\n\n```\n---\nor\n***\nor\n___\n```\n\n### 번호 없는 리스트\n\n```\n+ Java\n- Python\n* Ruby\n```\n\n+ Java\n- Python\n* Ruby\n\n### 번호 있는 리스트\n\n```\n1. 첫번째\n2. 두번째\n3. 세번째\n```\n\n1. 첫번째\n2. 두번째\n3. 세번째\n\n### 체크박스 \n\n```\n- [ ] 리스트1\n- [X] 리스트2\n```\n\n- [ ] 리스트1\n- [X] 리스트1\n\n### 텍스트에 효과주기\n\n```\n**두껍게**\n~~취소선~~\n```\n\n기본글씨\n\n**두껍게**\n\n~~취소선~~\n\n### \\` 사용하기\n\n```\n\\`\n```\n\n> \\`\n\n### 음영효과주기\n\n```\n`keyword`\n```\n\n`keyword`\n\n\n### Table\n| Item      |    Value | Qty  |\n| :-------- | --------:| :--: |\n| Computer  | 1600 USD |  5   |\n| Phone     |   12 USD |  12  |\n| Pipe      |    1 USD | 234  |\n\n\n### 참고사이트\n* https://sourceforge.net/p/collapse/wiki/markdown_syntax/\n* http://commonmark.org/help/tutorial/index.html\n* https://guides.github.com/features/mastering-markdown/\n* http://marxi.co/","slug":"markdown","published":1,"updated":"2020-07-17T14:47:06.702Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculontz0006twuz7uf3noo3","content":"<p>markdown으로 글쓰기</p>\n<h3 id=\"제목을-지정해보자\"><a href=\"#제목을-지정해보자\" class=\"headerlink\" title=\"제목을 지정해보자\"></a>제목을 지정해보자</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># H1</span><br><span class=\"line\">## H2</span><br><span class=\"line\">### H3</span><br><span class=\"line\">#### H4</span><br><span class=\"line\">##### H5</span><br><span class=\"line\">###### H6</span><br></pre></td></tr></table></figure>\n<h3 id=\"링크-첨부하기\"><a href=\"#링크-첨부하기\" class=\"headerlink\" title=\"링크 첨부하기\"></a>링크 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Link1](https://j2yes.github.io/)</span><br><span class=\"line\"></span><br><span class=\"line\">[j2yess@gmail.com](mailto:j2yess@gmail.com)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"https://j2yes.github.io/\">Link1</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"mailto:j2yess@gmail.com\" target=\"_blank\" rel=\"noopener\">j2yess@gmail.com</a></p>\n</blockquote>\n<h3 id=\"이미지-첨부하기\"><a href=\"#이미지-첨부하기\" class=\"headerlink\" title=\"이미지 첨부하기\"></a>이미지 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![background](/images/jenkins/1.png &quot;Optional title&quot;)</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/jenkins/1.png\" alt=\"background\" title=\"Optional title\"></p>\n<h3 id=\"파일-PDF-첨부하기\"><a href=\"#파일-PDF-첨부하기\" class=\"headerlink\" title=\"파일(PDF) 첨부하기\"></a>파일(PDF) 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[다운로드](/assets/mydoc.pdf)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"/assets/mydoc.pdf\">다운로드</a></p>\n</blockquote>\n<h3 id=\"코드-GIST-첨부하기\"><a href=\"#코드-GIST-첨부하기\" class=\"headerlink\" title=\"코드(GIST) 첨부하기\"></a>코드(GIST) 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% gist j2yes/3451d495ee5b9a601385 %&#125;</span><br></pre></td></tr></table></figure>\n<script src=\"//gist.github.com/j2yes/3451d495ee5b9a601385.js\"></script>\n<h3 id=\"코드블럭-첨부하기\"><a href=\"#코드블럭-첨부하기\" class=\"headerlink\" title=\"코드블럭 첨부하기\"></a>코드블럭 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -ef | grep oh</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'oh'</span>);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String args[])</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"수평선으로-구분하기\"><a href=\"#수평선으로-구분하기\" class=\"headerlink\" title=\"수평선으로 구분하기\"></a>수평선으로 구분하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">or</span><br><span class=\"line\">***</span><br><span class=\"line\">or</span><br><span class=\"line\">___</span><br></pre></td></tr></table></figure>\n<h3 id=\"번호-없는-리스트\"><a href=\"#번호-없는-리스트\" class=\"headerlink\" title=\"번호 없는 리스트\"></a>번호 없는 리스트</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ Java</span><br><span class=\"line\">- Python</span><br><span class=\"line\">* Ruby</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Java</li>\n</ul>\n<ul>\n<li>Python</li>\n</ul>\n<ul>\n<li>Ruby</li>\n</ul>\n<h3 id=\"번호-있는-리스트\"><a href=\"#번호-있는-리스트\" class=\"headerlink\" title=\"번호 있는 리스트\"></a>번호 있는 리스트</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. 첫번째</span><br><span class=\"line\">2. 두번째</span><br><span class=\"line\">3. 세번째</span><br></pre></td></tr></table></figure>\n<ol>\n<li>첫번째</li>\n<li>두번째</li>\n<li>세번째</li>\n</ol>\n<h3 id=\"체크박스\"><a href=\"#체크박스\" class=\"headerlink\" title=\"체크박스\"></a>체크박스</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- [ ] 리스트1</span><br><span class=\"line\">- [X] 리스트2</span><br></pre></td></tr></table></figure>\n<ul>\n<li style=\"list-style: none\"><input type=\"checkbox\"> 리스트1</li>\n<li>[X] 리스트1</li>\n</ul>\n<h3 id=\"텍스트에-효과주기\"><a href=\"#텍스트에-효과주기\" class=\"headerlink\" title=\"텍스트에 효과주기\"></a>텍스트에 효과주기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**두껍게**</span><br><span class=\"line\">~~취소선~~</span><br></pre></td></tr></table></figure>\n<p>기본글씨</p>\n<p><strong>두껍게</strong></p>\n<p><del>취소선</del></p>\n<h3 id=\"사용하기\"><a href=\"#사용하기\" class=\"headerlink\" title=\"` 사용하기\"></a>` 사용하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\`</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>`</p>\n</blockquote>\n<h3 id=\"음영효과주기\"><a href=\"#음영효과주기\" class=\"headerlink\" title=\"음영효과주기\"></a>음영효과주기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">`keyword`</span><br></pre></td></tr></table></figure>\n<p><code>keyword</code></p>\n<h3 id=\"Table\"><a href=\"#Table\" class=\"headerlink\" title=\"Table\"></a>Table</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Item</th>\n<th style=\"text-align:right\">Value</th>\n<th style=\"text-align:center\">Qty</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Computer</td>\n<td style=\"text-align:right\">1600 USD</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Phone</td>\n<td style=\"text-align:right\">12 USD</td>\n<td style=\"text-align:center\">12</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Pipe</td>\n<td style=\"text-align:right\">1 USD</td>\n<td style=\"text-align:center\">234</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"참고사이트\"><a href=\"#참고사이트\" class=\"headerlink\" title=\"참고사이트\"></a>참고사이트</h3><ul>\n<li><a href=\"https://sourceforge.net/p/collapse/wiki/markdown_syntax/\" target=\"_blank\" rel=\"noopener\">https://sourceforge.net/p/collapse/wiki/markdown_syntax/</a></li>\n<li><a href=\"http://commonmark.org/help/tutorial/index.html\" target=\"_blank\" rel=\"noopener\">http://commonmark.org/help/tutorial/index.html</a></li>\n<li><a href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\" rel=\"noopener\">https://guides.github.com/features/mastering-markdown/</a></li>\n<li><a href=\"http://marxi.co/\" target=\"_blank\" rel=\"noopener\">http://marxi.co/</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>markdown으로 글쓰기</p>\n<h3 id=\"제목을-지정해보자\"><a href=\"#제목을-지정해보자\" class=\"headerlink\" title=\"제목을 지정해보자\"></a>제목을 지정해보자</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># H1</span><br><span class=\"line\">## H2</span><br><span class=\"line\">### H3</span><br><span class=\"line\">#### H4</span><br><span class=\"line\">##### H5</span><br><span class=\"line\">###### H6</span><br></pre></td></tr></table></figure>\n<h3 id=\"링크-첨부하기\"><a href=\"#링크-첨부하기\" class=\"headerlink\" title=\"링크 첨부하기\"></a>링크 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Link1](https://j2yes.github.io/)</span><br><span class=\"line\"></span><br><span class=\"line\">[j2yess@gmail.com](mailto:j2yess@gmail.com)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"https://j2yes.github.io/\">Link1</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"mailto:j2yess@gmail.com\" target=\"_blank\" rel=\"noopener\">j2yess@gmail.com</a></p>\n</blockquote>\n<h3 id=\"이미지-첨부하기\"><a href=\"#이미지-첨부하기\" class=\"headerlink\" title=\"이미지 첨부하기\"></a>이미지 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![background](/images/jenkins/1.png &quot;Optional title&quot;)</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/jenkins/1.png\" alt=\"background\" title=\"Optional title\"></p>\n<h3 id=\"파일-PDF-첨부하기\"><a href=\"#파일-PDF-첨부하기\" class=\"headerlink\" title=\"파일(PDF) 첨부하기\"></a>파일(PDF) 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[다운로드](/assets/mydoc.pdf)</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><a href=\"/assets/mydoc.pdf\">다운로드</a></p>\n</blockquote>\n<h3 id=\"코드-GIST-첨부하기\"><a href=\"#코드-GIST-첨부하기\" class=\"headerlink\" title=\"코드(GIST) 첨부하기\"></a>코드(GIST) 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% gist j2yes/3451d495ee5b9a601385 %&#125;</span><br></pre></td></tr></table></figure>\n<script src=\"//gist.github.com/j2yes/3451d495ee5b9a601385.js\"></script>\n<h3 id=\"코드블럭-첨부하기\"><a href=\"#코드블럭-첨부하기\" class=\"headerlink\" title=\"코드블럭 첨부하기\"></a>코드블럭 첨부하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ps -ef | grep oh</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'oh'</span>);</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String args[])</span> </span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"수평선으로-구분하기\"><a href=\"#수평선으로-구분하기\" class=\"headerlink\" title=\"수평선으로 구분하기\"></a>수평선으로 구분하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">or</span><br><span class=\"line\">***</span><br><span class=\"line\">or</span><br><span class=\"line\">___</span><br></pre></td></tr></table></figure>\n<h3 id=\"번호-없는-리스트\"><a href=\"#번호-없는-리스트\" class=\"headerlink\" title=\"번호 없는 리스트\"></a>번호 없는 리스트</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">+ Java</span><br><span class=\"line\">- Python</span><br><span class=\"line\">* Ruby</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Java</li>\n</ul>\n<ul>\n<li>Python</li>\n</ul>\n<ul>\n<li>Ruby</li>\n</ul>\n<h3 id=\"번호-있는-리스트\"><a href=\"#번호-있는-리스트\" class=\"headerlink\" title=\"번호 있는 리스트\"></a>번호 있는 리스트</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. 첫번째</span><br><span class=\"line\">2. 두번째</span><br><span class=\"line\">3. 세번째</span><br></pre></td></tr></table></figure>\n<ol>\n<li>첫번째</li>\n<li>두번째</li>\n<li>세번째</li>\n</ol>\n<h3 id=\"체크박스\"><a href=\"#체크박스\" class=\"headerlink\" title=\"체크박스\"></a>체크박스</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- [ ] 리스트1</span><br><span class=\"line\">- [X] 리스트2</span><br></pre></td></tr></table></figure>\n<ul>\n<li style=\"list-style: none\"><input type=\"checkbox\"> 리스트1</li>\n<li>[X] 리스트1</li>\n</ul>\n<h3 id=\"텍스트에-효과주기\"><a href=\"#텍스트에-효과주기\" class=\"headerlink\" title=\"텍스트에 효과주기\"></a>텍스트에 효과주기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**두껍게**</span><br><span class=\"line\">~~취소선~~</span><br></pre></td></tr></table></figure>\n<p>기본글씨</p>\n<p><strong>두껍게</strong></p>\n<p><del>취소선</del></p>\n<h3 id=\"사용하기\"><a href=\"#사용하기\" class=\"headerlink\" title=\"` 사용하기\"></a>` 사용하기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\\`</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>`</p>\n</blockquote>\n<h3 id=\"음영효과주기\"><a href=\"#음영효과주기\" class=\"headerlink\" title=\"음영효과주기\"></a>음영효과주기</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">`keyword`</span><br></pre></td></tr></table></figure>\n<p><code>keyword</code></p>\n<h3 id=\"Table\"><a href=\"#Table\" class=\"headerlink\" title=\"Table\"></a>Table</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Item</th>\n<th style=\"text-align:right\">Value</th>\n<th style=\"text-align:center\">Qty</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Computer</td>\n<td style=\"text-align:right\">1600 USD</td>\n<td style=\"text-align:center\">5</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Phone</td>\n<td style=\"text-align:right\">12 USD</td>\n<td style=\"text-align:center\">12</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">Pipe</td>\n<td style=\"text-align:right\">1 USD</td>\n<td style=\"text-align:center\">234</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"참고사이트\"><a href=\"#참고사이트\" class=\"headerlink\" title=\"참고사이트\"></a>참고사이트</h3><ul>\n<li><a href=\"https://sourceforge.net/p/collapse/wiki/markdown_syntax/\" target=\"_blank\" rel=\"noopener\">https://sourceforge.net/p/collapse/wiki/markdown_syntax/</a></li>\n<li><a href=\"http://commonmark.org/help/tutorial/index.html\" target=\"_blank\" rel=\"noopener\">http://commonmark.org/help/tutorial/index.html</a></li>\n<li><a href=\"https://guides.github.com/features/mastering-markdown/\" target=\"_blank\" rel=\"noopener\">https://guides.github.com/features/mastering-markdown/</a></li>\n<li><a href=\"http://marxi.co/\" target=\"_blank\" rel=\"noopener\">http://marxi.co/</a></li>\n</ul>\n"},{"title":"claudiajs-rest-api","date":"2019-01-19T13:22:17.000Z","_content":"### claudiajs : https://claudiajs.com\n\n1. make project\n2. install claudia api module\n3. modify package.json script command\n4. make api.js file\n5. make api gateway\n6. example code\n\n### make lambda project\n\n```jshelllanguage\nmkdir example\ncd example\nnpm init\n```\n\n### install claudia api module : https://claudiajs.com/claudia-api-builder.html\n\n```jshelllanguage\nnpm install claudia-api-builder -S\n```\n\n### modify package.json script command\n\npackage.json\n```json\n...\n  \"scripts\": {\n    \"start\": \"claudia create --name rest-api-test --region ap-northeast-2 --api-module api --profile claudia\",\n    \"deploy\": \"claudia update --profile claudia\"\n  },\n...\n```\n\n### make a api.js file : \n- https://github.com/claudiajs/claudia-api-builder/blob/master/docs/api.md#api-definition-syntax\n- https://github.com/claudiajs/claudia-api-builder/blob/4f5c30df0365812765806ae2f9fd97e7a1287ed9/docs/api.md\n\n```javascript\nvar ApiBuilder = require('claudia-api-builder'),\n\tapi = new ApiBuilder(),\n\tsuperb = require('superb');\n\nmodule.exports = api;\n\napi.get('/greet', function (request) {\n\treturn request.queryString.name + ' is ' + superb();\n});\n```\n\n### make api gateway : https://claudiajs.com/tutorials/hello-world-api-gateway.html\n\nexecute command\n\n```jshelllanguage\n#claudia create --name [lambda function name, api gateway name] --region [region name] --api-module [main javascript file name] --profile [profile name]\nnpm run start\n```\n\nyou can see below console as result\n\nsaving configuration\n```json\n{\n  \"lambda\": {\n    \"role\": \"rest-api-test-executor\",\n    \"name\": \"rest-api-test\",\n    \"region\": \"ap-northeast-2\"\n  },\n  \"api\": {\n    \"id\": \"XXXXXXXX\",\n    \"module\": \"api\",\n    \"url\": \"https://XXXXXXXX.execute-api.ap-northeast-2.amazonaws.com/latest\"\n  }\n}\n```\n\nyou can connect to `api.url`\n\n### example code\n\n[github](https://github.com/j2yes/lambda-rest-claudia)\n\n### 인증관련 Reference\n- 카카오 : https://github.com/bskim/gamingonaws2017_serverless\n- setting authorization to call api by aws iam : https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/api-gateway-control-access-using-iam-policies-to-invoke-api.html\n","source":"_posts/cloudiajs/claudiajs-rest-api.md","raw":"---\ntitle: claudiajs-rest-api\ndate: 2019-01-19 22:22:17\ntags:\n- aws\n- lambda\n- claudiajs\ncategories:\n- claudiajs\n---\n### claudiajs : https://claudiajs.com\n\n1. make project\n2. install claudia api module\n3. modify package.json script command\n4. make api.js file\n5. make api gateway\n6. example code\n\n### make lambda project\n\n```jshelllanguage\nmkdir example\ncd example\nnpm init\n```\n\n### install claudia api module : https://claudiajs.com/claudia-api-builder.html\n\n```jshelllanguage\nnpm install claudia-api-builder -S\n```\n\n### modify package.json script command\n\npackage.json\n```json\n...\n  \"scripts\": {\n    \"start\": \"claudia create --name rest-api-test --region ap-northeast-2 --api-module api --profile claudia\",\n    \"deploy\": \"claudia update --profile claudia\"\n  },\n...\n```\n\n### make a api.js file : \n- https://github.com/claudiajs/claudia-api-builder/blob/master/docs/api.md#api-definition-syntax\n- https://github.com/claudiajs/claudia-api-builder/blob/4f5c30df0365812765806ae2f9fd97e7a1287ed9/docs/api.md\n\n```javascript\nvar ApiBuilder = require('claudia-api-builder'),\n\tapi = new ApiBuilder(),\n\tsuperb = require('superb');\n\nmodule.exports = api;\n\napi.get('/greet', function (request) {\n\treturn request.queryString.name + ' is ' + superb();\n});\n```\n\n### make api gateway : https://claudiajs.com/tutorials/hello-world-api-gateway.html\n\nexecute command\n\n```jshelllanguage\n#claudia create --name [lambda function name, api gateway name] --region [region name] --api-module [main javascript file name] --profile [profile name]\nnpm run start\n```\n\nyou can see below console as result\n\nsaving configuration\n```json\n{\n  \"lambda\": {\n    \"role\": \"rest-api-test-executor\",\n    \"name\": \"rest-api-test\",\n    \"region\": \"ap-northeast-2\"\n  },\n  \"api\": {\n    \"id\": \"XXXXXXXX\",\n    \"module\": \"api\",\n    \"url\": \"https://XXXXXXXX.execute-api.ap-northeast-2.amazonaws.com/latest\"\n  }\n}\n```\n\nyou can connect to `api.url`\n\n### example code\n\n[github](https://github.com/j2yes/lambda-rest-claudia)\n\n### 인증관련 Reference\n- 카카오 : https://github.com/bskim/gamingonaws2017_serverless\n- setting authorization to call api by aws iam : https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/api-gateway-control-access-using-iam-policies-to-invoke-api.html\n","slug":"cloudiajs/claudiajs-rest-api","published":1,"updated":"2020-07-17T14:47:06.699Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvf000ltwuz2buj518u","content":"<h3 id=\"claudiajs-https-claudiajs-com\"><a href=\"#claudiajs-https-claudiajs-com\" class=\"headerlink\" title=\"claudiajs : https://claudiajs.com\"></a>claudiajs : <a href=\"https://claudiajs.com\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com</a></h3><ol>\n<li>make project</li>\n<li>install claudia api module</li>\n<li>modify package.json script command</li>\n<li>make api.js file</li>\n<li>make api gateway</li>\n<li>example code</li>\n</ol>\n<h3 id=\"make-lambda-project\"><a href=\"#make-lambda-project\" class=\"headerlink\" title=\"make lambda project\"></a>make lambda project</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir example</span><br><span class=\"line\">cd example</span><br><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<h3 id=\"install-claudia-api-module-https-claudiajs-com-claudia-api-builder-html\"><a href=\"#install-claudia-api-module-https-claudiajs-com-claudia-api-builder-html\" class=\"headerlink\" title=\"install claudia api module : https://claudiajs.com/claudia-api-builder.html\"></a>install claudia api module : <a href=\"https://claudiajs.com/claudia-api-builder.html\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com/claudia-api-builder.html</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install claudia-api-builder -S</span><br></pre></td></tr></table></figure>\n<h3 id=\"modify-package-json-script-command\"><a href=\"#modify-package-json-script-command\" class=\"headerlink\" title=\"modify package.json script command\"></a>modify package.json script command</h3><p>package.json<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  \"scripts\": &#123;</span><br><span class=\"line\">    \"start\": \"claudia create --name rest-api-test --region ap-northeast-2 --api-module api --profile claudia\",</span><br><span class=\"line\">    \"deploy\": \"claudia update --profile claudia\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"make-a-api-js-file\"><a href=\"#make-a-api-js-file\" class=\"headerlink\" title=\"make a api.js file :\"></a>make a api.js file :</h3><ul>\n<li><a href=\"https://github.com/claudiajs/claudia-api-builder/blob/master/docs/api.md#api-definition-syntax\" target=\"_blank\" rel=\"noopener\">https://github.com/claudiajs/claudia-api-builder/blob/master/docs/api.md#api-definition-syntax</a></li>\n<li><a href=\"https://github.com/claudiajs/claudia-api-builder/blob/4f5c30df0365812765806ae2f9fd97e7a1287ed9/docs/api.md\" target=\"_blank\" rel=\"noopener\">https://github.com/claudiajs/claudia-api-builder/blob/4f5c30df0365812765806ae2f9fd97e7a1287ed9/docs/api.md</a></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ApiBuilder = <span class=\"built_in\">require</span>(<span class=\"string\">'claudia-api-builder'</span>),</span><br><span class=\"line\">\tapi = <span class=\"keyword\">new</span> ApiBuilder(),</span><br><span class=\"line\">\tsuperb = <span class=\"built_in\">require</span>(<span class=\"string\">'superb'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = api;</span><br><span class=\"line\"></span><br><span class=\"line\">api.get(<span class=\"string\">'/greet'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">request</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> request.queryString.name + <span class=\"string\">' is '</span> + superb();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"make-api-gateway-https-claudiajs-com-tutorials-hello-world-api-gateway-html\"><a href=\"#make-api-gateway-https-claudiajs-com-tutorials-hello-world-api-gateway-html\" class=\"headerlink\" title=\"make api gateway : https://claudiajs.com/tutorials/hello-world-api-gateway.html\"></a>make api gateway : <a href=\"https://claudiajs.com/tutorials/hello-world-api-gateway.html\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com/tutorials/hello-world-api-gateway.html</a></h3><p>execute command</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#claudia create --name [lambda function name, api gateway name] --region [region name] --api-module [main javascript file name] --profile [profile name]</span><br><span class=\"line\">npm run start</span><br></pre></td></tr></table></figure>\n<p>you can see below console as result</p>\n<p>saving configuration<br><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"lambda\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"role\"</span>: <span class=\"string\">\"rest-api-test-executor\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"rest-api-test\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"region\"</span>: <span class=\"string\">\"ap-northeast-2\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"api\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"id\"</span>: <span class=\"string\">\"XXXXXXXX\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"module\"</span>: <span class=\"string\">\"api\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"url\"</span>: <span class=\"string\">\"https://XXXXXXXX.execute-api.ap-northeast-2.amazonaws.com/latest\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>you can connect to <code>api.url</code></p>\n<h3 id=\"example-code\"><a href=\"#example-code\" class=\"headerlink\" title=\"example code\"></a>example code</h3><p><a href=\"https://github.com/j2yes/lambda-rest-claudia\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<h3 id=\"인증관련-Reference\"><a href=\"#인증관련-Reference\" class=\"headerlink\" title=\"인증관련 Reference\"></a>인증관련 Reference</h3><ul>\n<li>카카오 : <a href=\"https://github.com/bskim/gamingonaws2017_serverless\" target=\"_blank\" rel=\"noopener\">https://github.com/bskim/gamingonaws2017_serverless</a></li>\n<li>setting authorization to call api by aws iam : <a href=\"https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/api-gateway-control-access-using-iam-policies-to-invoke-api.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/api-gateway-control-access-using-iam-policies-to-invoke-api.html</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"claudiajs-https-claudiajs-com\"><a href=\"#claudiajs-https-claudiajs-com\" class=\"headerlink\" title=\"claudiajs : https://claudiajs.com\"></a>claudiajs : <a href=\"https://claudiajs.com\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com</a></h3><ol>\n<li>make project</li>\n<li>install claudia api module</li>\n<li>modify package.json script command</li>\n<li>make api.js file</li>\n<li>make api gateway</li>\n<li>example code</li>\n</ol>\n<h3 id=\"make-lambda-project\"><a href=\"#make-lambda-project\" class=\"headerlink\" title=\"make lambda project\"></a>make lambda project</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir example</span><br><span class=\"line\">cd example</span><br><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<h3 id=\"install-claudia-api-module-https-claudiajs-com-claudia-api-builder-html\"><a href=\"#install-claudia-api-module-https-claudiajs-com-claudia-api-builder-html\" class=\"headerlink\" title=\"install claudia api module : https://claudiajs.com/claudia-api-builder.html\"></a>install claudia api module : <a href=\"https://claudiajs.com/claudia-api-builder.html\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com/claudia-api-builder.html</a></h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install claudia-api-builder -S</span><br></pre></td></tr></table></figure>\n<h3 id=\"modify-package-json-script-command\"><a href=\"#modify-package-json-script-command\" class=\"headerlink\" title=\"modify package.json script command\"></a>modify package.json script command</h3><p>package.json<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  \"scripts\": &#123;</span><br><span class=\"line\">    \"start\": \"claudia create --name rest-api-test --region ap-northeast-2 --api-module api --profile claudia\",</span><br><span class=\"line\">    \"deploy\": \"claudia update --profile claudia\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"make-a-api-js-file\"><a href=\"#make-a-api-js-file\" class=\"headerlink\" title=\"make a api.js file :\"></a>make a api.js file :</h3><ul>\n<li><a href=\"https://github.com/claudiajs/claudia-api-builder/blob/master/docs/api.md#api-definition-syntax\" target=\"_blank\" rel=\"noopener\">https://github.com/claudiajs/claudia-api-builder/blob/master/docs/api.md#api-definition-syntax</a></li>\n<li><a href=\"https://github.com/claudiajs/claudia-api-builder/blob/4f5c30df0365812765806ae2f9fd97e7a1287ed9/docs/api.md\" target=\"_blank\" rel=\"noopener\">https://github.com/claudiajs/claudia-api-builder/blob/4f5c30df0365812765806ae2f9fd97e7a1287ed9/docs/api.md</a></li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ApiBuilder = <span class=\"built_in\">require</span>(<span class=\"string\">'claudia-api-builder'</span>),</span><br><span class=\"line\">\tapi = <span class=\"keyword\">new</span> ApiBuilder(),</span><br><span class=\"line\">\tsuperb = <span class=\"built_in\">require</span>(<span class=\"string\">'superb'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = api;</span><br><span class=\"line\"></span><br><span class=\"line\">api.get(<span class=\"string\">'/greet'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">request</span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> request.queryString.name + <span class=\"string\">' is '</span> + superb();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h3 id=\"make-api-gateway-https-claudiajs-com-tutorials-hello-world-api-gateway-html\"><a href=\"#make-api-gateway-https-claudiajs-com-tutorials-hello-world-api-gateway-html\" class=\"headerlink\" title=\"make api gateway : https://claudiajs.com/tutorials/hello-world-api-gateway.html\"></a>make api gateway : <a href=\"https://claudiajs.com/tutorials/hello-world-api-gateway.html\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com/tutorials/hello-world-api-gateway.html</a></h3><p>execute command</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#claudia create --name [lambda function name, api gateway name] --region [region name] --api-module [main javascript file name] --profile [profile name]</span><br><span class=\"line\">npm run start</span><br></pre></td></tr></table></figure>\n<p>you can see below console as result</p>\n<p>saving configuration<br><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"lambda\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"role\"</span>: <span class=\"string\">\"rest-api-test-executor\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"rest-api-test\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"region\"</span>: <span class=\"string\">\"ap-northeast-2\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"api\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"id\"</span>: <span class=\"string\">\"XXXXXXXX\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"module\"</span>: <span class=\"string\">\"api\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"url\"</span>: <span class=\"string\">\"https://XXXXXXXX.execute-api.ap-northeast-2.amazonaws.com/latest\"</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>you can connect to <code>api.url</code></p>\n<h3 id=\"example-code\"><a href=\"#example-code\" class=\"headerlink\" title=\"example code\"></a>example code</h3><p><a href=\"https://github.com/j2yes/lambda-rest-claudia\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<h3 id=\"인증관련-Reference\"><a href=\"#인증관련-Reference\" class=\"headerlink\" title=\"인증관련 Reference\"></a>인증관련 Reference</h3><ul>\n<li>카카오 : <a href=\"https://github.com/bskim/gamingonaws2017_serverless\" target=\"_blank\" rel=\"noopener\">https://github.com/bskim/gamingonaws2017_serverless</a></li>\n<li>setting authorization to call api by aws iam : <a href=\"https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/api-gateway-control-access-using-iam-policies-to-invoke-api.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/api-gateway-control-access-using-iam-policies-to-invoke-api.html</a></li>\n</ul>\n"},{"title":"docker mysql galera clustering","date":"2019-06-29T08:30:23.000Z","_content":"\n\n# mysql galera clustering \n\n- galera 공식 사이트 : http://galeracluster.com/2015/05/getting-started-galera-with-docker-part-1/\n- marriadb 설명 : https://mariadb.com/kb/en/library/getting-started-with-mariadb-galera-cluster/\n\n## docker hub에 있는 image 이용하기\n\n1. image  pull\n\n```sbtshell\nsudo docker pull erkules/galera\n```\n\n2. container 실행\n\n```sbtshell\nsudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 --name nodea erkules/galera --wsrep-cluster-address=gcomm://\n```\n\n## image 만들어서 사용하기\n\n1. 필요한 파일 만들기\n\n- Dockerfile\n\n```sbtshell\nFROM ubuntu:16.04\nENV VERSION 20180305\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update\n\nRUN apt-get install -y software-properties-common\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv BC19DDBA\nRUN add-apt-repository 'deb http://releases.galeracluster.com/mysql-wsrep-5.7/ubuntu/ xenial main'\nRUN add-apt-repository 'deb http://releases.galeracluster.com/galera-3/ubuntu/ xenial main'\n\nCOPY galera.pref /etc/apt/preferences.d/galera.pref\n\nRUN apt-get update\n\nRUN apt-get -y install galera-3 galera-arbitrator-3 mysql-wsrep-5.7 rsync lsof\n\nRUN rm -r /var/lib/mysql\n\nCOPY my.cnf /etc/mysql/my.cnf\nCOPY entrypoint.sh /entrypoint.sh\nRUN chmod 700 /entrypoint.sh\nEXPOSE 3306/tcp\nENTRYPOINT [\"/entrypoint.sh\"]\n\nLABEL mysql_verion=5.7\n\n```\n\n- docker.cnf\n\n```sbtshell\n[mysqld]\nbind-address   = 0.0.0.0\nuser           = mysql\nlog_bin\n[mysql]\nprompt = \"\\h\\> \"\n```\n\n- my.cnf\n\n```sbtshell\n[mysqld]\nuser                              = mysql\nbind-address                      = 0.0.0.0\nwsrep_provider                    = /usr/lib/galera/libgalera_smm.so\nwsrep_sst_method                  = rsync\ndefault_storage_engine            = innodb\nbinlog_format                     = row\ninnodb_autoinc_lock_mode          = 2\ninnodb_flush_log_at_trx_commit    = 0\nquery_cache_size                  = 0\nquery_cache_type                  = 0\nskip_name_resolve\n\n```\n\n- entrypoint.sh\n\n```sbtshell\n#!/bin/bash\n# Taken from the official mysql-repo\n# And changed for simplification of course :)\n# I.e. DATADIR is always /var/lib/mysql\n# We don't force the usage of MYSQL_ALLOW_EMPTY_PASSWORD\n# erkan.yanar@linsenraum.de\nset -e\nset -x\n# Check ENV (MYSQL_) and stop if they are not known variables\n# TODO\n\ntempSqlFile='/tmp/mysql-first-time.sql'\n\nmysqld --initialize --datadir=/var/lib/mysql\n\ncat > \"$tempSqlFile\" <<-EOSQL\n        -- What's done in this file shouldn't be replicated\n        --  or products like mysql-fabric won't work\n        SET @@SESSION.SQL_LOG_BIN=0;\n\n        DELETE FROM mysql.user ;\n        CREATE USER 'root'@'%' IDENTIFIED BY '${MYSQL_ROOT_PASSWORD}' ;\n        GRANT ALL ON *.* TO 'root'@'%' WITH GRANT OPTION ;\n        DROP DATABASE IF EXISTS test ;\n    EOSQL\n\n\n    if [ \"$MYSQL_DATABASE\" ]; then\n        echo \"CREATE DATABASE IF NOT EXISTS \\`$MYSQL_DATABASE\\` ;\" >> \"$tempSqlFile\"\n    fi\n\n    if [ \"$MYSQL_USER\" -a \"$MYSQL_PASSWORD\" ]; then\n        echo \"CREATE USER '$MYSQL_USER'@'%' IDENTIFIED BY '$MYSQL_PASSWORD' ;\" >> \"$tempSqlFile\"\n        echo \"CREATE USER '$MYSQL_USER'@'localhost' IDENTIFIED BY '$MYSQL_PASSWORD' ;\" >> \"$tempSqlFile\"\n  fi\n    if [ \"$MYSQL_USER\" -a ! \"$MYSQL_PASSWORD\" ]; then\n        echo \"CREATE USER '$MYSQL_USER'@'%'  ;\"         >> \"$tempSqlFile\"\n        echo \"CREATE USER '$MYSQL_USER'@'localhost'  ;\" >> \"$tempSqlFile\"\n  fi\n\n  if [ \"$MYSQL_USER\" -a  \"$MYSQL_DATABASE\"  ]; then\n      echo \"GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO '$MYSQL_USER'@'%' ;\" >> \"$tempSqlFile\"\n      echo \"GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO '$MYSQL_USER'@'localhost' ;\" >> \"$tempSqlFile\"\n  fi\n\n    echo 'FLUSH PRIVILEGES ;' >> \"$tempSqlFile\"\n\n    set -- \"$@\" --init-file=\"$tempSqlFile\"\n\necho @a\nset -- mysqld \"$@\"\nchown -R mysql:mysql /var/lib/mysql\nmkdir -p /var/run/mysqld\nchown -R mysql:mysql /var/run/mysqld\necho \"Checking to upgrade the schema\"\necho \"A failed upgrade is ok when there was no upgrade\"\n# mysql_upgrade || true\nexec \"$@\"\n```\n\n- galera.pref\n\n```sbtshell\n# Prefer Codership repository\nPackage: *\nPin: origin releases.galeracluster.com\nPin-Priority: 1001\n```\n\n2. 빌드하기\n\n```sbtshell\n#sudo docker build -t 이름:버전 docker_file_path\nsudo docker build -t galera:1.0 /vagrant/galera\n```\n\n3. container 실행하기\n\n```sbtshell\nsudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 galera:1.0 --wsrep-cluster-address=gcomm://\n```\n","source":"_posts/docker/docker-mysql-galera.md","raw":"---\ntitle: docker mysql galera clustering\ntags:\n  - docker\n  - container\n  - swarm\n  - redis\n  - sentinel\ncategories:\n  - docker\ndate: 2019-06-29 17:30:23\n---\n\n\n# mysql galera clustering \n\n- galera 공식 사이트 : http://galeracluster.com/2015/05/getting-started-galera-with-docker-part-1/\n- marriadb 설명 : https://mariadb.com/kb/en/library/getting-started-with-mariadb-galera-cluster/\n\n## docker hub에 있는 image 이용하기\n\n1. image  pull\n\n```sbtshell\nsudo docker pull erkules/galera\n```\n\n2. container 실행\n\n```sbtshell\nsudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 --name nodea erkules/galera --wsrep-cluster-address=gcomm://\n```\n\n## image 만들어서 사용하기\n\n1. 필요한 파일 만들기\n\n- Dockerfile\n\n```sbtshell\nFROM ubuntu:16.04\nENV VERSION 20180305\nENV DEBIAN_FRONTEND noninteractive\n\nRUN apt-get update\n\nRUN apt-get install -y software-properties-common\nRUN apt-key adv --keyserver keyserver.ubuntu.com --recv BC19DDBA\nRUN add-apt-repository 'deb http://releases.galeracluster.com/mysql-wsrep-5.7/ubuntu/ xenial main'\nRUN add-apt-repository 'deb http://releases.galeracluster.com/galera-3/ubuntu/ xenial main'\n\nCOPY galera.pref /etc/apt/preferences.d/galera.pref\n\nRUN apt-get update\n\nRUN apt-get -y install galera-3 galera-arbitrator-3 mysql-wsrep-5.7 rsync lsof\n\nRUN rm -r /var/lib/mysql\n\nCOPY my.cnf /etc/mysql/my.cnf\nCOPY entrypoint.sh /entrypoint.sh\nRUN chmod 700 /entrypoint.sh\nEXPOSE 3306/tcp\nENTRYPOINT [\"/entrypoint.sh\"]\n\nLABEL mysql_verion=5.7\n\n```\n\n- docker.cnf\n\n```sbtshell\n[mysqld]\nbind-address   = 0.0.0.0\nuser           = mysql\nlog_bin\n[mysql]\nprompt = \"\\h\\> \"\n```\n\n- my.cnf\n\n```sbtshell\n[mysqld]\nuser                              = mysql\nbind-address                      = 0.0.0.0\nwsrep_provider                    = /usr/lib/galera/libgalera_smm.so\nwsrep_sst_method                  = rsync\ndefault_storage_engine            = innodb\nbinlog_format                     = row\ninnodb_autoinc_lock_mode          = 2\ninnodb_flush_log_at_trx_commit    = 0\nquery_cache_size                  = 0\nquery_cache_type                  = 0\nskip_name_resolve\n\n```\n\n- entrypoint.sh\n\n```sbtshell\n#!/bin/bash\n# Taken from the official mysql-repo\n# And changed for simplification of course :)\n# I.e. DATADIR is always /var/lib/mysql\n# We don't force the usage of MYSQL_ALLOW_EMPTY_PASSWORD\n# erkan.yanar@linsenraum.de\nset -e\nset -x\n# Check ENV (MYSQL_) and stop if they are not known variables\n# TODO\n\ntempSqlFile='/tmp/mysql-first-time.sql'\n\nmysqld --initialize --datadir=/var/lib/mysql\n\ncat > \"$tempSqlFile\" <<-EOSQL\n        -- What's done in this file shouldn't be replicated\n        --  or products like mysql-fabric won't work\n        SET @@SESSION.SQL_LOG_BIN=0;\n\n        DELETE FROM mysql.user ;\n        CREATE USER 'root'@'%' IDENTIFIED BY '${MYSQL_ROOT_PASSWORD}' ;\n        GRANT ALL ON *.* TO 'root'@'%' WITH GRANT OPTION ;\n        DROP DATABASE IF EXISTS test ;\n    EOSQL\n\n\n    if [ \"$MYSQL_DATABASE\" ]; then\n        echo \"CREATE DATABASE IF NOT EXISTS \\`$MYSQL_DATABASE\\` ;\" >> \"$tempSqlFile\"\n    fi\n\n    if [ \"$MYSQL_USER\" -a \"$MYSQL_PASSWORD\" ]; then\n        echo \"CREATE USER '$MYSQL_USER'@'%' IDENTIFIED BY '$MYSQL_PASSWORD' ;\" >> \"$tempSqlFile\"\n        echo \"CREATE USER '$MYSQL_USER'@'localhost' IDENTIFIED BY '$MYSQL_PASSWORD' ;\" >> \"$tempSqlFile\"\n  fi\n    if [ \"$MYSQL_USER\" -a ! \"$MYSQL_PASSWORD\" ]; then\n        echo \"CREATE USER '$MYSQL_USER'@'%'  ;\"         >> \"$tempSqlFile\"\n        echo \"CREATE USER '$MYSQL_USER'@'localhost'  ;\" >> \"$tempSqlFile\"\n  fi\n\n  if [ \"$MYSQL_USER\" -a  \"$MYSQL_DATABASE\"  ]; then\n      echo \"GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO '$MYSQL_USER'@'%' ;\" >> \"$tempSqlFile\"\n      echo \"GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO '$MYSQL_USER'@'localhost' ;\" >> \"$tempSqlFile\"\n  fi\n\n    echo 'FLUSH PRIVILEGES ;' >> \"$tempSqlFile\"\n\n    set -- \"$@\" --init-file=\"$tempSqlFile\"\n\necho @a\nset -- mysqld \"$@\"\nchown -R mysql:mysql /var/lib/mysql\nmkdir -p /var/run/mysqld\nchown -R mysql:mysql /var/run/mysqld\necho \"Checking to upgrade the schema\"\necho \"A failed upgrade is ok when there was no upgrade\"\n# mysql_upgrade || true\nexec \"$@\"\n```\n\n- galera.pref\n\n```sbtshell\n# Prefer Codership repository\nPackage: *\nPin: origin releases.galeracluster.com\nPin-Priority: 1001\n```\n\n2. 빌드하기\n\n```sbtshell\n#sudo docker build -t 이름:버전 docker_file_path\nsudo docker build -t galera:1.0 /vagrant/galera\n```\n\n3. container 실행하기\n\n```sbtshell\nsudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 galera:1.0 --wsrep-cluster-address=gcomm://\n```\n","slug":"docker/docker-mysql-galera","published":1,"updated":"2020-07-17T14:47:06.699Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvg000mtwuzv49imul6","content":"<h1 id=\"mysql-galera-clustering\"><a href=\"#mysql-galera-clustering\" class=\"headerlink\" title=\"mysql galera clustering\"></a>mysql galera clustering</h1><ul>\n<li>galera 공식 사이트 : <a href=\"http://galeracluster.com/2015/05/getting-started-galera-with-docker-part-1/\" target=\"_blank\" rel=\"noopener\">http://galeracluster.com/2015/05/getting-started-galera-with-docker-part-1/</a></li>\n<li>marriadb 설명 : <a href=\"https://mariadb.com/kb/en/library/getting-started-with-mariadb-galera-cluster/\" target=\"_blank\" rel=\"noopener\">https://mariadb.com/kb/en/library/getting-started-with-mariadb-galera-cluster/</a></li>\n</ul>\n<h2 id=\"docker-hub에-있는-image-이용하기\"><a href=\"#docker-hub에-있는-image-이용하기\" class=\"headerlink\" title=\"docker hub에 있는 image 이용하기\"></a>docker hub에 있는 image 이용하기</h2><ol>\n<li>image  pull</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker pull erkules/galera</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>container 실행</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 --name nodea erkules/galera --wsrep-cluster-address=gcomm://</span><br></pre></td></tr></table></figure>\n<h2 id=\"image-만들어서-사용하기\"><a href=\"#image-만들어서-사용하기\" class=\"headerlink\" title=\"image 만들어서 사용하기\"></a>image 만들어서 사용하기</h2><ol>\n<li>필요한 파일 만들기</li>\n</ol>\n<ul>\n<li>Dockerfile</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM ubuntu:16.04</span><br><span class=\"line\">ENV VERSION 20180305</span><br><span class=\"line\">ENV DEBIAN_FRONTEND noninteractive</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get install -y software-properties-common</span><br><span class=\"line\">RUN apt-key adv --keyserver keyserver.ubuntu.com --recv BC19DDBA</span><br><span class=\"line\">RUN add-apt-repository &apos;deb http://releases.galeracluster.com/mysql-wsrep-5.7/ubuntu/ xenial main&apos;</span><br><span class=\"line\">RUN add-apt-repository &apos;deb http://releases.galeracluster.com/galera-3/ubuntu/ xenial main&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">COPY galera.pref /etc/apt/preferences.d/galera.pref</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get -y install galera-3 galera-arbitrator-3 mysql-wsrep-5.7 rsync lsof</span><br><span class=\"line\"></span><br><span class=\"line\">RUN rm -r /var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\">COPY my.cnf /etc/mysql/my.cnf</span><br><span class=\"line\">COPY entrypoint.sh /entrypoint.sh</span><br><span class=\"line\">RUN chmod 700 /entrypoint.sh</span><br><span class=\"line\">EXPOSE 3306/tcp</span><br><span class=\"line\">ENTRYPOINT [&quot;/entrypoint.sh&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">LABEL mysql_verion=5.7</span><br></pre></td></tr></table></figure>\n<ul>\n<li>docker.cnf</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld]</span><br><span class=\"line\">bind-address   = 0.0.0.0</span><br><span class=\"line\">user           = mysql</span><br><span class=\"line\">log_bin</span><br><span class=\"line\">[mysql]</span><br><span class=\"line\">prompt = &quot;\\h\\&gt; &quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>my.cnf</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld]</span><br><span class=\"line\">user                              = mysql</span><br><span class=\"line\">bind-address                      = 0.0.0.0</span><br><span class=\"line\">wsrep_provider                    = /usr/lib/galera/libgalera_smm.so</span><br><span class=\"line\">wsrep_sst_method                  = rsync</span><br><span class=\"line\">default_storage_engine            = innodb</span><br><span class=\"line\">binlog_format                     = row</span><br><span class=\"line\">innodb_autoinc_lock_mode          = 2</span><br><span class=\"line\">innodb_flush_log_at_trx_commit    = 0</span><br><span class=\"line\">query_cache_size                  = 0</span><br><span class=\"line\">query_cache_type                  = 0</span><br><span class=\"line\">skip_name_resolve</span><br></pre></td></tr></table></figure>\n<ul>\n<li>entrypoint.sh</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\"># Taken from the official mysql-repo</span><br><span class=\"line\"># And changed for simplification of course :)</span><br><span class=\"line\"># I.e. DATADIR is always /var/lib/mysql</span><br><span class=\"line\"># We don&apos;t force the usage of MYSQL_ALLOW_EMPTY_PASSWORD</span><br><span class=\"line\"># erkan.yanar@linsenraum.de</span><br><span class=\"line\">set -e</span><br><span class=\"line\">set -x</span><br><span class=\"line\"># Check ENV (MYSQL_) and stop if they are not known variables</span><br><span class=\"line\"># TODO</span><br><span class=\"line\"></span><br><span class=\"line\">tempSqlFile=&apos;/tmp/mysql-first-time.sql&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">mysqld --initialize --datadir=/var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\">cat &gt; &quot;$tempSqlFile&quot; &lt;&lt;-EOSQL</span><br><span class=\"line\">        -- What&apos;s done in this file shouldn&apos;t be replicated</span><br><span class=\"line\">        --  or products like mysql-fabric won&apos;t work</span><br><span class=\"line\">        SET @@SESSION.SQL_LOG_BIN=0;</span><br><span class=\"line\"></span><br><span class=\"line\">        DELETE FROM mysql.user ;</span><br><span class=\"line\">        CREATE USER &apos;root&apos;@&apos;%&apos; IDENTIFIED BY &apos;$&#123;MYSQL_ROOT_PASSWORD&#125;&apos; ;</span><br><span class=\"line\">        GRANT ALL ON *.* TO &apos;root&apos;@&apos;%&apos; WITH GRANT OPTION ;</span><br><span class=\"line\">        DROP DATABASE IF EXISTS test ;</span><br><span class=\"line\">    EOSQL</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    if [ &quot;$MYSQL_DATABASE&quot; ]; then</span><br><span class=\"line\">        echo &quot;CREATE DATABASE IF NOT EXISTS \\`$MYSQL_DATABASE\\` ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">    fi</span><br><span class=\"line\"></span><br><span class=\"line\">    if [ &quot;$MYSQL_USER&quot; -a &quot;$MYSQL_PASSWORD&quot; ]; then</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;%&apos; IDENTIFIED BY &apos;$MYSQL_PASSWORD&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;$MYSQL_PASSWORD&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">  fi</span><br><span class=\"line\">    if [ &quot;$MYSQL_USER&quot; -a ! &quot;$MYSQL_PASSWORD&quot; ]; then</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;%&apos;  ;&quot;         &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;localhost&apos;  ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">  fi</span><br><span class=\"line\"></span><br><span class=\"line\">  if [ &quot;$MYSQL_USER&quot; -a  &quot;$MYSQL_DATABASE&quot;  ]; then</span><br><span class=\"line\">      echo &quot;GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO &apos;$MYSQL_USER&apos;@&apos;%&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">      echo &quot;GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO &apos;$MYSQL_USER&apos;@&apos;localhost&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">  fi</span><br><span class=\"line\"></span><br><span class=\"line\">    echo &apos;FLUSH PRIVILEGES ;&apos; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    set -- &quot;$@&quot; --init-file=&quot;$tempSqlFile&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">echo @a</span><br><span class=\"line\">set -- mysqld &quot;$@&quot;</span><br><span class=\"line\">chown -R mysql:mysql /var/lib/mysql</span><br><span class=\"line\">mkdir -p /var/run/mysqld</span><br><span class=\"line\">chown -R mysql:mysql /var/run/mysqld</span><br><span class=\"line\">echo &quot;Checking to upgrade the schema&quot;</span><br><span class=\"line\">echo &quot;A failed upgrade is ok when there was no upgrade&quot;</span><br><span class=\"line\"># mysql_upgrade || true</span><br><span class=\"line\">exec &quot;$@&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>galera.pref</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Prefer Codership repository</span><br><span class=\"line\">Package: *</span><br><span class=\"line\">Pin: origin releases.galeracluster.com</span><br><span class=\"line\">Pin-Priority: 1001</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>빌드하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#sudo docker build -t 이름:버전 docker_file_path</span><br><span class=\"line\">sudo docker build -t galera:1.0 /vagrant/galera</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>container 실행하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 galera:1.0 --wsrep-cluster-address=gcomm://</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"mysql-galera-clustering\"><a href=\"#mysql-galera-clustering\" class=\"headerlink\" title=\"mysql galera clustering\"></a>mysql galera clustering</h1><ul>\n<li>galera 공식 사이트 : <a href=\"http://galeracluster.com/2015/05/getting-started-galera-with-docker-part-1/\" target=\"_blank\" rel=\"noopener\">http://galeracluster.com/2015/05/getting-started-galera-with-docker-part-1/</a></li>\n<li>marriadb 설명 : <a href=\"https://mariadb.com/kb/en/library/getting-started-with-mariadb-galera-cluster/\" target=\"_blank\" rel=\"noopener\">https://mariadb.com/kb/en/library/getting-started-with-mariadb-galera-cluster/</a></li>\n</ul>\n<h2 id=\"docker-hub에-있는-image-이용하기\"><a href=\"#docker-hub에-있는-image-이용하기\" class=\"headerlink\" title=\"docker hub에 있는 image 이용하기\"></a>docker hub에 있는 image 이용하기</h2><ol>\n<li>image  pull</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker pull erkules/galera</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>container 실행</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 --name nodea erkules/galera --wsrep-cluster-address=gcomm://</span><br></pre></td></tr></table></figure>\n<h2 id=\"image-만들어서-사용하기\"><a href=\"#image-만들어서-사용하기\" class=\"headerlink\" title=\"image 만들어서 사용하기\"></a>image 만들어서 사용하기</h2><ol>\n<li>필요한 파일 만들기</li>\n</ol>\n<ul>\n<li>Dockerfile</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">FROM ubuntu:16.04</span><br><span class=\"line\">ENV VERSION 20180305</span><br><span class=\"line\">ENV DEBIAN_FRONTEND noninteractive</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get install -y software-properties-common</span><br><span class=\"line\">RUN apt-key adv --keyserver keyserver.ubuntu.com --recv BC19DDBA</span><br><span class=\"line\">RUN add-apt-repository &apos;deb http://releases.galeracluster.com/mysql-wsrep-5.7/ubuntu/ xenial main&apos;</span><br><span class=\"line\">RUN add-apt-repository &apos;deb http://releases.galeracluster.com/galera-3/ubuntu/ xenial main&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">COPY galera.pref /etc/apt/preferences.d/galera.pref</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">RUN apt-get -y install galera-3 galera-arbitrator-3 mysql-wsrep-5.7 rsync lsof</span><br><span class=\"line\"></span><br><span class=\"line\">RUN rm -r /var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\">COPY my.cnf /etc/mysql/my.cnf</span><br><span class=\"line\">COPY entrypoint.sh /entrypoint.sh</span><br><span class=\"line\">RUN chmod 700 /entrypoint.sh</span><br><span class=\"line\">EXPOSE 3306/tcp</span><br><span class=\"line\">ENTRYPOINT [&quot;/entrypoint.sh&quot;]</span><br><span class=\"line\"></span><br><span class=\"line\">LABEL mysql_verion=5.7</span><br></pre></td></tr></table></figure>\n<ul>\n<li>docker.cnf</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld]</span><br><span class=\"line\">bind-address   = 0.0.0.0</span><br><span class=\"line\">user           = mysql</span><br><span class=\"line\">log_bin</span><br><span class=\"line\">[mysql]</span><br><span class=\"line\">prompt = &quot;\\h\\&gt; &quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>my.cnf</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[mysqld]</span><br><span class=\"line\">user                              = mysql</span><br><span class=\"line\">bind-address                      = 0.0.0.0</span><br><span class=\"line\">wsrep_provider                    = /usr/lib/galera/libgalera_smm.so</span><br><span class=\"line\">wsrep_sst_method                  = rsync</span><br><span class=\"line\">default_storage_engine            = innodb</span><br><span class=\"line\">binlog_format                     = row</span><br><span class=\"line\">innodb_autoinc_lock_mode          = 2</span><br><span class=\"line\">innodb_flush_log_at_trx_commit    = 0</span><br><span class=\"line\">query_cache_size                  = 0</span><br><span class=\"line\">query_cache_type                  = 0</span><br><span class=\"line\">skip_name_resolve</span><br></pre></td></tr></table></figure>\n<ul>\n<li>entrypoint.sh</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\"># Taken from the official mysql-repo</span><br><span class=\"line\"># And changed for simplification of course :)</span><br><span class=\"line\"># I.e. DATADIR is always /var/lib/mysql</span><br><span class=\"line\"># We don&apos;t force the usage of MYSQL_ALLOW_EMPTY_PASSWORD</span><br><span class=\"line\"># erkan.yanar@linsenraum.de</span><br><span class=\"line\">set -e</span><br><span class=\"line\">set -x</span><br><span class=\"line\"># Check ENV (MYSQL_) and stop if they are not known variables</span><br><span class=\"line\"># TODO</span><br><span class=\"line\"></span><br><span class=\"line\">tempSqlFile=&apos;/tmp/mysql-first-time.sql&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">mysqld --initialize --datadir=/var/lib/mysql</span><br><span class=\"line\"></span><br><span class=\"line\">cat &gt; &quot;$tempSqlFile&quot; &lt;&lt;-EOSQL</span><br><span class=\"line\">        -- What&apos;s done in this file shouldn&apos;t be replicated</span><br><span class=\"line\">        --  or products like mysql-fabric won&apos;t work</span><br><span class=\"line\">        SET @@SESSION.SQL_LOG_BIN=0;</span><br><span class=\"line\"></span><br><span class=\"line\">        DELETE FROM mysql.user ;</span><br><span class=\"line\">        CREATE USER &apos;root&apos;@&apos;%&apos; IDENTIFIED BY &apos;$&#123;MYSQL_ROOT_PASSWORD&#125;&apos; ;</span><br><span class=\"line\">        GRANT ALL ON *.* TO &apos;root&apos;@&apos;%&apos; WITH GRANT OPTION ;</span><br><span class=\"line\">        DROP DATABASE IF EXISTS test ;</span><br><span class=\"line\">    EOSQL</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    if [ &quot;$MYSQL_DATABASE&quot; ]; then</span><br><span class=\"line\">        echo &quot;CREATE DATABASE IF NOT EXISTS \\`$MYSQL_DATABASE\\` ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">    fi</span><br><span class=\"line\"></span><br><span class=\"line\">    if [ &quot;$MYSQL_USER&quot; -a &quot;$MYSQL_PASSWORD&quot; ]; then</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;%&apos; IDENTIFIED BY &apos;$MYSQL_PASSWORD&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;$MYSQL_PASSWORD&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">  fi</span><br><span class=\"line\">    if [ &quot;$MYSQL_USER&quot; -a ! &quot;$MYSQL_PASSWORD&quot; ]; then</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;%&apos;  ;&quot;         &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">        echo &quot;CREATE USER &apos;$MYSQL_USER&apos;@&apos;localhost&apos;  ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">  fi</span><br><span class=\"line\"></span><br><span class=\"line\">  if [ &quot;$MYSQL_USER&quot; -a  &quot;$MYSQL_DATABASE&quot;  ]; then</span><br><span class=\"line\">      echo &quot;GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO &apos;$MYSQL_USER&apos;@&apos;%&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">      echo &quot;GRANT ALL ON \\`$MYSQL_DATABASE\\`.* TO &apos;$MYSQL_USER&apos;@&apos;localhost&apos; ;&quot; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\">  fi</span><br><span class=\"line\"></span><br><span class=\"line\">    echo &apos;FLUSH PRIVILEGES ;&apos; &gt;&gt; &quot;$tempSqlFile&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">    set -- &quot;$@&quot; --init-file=&quot;$tempSqlFile&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">echo @a</span><br><span class=\"line\">set -- mysqld &quot;$@&quot;</span><br><span class=\"line\">chown -R mysql:mysql /var/lib/mysql</span><br><span class=\"line\">mkdir -p /var/run/mysqld</span><br><span class=\"line\">chown -R mysql:mysql /var/run/mysqld</span><br><span class=\"line\">echo &quot;Checking to upgrade the schema&quot;</span><br><span class=\"line\">echo &quot;A failed upgrade is ok when there was no upgrade&quot;</span><br><span class=\"line\"># mysql_upgrade || true</span><br><span class=\"line\">exec &quot;$@&quot;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>galera.pref</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Prefer Codership repository</span><br><span class=\"line\">Package: *</span><br><span class=\"line\">Pin: origin releases.galeracluster.com</span><br><span class=\"line\">Pin-Priority: 1001</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>빌드하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#sudo docker build -t 이름:버전 docker_file_path</span><br><span class=\"line\">sudo docker build -t galera:1.0 /vagrant/galera</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>container 실행하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo docker run -d -p 3306:3306 -p 4567:4567 -p 4444:4444 -p 4568:4568 galera:1.0 --wsrep-cluster-address=gcomm://</span><br></pre></td></tr></table></figure>\n"},{"title":"claudiajs-get-started","date":"2019-01-19T13:20:19.000Z","_content":"### claudiajs : https://claudiajs.com\n\n1. install claudia\n2. execute command `npm init`\n3. make lambda.js\n4. set aws credential on user root path\n5. create lambda function as command with profile\n6. invoke lambda with profile : `claudia test-lambda --profile claudia`\n7. update lambda : `claudia update`\n8. mongodb example project\n\n### install claudia\n\n```jshelllanguage\n# global installation\nnpm install claudia -g\n\n# check installation\nclaudia -version\n```\n\n### make lambda project\n\n```jshelllanguage\nmkdir example\ncd example\nnpm init\n```\n### make a lambda.js file : https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html\n\n```javascript\n// 1.normal example\nexports.myHandler = function(event, context) {\n   ...\n}\n// 2.you can use callback\nexports.handler = function(event, context, callback) {\n    //console.log('Received event:', JSON.stringify(event, null, 2));\n    console.log('value1 =', event.key1);\n    console.log('value2 =', event.key2);\n    console.log('value3 =', event.key3);\n    console.log('remaining time =', context.getRemainingTimeInMillis());\n    console.log('functionName =', context.functionName);\n    console.log('AWSrequestID =', context.awsRequestId);\n    console.log('logGroupName =', context.log_group_name);\n    console.log('logStreamName =', context.log_stream_name);\n    console.log('clientContext =', context.clientContext);\n    if (typeof context.identity !== 'undefined') {\n        console.log('Cognitoidentity ID =', context.identity.cognitoIdentityId);\n    }    \n    callback(null, event.key1); // Echo back the first key value\n    // or\n    // callback(\"some error type\"); \n};\n// 3.below is available on node 8.xx\nexports.myHandler = async function(event, context) {\n   console.log(\"value1 = \" + event.key1);\n   console.log(\"value2 = \" + event.key2);  \n   return \"some success message\";\n   // or \n   // throw new Error(“some error type”); \n} \n```\n\n### setting AWS IAM \n- https://claudiajs.com/tutorials/installing.html \n- https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-credentials-node.html\n\nmake file `.aws/credentials`  \n\n> first line is profile name.\n\n```jshelllanguage\n[claudia]\naws_access_key_id = YOUR_ACCESS_KEY\naws_secret_access_key = YOUR_ACCESS_SECRET\n```\n\n### create lambda function\n\nseoul region is `ap-northeast-2`.\n \n```jshelllanguage\n# create lambda\nclaudia create --region ap-northeast-2 --handler lambda.myHandler --profile claudia\n```\n\n### invoke lambda\n\n```jshelllanguage\n#'test-' prefix is required.\nclaudia test-lambda --profile claudia\n```\n\n### update lambda with npm run command\n\npackage.json\n\n```json\n...\n  \"scripts\": {\n    \"test\": \"claudia test-lambda --profile claudia\",\n    \"deploy\": \"claudia update --profile claudia\"\n  },\n...\n```\nupdate command : `npm run deploy`\n\n### example code\n\n[github](https://github.com/j2yes/lambda-mongodb)","source":"_posts/cloudiajs/claudiajs-get-started.md","raw":"---\ntitle: claudiajs-get-started\ndate: 2019-01-19 22:20:19\ntags:\n- aws\n- lambda\n- claudiajs\ncategories:\n- claudiajs\n---\n### claudiajs : https://claudiajs.com\n\n1. install claudia\n2. execute command `npm init`\n3. make lambda.js\n4. set aws credential on user root path\n5. create lambda function as command with profile\n6. invoke lambda with profile : `claudia test-lambda --profile claudia`\n7. update lambda : `claudia update`\n8. mongodb example project\n\n### install claudia\n\n```jshelllanguage\n# global installation\nnpm install claudia -g\n\n# check installation\nclaudia -version\n```\n\n### make lambda project\n\n```jshelllanguage\nmkdir example\ncd example\nnpm init\n```\n### make a lambda.js file : https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html\n\n```javascript\n// 1.normal example\nexports.myHandler = function(event, context) {\n   ...\n}\n// 2.you can use callback\nexports.handler = function(event, context, callback) {\n    //console.log('Received event:', JSON.stringify(event, null, 2));\n    console.log('value1 =', event.key1);\n    console.log('value2 =', event.key2);\n    console.log('value3 =', event.key3);\n    console.log('remaining time =', context.getRemainingTimeInMillis());\n    console.log('functionName =', context.functionName);\n    console.log('AWSrequestID =', context.awsRequestId);\n    console.log('logGroupName =', context.log_group_name);\n    console.log('logStreamName =', context.log_stream_name);\n    console.log('clientContext =', context.clientContext);\n    if (typeof context.identity !== 'undefined') {\n        console.log('Cognitoidentity ID =', context.identity.cognitoIdentityId);\n    }    \n    callback(null, event.key1); // Echo back the first key value\n    // or\n    // callback(\"some error type\"); \n};\n// 3.below is available on node 8.xx\nexports.myHandler = async function(event, context) {\n   console.log(\"value1 = \" + event.key1);\n   console.log(\"value2 = \" + event.key2);  \n   return \"some success message\";\n   // or \n   // throw new Error(“some error type”); \n} \n```\n\n### setting AWS IAM \n- https://claudiajs.com/tutorials/installing.html \n- https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-credentials-node.html\n\nmake file `.aws/credentials`  \n\n> first line is profile name.\n\n```jshelllanguage\n[claudia]\naws_access_key_id = YOUR_ACCESS_KEY\naws_secret_access_key = YOUR_ACCESS_SECRET\n```\n\n### create lambda function\n\nseoul region is `ap-northeast-2`.\n \n```jshelllanguage\n# create lambda\nclaudia create --region ap-northeast-2 --handler lambda.myHandler --profile claudia\n```\n\n### invoke lambda\n\n```jshelllanguage\n#'test-' prefix is required.\nclaudia test-lambda --profile claudia\n```\n\n### update lambda with npm run command\n\npackage.json\n\n```json\n...\n  \"scripts\": {\n    \"test\": \"claudia test-lambda --profile claudia\",\n    \"deploy\": \"claudia update --profile claudia\"\n  },\n...\n```\nupdate command : `npm run deploy`\n\n### example code\n\n[github](https://github.com/j2yes/lambda-mongodb)","slug":"cloudiajs/claudiajs-get-started","published":1,"updated":"2020-07-17T14:47:06.699Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvh000ptwuz13w62lqv","content":"<h3 id=\"claudiajs-https-claudiajs-com\"><a href=\"#claudiajs-https-claudiajs-com\" class=\"headerlink\" title=\"claudiajs : https://claudiajs.com\"></a>claudiajs : <a href=\"https://claudiajs.com\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com</a></h3><ol>\n<li>install claudia</li>\n<li>execute command <code>npm init</code></li>\n<li>make lambda.js</li>\n<li>set aws credential on user root path</li>\n<li>create lambda function as command with profile</li>\n<li>invoke lambda with profile : <code>claudia test-lambda --profile claudia</code></li>\n<li>update lambda : <code>claudia update</code></li>\n<li>mongodb example project</li>\n</ol>\n<h3 id=\"install-claudia\"><a href=\"#install-claudia\" class=\"headerlink\" title=\"install claudia\"></a>install claudia</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># global installation</span><br><span class=\"line\">npm install claudia -g</span><br><span class=\"line\"></span><br><span class=\"line\"># check installation</span><br><span class=\"line\">claudia -version</span><br></pre></td></tr></table></figure>\n<h3 id=\"make-lambda-project\"><a href=\"#make-lambda-project\" class=\"headerlink\" title=\"make lambda project\"></a>make lambda project</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir example</span><br><span class=\"line\">cd example</span><br><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<h3 id=\"make-a-lambda-js-file-https-docs-aws-amazon-com-lambda-latest-dg-nodejs-prog-model-handler-html\"><a href=\"#make-a-lambda-js-file-https-docs-aws-amazon-com-lambda-latest-dg-nodejs-prog-model-handler-html\" class=\"headerlink\" title=\"make a lambda.js file : https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html\"></a>make a lambda.js file : <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html</a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1.normal example</span></span><br><span class=\"line\">exports.myHandler = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, context</span>) </span>&#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 2.you can use callback</span></span><br><span class=\"line\">exports.handler = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, context, callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//console.log('Received event:', JSON.stringify(event, null, 2));</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'value1 ='</span>, event.key1);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'value2 ='</span>, event.key2);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'value3 ='</span>, event.key3);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'remaining time ='</span>, context.getRemainingTimeInMillis());</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'functionName ='</span>, context.functionName);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'AWSrequestID ='</span>, context.awsRequestId);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'logGroupName ='</span>, context.log_group_name);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'logStreamName ='</span>, context.log_stream_name);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'clientContext ='</span>, context.clientContext);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> context.identity !== <span class=\"string\">'undefined'</span>) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'Cognitoidentity ID ='</span>, context.identity.cognitoIdentityId);</span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\">    callback(<span class=\"literal\">null</span>, event.key1); <span class=\"comment\">// Echo back the first key value</span></span><br><span class=\"line\">    <span class=\"comment\">// or</span></span><br><span class=\"line\">    <span class=\"comment\">// callback(\"some error type\"); </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 3.below is available on node 8.xx</span></span><br><span class=\"line\">exports.myHandler = <span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, context</span>) </span>&#123;</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">\"value1 = \"</span> + event.key1);</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">\"value2 = \"</span> + event.key2);  </span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"string\">\"some success message\"</span>;</span><br><span class=\"line\">   <span class=\"comment\">// or </span></span><br><span class=\"line\">   <span class=\"comment\">// throw new Error(“some error type”); </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"setting-AWS-IAM\"><a href=\"#setting-AWS-IAM\" class=\"headerlink\" title=\"setting AWS IAM\"></a>setting AWS IAM</h3><ul>\n<li><a href=\"https://claudiajs.com/tutorials/installing.html\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com/tutorials/installing.html</a> </li>\n<li><a href=\"https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-credentials-node.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-credentials-node.html</a></li>\n</ul>\n<p>make file <code>.aws/credentials</code>  </p>\n<blockquote>\n<p>first line is profile name.</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[claudia]</span><br><span class=\"line\">aws_access_key_id = YOUR_ACCESS_KEY</span><br><span class=\"line\">aws_secret_access_key = YOUR_ACCESS_SECRET</span><br></pre></td></tr></table></figure>\n<h3 id=\"create-lambda-function\"><a href=\"#create-lambda-function\" class=\"headerlink\" title=\"create lambda function\"></a>create lambda function</h3><p>seoul region is <code>ap-northeast-2</code>.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># create lambda</span><br><span class=\"line\">claudia create --region ap-northeast-2 --handler lambda.myHandler --profile claudia</span><br></pre></td></tr></table></figure>\n<h3 id=\"invoke-lambda\"><a href=\"#invoke-lambda\" class=\"headerlink\" title=\"invoke lambda\"></a>invoke lambda</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#&apos;test-&apos; prefix is required.</span><br><span class=\"line\">claudia test-lambda --profile claudia</span><br></pre></td></tr></table></figure>\n<h3 id=\"update-lambda-with-npm-run-command\"><a href=\"#update-lambda-with-npm-run-command\" class=\"headerlink\" title=\"update lambda with npm run command\"></a>update lambda with npm run command</h3><p>package.json</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  \"scripts\": &#123;</span><br><span class=\"line\">    \"test\": \"claudia test-lambda --profile claudia\",</span><br><span class=\"line\">    \"deploy\": \"claudia update --profile claudia\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<p>update command : <code>npm run deploy</code></p>\n<h3 id=\"example-code\"><a href=\"#example-code\" class=\"headerlink\" title=\"example code\"></a>example code</h3><p><a href=\"https://github.com/j2yes/lambda-mongodb\" target=\"_blank\" rel=\"noopener\">github</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"claudiajs-https-claudiajs-com\"><a href=\"#claudiajs-https-claudiajs-com\" class=\"headerlink\" title=\"claudiajs : https://claudiajs.com\"></a>claudiajs : <a href=\"https://claudiajs.com\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com</a></h3><ol>\n<li>install claudia</li>\n<li>execute command <code>npm init</code></li>\n<li>make lambda.js</li>\n<li>set aws credential on user root path</li>\n<li>create lambda function as command with profile</li>\n<li>invoke lambda with profile : <code>claudia test-lambda --profile claudia</code></li>\n<li>update lambda : <code>claudia update</code></li>\n<li>mongodb example project</li>\n</ol>\n<h3 id=\"install-claudia\"><a href=\"#install-claudia\" class=\"headerlink\" title=\"install claudia\"></a>install claudia</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># global installation</span><br><span class=\"line\">npm install claudia -g</span><br><span class=\"line\"></span><br><span class=\"line\"># check installation</span><br><span class=\"line\">claudia -version</span><br></pre></td></tr></table></figure>\n<h3 id=\"make-lambda-project\"><a href=\"#make-lambda-project\" class=\"headerlink\" title=\"make lambda project\"></a>make lambda project</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir example</span><br><span class=\"line\">cd example</span><br><span class=\"line\">npm init</span><br></pre></td></tr></table></figure>\n<h3 id=\"make-a-lambda-js-file-https-docs-aws-amazon-com-lambda-latest-dg-nodejs-prog-model-handler-html\"><a href=\"#make-a-lambda-js-file-https-docs-aws-amazon-com-lambda-latest-dg-nodejs-prog-model-handler-html\" class=\"headerlink\" title=\"make a lambda.js file : https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html\"></a>make a lambda.js file : <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/lambda/latest/dg/nodejs-prog-model-handler.html</a></h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1.normal example</span></span><br><span class=\"line\">exports.myHandler = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, context</span>) </span>&#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 2.you can use callback</span></span><br><span class=\"line\">exports.handler = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, context, callback</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//console.log('Received event:', JSON.stringify(event, null, 2));</span></span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'value1 ='</span>, event.key1);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'value2 ='</span>, event.key2);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'value3 ='</span>, event.key3);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'remaining time ='</span>, context.getRemainingTimeInMillis());</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'functionName ='</span>, context.functionName);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'AWSrequestID ='</span>, context.awsRequestId);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'logGroupName ='</span>, context.log_group_name);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'logStreamName ='</span>, context.log_stream_name);</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'clientContext ='</span>, context.clientContext);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> context.identity !== <span class=\"string\">'undefined'</span>) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'Cognitoidentity ID ='</span>, context.identity.cognitoIdentityId);</span><br><span class=\"line\">    &#125;    </span><br><span class=\"line\">    callback(<span class=\"literal\">null</span>, event.key1); <span class=\"comment\">// Echo back the first key value</span></span><br><span class=\"line\">    <span class=\"comment\">// or</span></span><br><span class=\"line\">    <span class=\"comment\">// callback(\"some error type\"); </span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">// 3.below is available on node 8.xx</span></span><br><span class=\"line\">exports.myHandler = <span class=\"keyword\">async</span> <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">event, context</span>) </span>&#123;</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">\"value1 = \"</span> + event.key1);</span><br><span class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">\"value2 = \"</span> + event.key2);  </span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"string\">\"some success message\"</span>;</span><br><span class=\"line\">   <span class=\"comment\">// or </span></span><br><span class=\"line\">   <span class=\"comment\">// throw new Error(“some error type”); </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"setting-AWS-IAM\"><a href=\"#setting-AWS-IAM\" class=\"headerlink\" title=\"setting AWS IAM\"></a>setting AWS IAM</h3><ul>\n<li><a href=\"https://claudiajs.com/tutorials/installing.html\" target=\"_blank\" rel=\"noopener\">https://claudiajs.com/tutorials/installing.html</a> </li>\n<li><a href=\"https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-credentials-node.html\" target=\"_blank\" rel=\"noopener\">https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-credentials-node.html</a></li>\n</ul>\n<p>make file <code>.aws/credentials</code>  </p>\n<blockquote>\n<p>first line is profile name.</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[claudia]</span><br><span class=\"line\">aws_access_key_id = YOUR_ACCESS_KEY</span><br><span class=\"line\">aws_secret_access_key = YOUR_ACCESS_SECRET</span><br></pre></td></tr></table></figure>\n<h3 id=\"create-lambda-function\"><a href=\"#create-lambda-function\" class=\"headerlink\" title=\"create lambda function\"></a>create lambda function</h3><p>seoul region is <code>ap-northeast-2</code>.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># create lambda</span><br><span class=\"line\">claudia create --region ap-northeast-2 --handler lambda.myHandler --profile claudia</span><br></pre></td></tr></table></figure>\n<h3 id=\"invoke-lambda\"><a href=\"#invoke-lambda\" class=\"headerlink\" title=\"invoke lambda\"></a>invoke lambda</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#&apos;test-&apos; prefix is required.</span><br><span class=\"line\">claudia test-lambda --profile claudia</span><br></pre></td></tr></table></figure>\n<h3 id=\"update-lambda-with-npm-run-command\"><a href=\"#update-lambda-with-npm-run-command\" class=\"headerlink\" title=\"update lambda with npm run command\"></a>update lambda with npm run command</h3><p>package.json</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  \"scripts\": &#123;</span><br><span class=\"line\">    \"test\": \"claudia test-lambda --profile claudia\",</span><br><span class=\"line\">    \"deploy\": \"claudia update --profile claudia\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<p>update command : <code>npm run deploy</code></p>\n<h3 id=\"example-code\"><a href=\"#example-code\" class=\"headerlink\" title=\"example code\"></a>example code</h3><p><a href=\"https://github.com/j2yes/lambda-mongodb\" target=\"_blank\" rel=\"noopener\">github</a></p>\n"},{"title":"docker redis clustering","date":"2019-06-29T07:00:28.000Z","_content":"\n\ndocker를 이용한 redis sentinel clustering을 구성\n\n# redis clustering\n\n- tutorial : https://redis.io/topics/cluster-tutorial\n- spec : https://redis.io/topics/cluster-spec\n- redis sentinel : https://redis.io/topics/sentinel\n- zookeeper를 이용한 clustering : http://d2.naver.com/helloworld/294797\n\nRedis는 여러가지 방법으로 HA를 구성할 수 있다. \n\n## 멀티 마스터를 위한 Redis Cluster 방식\n\n- Redis Cluster는 샤딩 방식으로 데이터가 나뉘어 저장된다.\n- Redis Cluster Node 는 2개 포트가 필요하다. \n  - client를 위한 포트와 data를 위한 포트(client 포트 + 10000)\n  - data 포트가 node 사이의 채널 역할을 한다.\n- **docker에서 redis cluster를 사용하려면 host 네트워크를 사용해야 한다.**\n\n## sentinel 을 이용하는 방법\n\n- 3 + 2n 의 sentinel instance를 추천\n- 기본 포트는 26379\n- client에서 바라보는 end point는 sentinel instance이며, sentinel이 master 접속정보를 client에 전달한다. client는 해당 정보로 다시 master로 요청을 보냄.\n\n### docker 에서 1master + 1slave + 3sentinel 사용 예제 :\n\n- docker : https://github.com/mdevilliers/docker-rediscluster\n- docker-compose : https://github.com/AliyunContainerService/redis-cluster\n```sbtshell\nsudo apt-get install redis-server\nsudo apt-get purge --auto-remove redis-server\n```\n\nsentinel 실행 command : `redis-server /path/to/sentinel.conf --sentinel`\n\n\n### docker swarm 에서 sentinel 사용\n- https://github.com/thomasjpfan/redis-cluster-docker-swarm\n\ndocker-compose.yml \n```sbtshell\nversion: '3.1'\n\nservices:\n\n  redis-sentinel:\n    image: thomasjpfan/redis-sentinel:${TAG:-latest}\n    environment:\n      - REDIS_IP=redis-zero\n      - REDIS_MASTER_NAME=redismaster\n    deploy:\n      replicas: 3\n    networks:\n      - redis\n\n  redis:\n    image: thomasjpfan/redis-look:${TAG:-latest}\n    environment:\n      - REDIS_SENTINEL_IP=redis-sentinel\n      - REDIS_MASTER_NAME=redismaster\n      - REDIS_SENTINEL_PORT=26379\n    deploy:\n      replicas: 3\n    networks:\n      - redis\n\nnetworks:\n  redis:\n    external: tru\n```\n\n### 같은 네트워크에 접속해서 테스트해보기 : 같은 네트워크에서 ip주소 대신 docker service 이름으로 접속할 수 있다.\n\n```sbtshell\n#네트워크 접속\nsudo docker run -it --network redis redis /bin/bash\n\n#redis ip 정보 얻기\ndocker ps inspect continerID\n\n#네트워크에 속한 redis에 요청보내기\nredis-cli -h 10.0.0.7 -p 6379 set foo bb\n\n#redis-sentinel\nredis-cli -h redis-sentinel -p 26379 sentinel master redismaster\n\n```\n\n### 삭제할 때 stack 도 지워야 함\n\n```sbtshell\ndocker stack rm stachID\n```\n\n### 서버종료 대비 / manager node가 2개이상 이어야 함, 2대 중 1대 서버에서 장애가 나면 복구할 수 없음\n- manager node 는 static ip를 갖어야 함\n- **2개 노드만 사용하는 경우 둘다 manager로 사용하기** : leader 서버가 재시작하는 경우 자동 복구가 가능해짐\n  - https://docs.docker.com/engine/swarm/admin_guide/","source":"_posts/docker/docker-redis.md","raw":"---\ntitle: docker redis clustering\ncategories:\n  - docker\ntags:\n  - docker\n  - container\n  - swarm\n  - redis\n  - sentinel\ndate: 2019-06-29 16:00:28\n---\n\n\ndocker를 이용한 redis sentinel clustering을 구성\n\n# redis clustering\n\n- tutorial : https://redis.io/topics/cluster-tutorial\n- spec : https://redis.io/topics/cluster-spec\n- redis sentinel : https://redis.io/topics/sentinel\n- zookeeper를 이용한 clustering : http://d2.naver.com/helloworld/294797\n\nRedis는 여러가지 방법으로 HA를 구성할 수 있다. \n\n## 멀티 마스터를 위한 Redis Cluster 방식\n\n- Redis Cluster는 샤딩 방식으로 데이터가 나뉘어 저장된다.\n- Redis Cluster Node 는 2개 포트가 필요하다. \n  - client를 위한 포트와 data를 위한 포트(client 포트 + 10000)\n  - data 포트가 node 사이의 채널 역할을 한다.\n- **docker에서 redis cluster를 사용하려면 host 네트워크를 사용해야 한다.**\n\n## sentinel 을 이용하는 방법\n\n- 3 + 2n 의 sentinel instance를 추천\n- 기본 포트는 26379\n- client에서 바라보는 end point는 sentinel instance이며, sentinel이 master 접속정보를 client에 전달한다. client는 해당 정보로 다시 master로 요청을 보냄.\n\n### docker 에서 1master + 1slave + 3sentinel 사용 예제 :\n\n- docker : https://github.com/mdevilliers/docker-rediscluster\n- docker-compose : https://github.com/AliyunContainerService/redis-cluster\n```sbtshell\nsudo apt-get install redis-server\nsudo apt-get purge --auto-remove redis-server\n```\n\nsentinel 실행 command : `redis-server /path/to/sentinel.conf --sentinel`\n\n\n### docker swarm 에서 sentinel 사용\n- https://github.com/thomasjpfan/redis-cluster-docker-swarm\n\ndocker-compose.yml \n```sbtshell\nversion: '3.1'\n\nservices:\n\n  redis-sentinel:\n    image: thomasjpfan/redis-sentinel:${TAG:-latest}\n    environment:\n      - REDIS_IP=redis-zero\n      - REDIS_MASTER_NAME=redismaster\n    deploy:\n      replicas: 3\n    networks:\n      - redis\n\n  redis:\n    image: thomasjpfan/redis-look:${TAG:-latest}\n    environment:\n      - REDIS_SENTINEL_IP=redis-sentinel\n      - REDIS_MASTER_NAME=redismaster\n      - REDIS_SENTINEL_PORT=26379\n    deploy:\n      replicas: 3\n    networks:\n      - redis\n\nnetworks:\n  redis:\n    external: tru\n```\n\n### 같은 네트워크에 접속해서 테스트해보기 : 같은 네트워크에서 ip주소 대신 docker service 이름으로 접속할 수 있다.\n\n```sbtshell\n#네트워크 접속\nsudo docker run -it --network redis redis /bin/bash\n\n#redis ip 정보 얻기\ndocker ps inspect continerID\n\n#네트워크에 속한 redis에 요청보내기\nredis-cli -h 10.0.0.7 -p 6379 set foo bb\n\n#redis-sentinel\nredis-cli -h redis-sentinel -p 26379 sentinel master redismaster\n\n```\n\n### 삭제할 때 stack 도 지워야 함\n\n```sbtshell\ndocker stack rm stachID\n```\n\n### 서버종료 대비 / manager node가 2개이상 이어야 함, 2대 중 1대 서버에서 장애가 나면 복구할 수 없음\n- manager node 는 static ip를 갖어야 함\n- **2개 노드만 사용하는 경우 둘다 manager로 사용하기** : leader 서버가 재시작하는 경우 자동 복구가 가능해짐\n  - https://docs.docker.com/engine/swarm/admin_guide/","slug":"docker/docker-redis","published":1,"updated":"2020-07-17T14:47:06.700Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvi000qtwuzay2g66hz","content":"<p>docker를 이용한 redis sentinel clustering을 구성</p>\n<h1 id=\"redis-clustering\"><a href=\"#redis-clustering\" class=\"headerlink\" title=\"redis clustering\"></a>redis clustering</h1><ul>\n<li>tutorial : <a href=\"https://redis.io/topics/cluster-tutorial\" target=\"_blank\" rel=\"noopener\">https://redis.io/topics/cluster-tutorial</a></li>\n<li>spec : <a href=\"https://redis.io/topics/cluster-spec\" target=\"_blank\" rel=\"noopener\">https://redis.io/topics/cluster-spec</a></li>\n<li>redis sentinel : <a href=\"https://redis.io/topics/sentinel\" target=\"_blank\" rel=\"noopener\">https://redis.io/topics/sentinel</a></li>\n<li>zookeeper를 이용한 clustering : <a href=\"http://d2.naver.com/helloworld/294797\" target=\"_blank\" rel=\"noopener\">http://d2.naver.com/helloworld/294797</a></li>\n</ul>\n<p>Redis는 여러가지 방법으로 HA를 구성할 수 있다. </p>\n<h2 id=\"멀티-마스터를-위한-Redis-Cluster-방식\"><a href=\"#멀티-마스터를-위한-Redis-Cluster-방식\" class=\"headerlink\" title=\"멀티 마스터를 위한 Redis Cluster 방식\"></a>멀티 마스터를 위한 Redis Cluster 방식</h2><ul>\n<li>Redis Cluster는 샤딩 방식으로 데이터가 나뉘어 저장된다.</li>\n<li>Redis Cluster Node 는 2개 포트가 필요하다. <ul>\n<li>client를 위한 포트와 data를 위한 포트(client 포트 + 10000)</li>\n<li>data 포트가 node 사이의 채널 역할을 한다.</li>\n</ul>\n</li>\n<li><strong>docker에서 redis cluster를 사용하려면 host 네트워크를 사용해야 한다.</strong></li>\n</ul>\n<h2 id=\"sentinel-을-이용하는-방법\"><a href=\"#sentinel-을-이용하는-방법\" class=\"headerlink\" title=\"sentinel 을 이용하는 방법\"></a>sentinel 을 이용하는 방법</h2><ul>\n<li>3 + 2n 의 sentinel instance를 추천</li>\n<li>기본 포트는 26379</li>\n<li>client에서 바라보는 end point는 sentinel instance이며, sentinel이 master 접속정보를 client에 전달한다. client는 해당 정보로 다시 master로 요청을 보냄.</li>\n</ul>\n<h3 id=\"docker-에서-1master-1slave-3sentinel-사용-예제\"><a href=\"#docker-에서-1master-1slave-3sentinel-사용-예제\" class=\"headerlink\" title=\"docker 에서 1master + 1slave + 3sentinel 사용 예제 :\"></a>docker 에서 1master + 1slave + 3sentinel 사용 예제 :</h3><ul>\n<li>docker : <a href=\"https://github.com/mdevilliers/docker-rediscluster\" target=\"_blank\" rel=\"noopener\">https://github.com/mdevilliers/docker-rediscluster</a></li>\n<li>docker-compose : <a href=\"https://github.com/AliyunContainerService/redis-cluster\" target=\"_blank\" rel=\"noopener\">https://github.com/AliyunContainerService/redis-cluster</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install redis-server</span><br><span class=\"line\">sudo apt-get purge --auto-remove redis-server</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>sentinel 실행 command : <code>redis-server /path/to/sentinel.conf --sentinel</code></p>\n<h3 id=\"docker-swarm-에서-sentinel-사용\"><a href=\"#docker-swarm-에서-sentinel-사용\" class=\"headerlink\" title=\"docker swarm 에서 sentinel 사용\"></a>docker swarm 에서 sentinel 사용</h3><ul>\n<li><a href=\"https://github.com/thomasjpfan/redis-cluster-docker-swarm\" target=\"_blank\" rel=\"noopener\">https://github.com/thomasjpfan/redis-cluster-docker-swarm</a></li>\n</ul>\n<p>docker-compose.yml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: &apos;3.1&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">services:</span><br><span class=\"line\"></span><br><span class=\"line\">  redis-sentinel:</span><br><span class=\"line\">    image: thomasjpfan/redis-sentinel:$&#123;TAG:-latest&#125;</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - REDIS_IP=redis-zero</span><br><span class=\"line\">      - REDIS_MASTER_NAME=redismaster</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 3</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - redis</span><br><span class=\"line\"></span><br><span class=\"line\">  redis:</span><br><span class=\"line\">    image: thomasjpfan/redis-look:$&#123;TAG:-latest&#125;</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - REDIS_SENTINEL_IP=redis-sentinel</span><br><span class=\"line\">      - REDIS_MASTER_NAME=redismaster</span><br><span class=\"line\">      - REDIS_SENTINEL_PORT=26379</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 3</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - redis</span><br><span class=\"line\"></span><br><span class=\"line\">networks:</span><br><span class=\"line\">  redis:</span><br><span class=\"line\">    external: tru</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"같은-네트워크에-접속해서-테스트해보기-같은-네트워크에서-ip주소-대신-docker-service-이름으로-접속할-수-있다\"><a href=\"#같은-네트워크에-접속해서-테스트해보기-같은-네트워크에서-ip주소-대신-docker-service-이름으로-접속할-수-있다\" class=\"headerlink\" title=\"같은 네트워크에 접속해서 테스트해보기 : 같은 네트워크에서 ip주소 대신 docker service 이름으로 접속할 수 있다.\"></a>같은 네트워크에 접속해서 테스트해보기 : 같은 네트워크에서 ip주소 대신 docker service 이름으로 접속할 수 있다.</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#네트워크 접속</span><br><span class=\"line\">sudo docker run -it --network redis redis /bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">#redis ip 정보 얻기</span><br><span class=\"line\">docker ps inspect continerID</span><br><span class=\"line\"></span><br><span class=\"line\">#네트워크에 속한 redis에 요청보내기</span><br><span class=\"line\">redis-cli -h 10.0.0.7 -p 6379 set foo bb</span><br><span class=\"line\"></span><br><span class=\"line\">#redis-sentinel</span><br><span class=\"line\">redis-cli -h redis-sentinel -p 26379 sentinel master redismaster</span><br></pre></td></tr></table></figure>\n<h3 id=\"삭제할-때-stack-도-지워야-함\"><a href=\"#삭제할-때-stack-도-지워야-함\" class=\"headerlink\" title=\"삭제할 때 stack 도 지워야 함\"></a>삭제할 때 stack 도 지워야 함</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stack rm stachID</span><br></pre></td></tr></table></figure>\n<h3 id=\"서버종료-대비-manager-node가-2개이상-이어야-함-2대-중-1대-서버에서-장애가-나면-복구할-수-없음\"><a href=\"#서버종료-대비-manager-node가-2개이상-이어야-함-2대-중-1대-서버에서-장애가-나면-복구할-수-없음\" class=\"headerlink\" title=\"서버종료 대비 / manager node가 2개이상 이어야 함, 2대 중 1대 서버에서 장애가 나면 복구할 수 없음\"></a>서버종료 대비 / manager node가 2개이상 이어야 함, 2대 중 1대 서버에서 장애가 나면 복구할 수 없음</h3><ul>\n<li>manager node 는 static ip를 갖어야 함</li>\n<li><strong>2개 노드만 사용하는 경우 둘다 manager로 사용하기</strong> : leader 서버가 재시작하는 경우 자동 복구가 가능해짐<ul>\n<li><a href=\"https://docs.docker.com/engine/swarm/admin_guide/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/engine/swarm/admin_guide/</a></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>docker를 이용한 redis sentinel clustering을 구성</p>\n<h1 id=\"redis-clustering\"><a href=\"#redis-clustering\" class=\"headerlink\" title=\"redis clustering\"></a>redis clustering</h1><ul>\n<li>tutorial : <a href=\"https://redis.io/topics/cluster-tutorial\" target=\"_blank\" rel=\"noopener\">https://redis.io/topics/cluster-tutorial</a></li>\n<li>spec : <a href=\"https://redis.io/topics/cluster-spec\" target=\"_blank\" rel=\"noopener\">https://redis.io/topics/cluster-spec</a></li>\n<li>redis sentinel : <a href=\"https://redis.io/topics/sentinel\" target=\"_blank\" rel=\"noopener\">https://redis.io/topics/sentinel</a></li>\n<li>zookeeper를 이용한 clustering : <a href=\"http://d2.naver.com/helloworld/294797\" target=\"_blank\" rel=\"noopener\">http://d2.naver.com/helloworld/294797</a></li>\n</ul>\n<p>Redis는 여러가지 방법으로 HA를 구성할 수 있다. </p>\n<h2 id=\"멀티-마스터를-위한-Redis-Cluster-방식\"><a href=\"#멀티-마스터를-위한-Redis-Cluster-방식\" class=\"headerlink\" title=\"멀티 마스터를 위한 Redis Cluster 방식\"></a>멀티 마스터를 위한 Redis Cluster 방식</h2><ul>\n<li>Redis Cluster는 샤딩 방식으로 데이터가 나뉘어 저장된다.</li>\n<li>Redis Cluster Node 는 2개 포트가 필요하다. <ul>\n<li>client를 위한 포트와 data를 위한 포트(client 포트 + 10000)</li>\n<li>data 포트가 node 사이의 채널 역할을 한다.</li>\n</ul>\n</li>\n<li><strong>docker에서 redis cluster를 사용하려면 host 네트워크를 사용해야 한다.</strong></li>\n</ul>\n<h2 id=\"sentinel-을-이용하는-방법\"><a href=\"#sentinel-을-이용하는-방법\" class=\"headerlink\" title=\"sentinel 을 이용하는 방법\"></a>sentinel 을 이용하는 방법</h2><ul>\n<li>3 + 2n 의 sentinel instance를 추천</li>\n<li>기본 포트는 26379</li>\n<li>client에서 바라보는 end point는 sentinel instance이며, sentinel이 master 접속정보를 client에 전달한다. client는 해당 정보로 다시 master로 요청을 보냄.</li>\n</ul>\n<h3 id=\"docker-에서-1master-1slave-3sentinel-사용-예제\"><a href=\"#docker-에서-1master-1slave-3sentinel-사용-예제\" class=\"headerlink\" title=\"docker 에서 1master + 1slave + 3sentinel 사용 예제 :\"></a>docker 에서 1master + 1slave + 3sentinel 사용 예제 :</h3><ul>\n<li>docker : <a href=\"https://github.com/mdevilliers/docker-rediscluster\" target=\"_blank\" rel=\"noopener\">https://github.com/mdevilliers/docker-rediscluster</a></li>\n<li>docker-compose : <a href=\"https://github.com/AliyunContainerService/redis-cluster\" target=\"_blank\" rel=\"noopener\">https://github.com/AliyunContainerService/redis-cluster</a><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install redis-server</span><br><span class=\"line\">sudo apt-get purge --auto-remove redis-server</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>sentinel 실행 command : <code>redis-server /path/to/sentinel.conf --sentinel</code></p>\n<h3 id=\"docker-swarm-에서-sentinel-사용\"><a href=\"#docker-swarm-에서-sentinel-사용\" class=\"headerlink\" title=\"docker swarm 에서 sentinel 사용\"></a>docker swarm 에서 sentinel 사용</h3><ul>\n<li><a href=\"https://github.com/thomasjpfan/redis-cluster-docker-swarm\" target=\"_blank\" rel=\"noopener\">https://github.com/thomasjpfan/redis-cluster-docker-swarm</a></li>\n</ul>\n<p>docker-compose.yml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: &apos;3.1&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">services:</span><br><span class=\"line\"></span><br><span class=\"line\">  redis-sentinel:</span><br><span class=\"line\">    image: thomasjpfan/redis-sentinel:$&#123;TAG:-latest&#125;</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - REDIS_IP=redis-zero</span><br><span class=\"line\">      - REDIS_MASTER_NAME=redismaster</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 3</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - redis</span><br><span class=\"line\"></span><br><span class=\"line\">  redis:</span><br><span class=\"line\">    image: thomasjpfan/redis-look:$&#123;TAG:-latest&#125;</span><br><span class=\"line\">    environment:</span><br><span class=\"line\">      - REDIS_SENTINEL_IP=redis-sentinel</span><br><span class=\"line\">      - REDIS_MASTER_NAME=redismaster</span><br><span class=\"line\">      - REDIS_SENTINEL_PORT=26379</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 3</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - redis</span><br><span class=\"line\"></span><br><span class=\"line\">networks:</span><br><span class=\"line\">  redis:</span><br><span class=\"line\">    external: tru</span><br></pre></td></tr></table></figure></p>\n<h3 id=\"같은-네트워크에-접속해서-테스트해보기-같은-네트워크에서-ip주소-대신-docker-service-이름으로-접속할-수-있다\"><a href=\"#같은-네트워크에-접속해서-테스트해보기-같은-네트워크에서-ip주소-대신-docker-service-이름으로-접속할-수-있다\" class=\"headerlink\" title=\"같은 네트워크에 접속해서 테스트해보기 : 같은 네트워크에서 ip주소 대신 docker service 이름으로 접속할 수 있다.\"></a>같은 네트워크에 접속해서 테스트해보기 : 같은 네트워크에서 ip주소 대신 docker service 이름으로 접속할 수 있다.</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#네트워크 접속</span><br><span class=\"line\">sudo docker run -it --network redis redis /bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">#redis ip 정보 얻기</span><br><span class=\"line\">docker ps inspect continerID</span><br><span class=\"line\"></span><br><span class=\"line\">#네트워크에 속한 redis에 요청보내기</span><br><span class=\"line\">redis-cli -h 10.0.0.7 -p 6379 set foo bb</span><br><span class=\"line\"></span><br><span class=\"line\">#redis-sentinel</span><br><span class=\"line\">redis-cli -h redis-sentinel -p 26379 sentinel master redismaster</span><br></pre></td></tr></table></figure>\n<h3 id=\"삭제할-때-stack-도-지워야-함\"><a href=\"#삭제할-때-stack-도-지워야-함\" class=\"headerlink\" title=\"삭제할 때 stack 도 지워야 함\"></a>삭제할 때 stack 도 지워야 함</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stack rm stachID</span><br></pre></td></tr></table></figure>\n<h3 id=\"서버종료-대비-manager-node가-2개이상-이어야-함-2대-중-1대-서버에서-장애가-나면-복구할-수-없음\"><a href=\"#서버종료-대비-manager-node가-2개이상-이어야-함-2대-중-1대-서버에서-장애가-나면-복구할-수-없음\" class=\"headerlink\" title=\"서버종료 대비 / manager node가 2개이상 이어야 함, 2대 중 1대 서버에서 장애가 나면 복구할 수 없음\"></a>서버종료 대비 / manager node가 2개이상 이어야 함, 2대 중 1대 서버에서 장애가 나면 복구할 수 없음</h3><ul>\n<li>manager node 는 static ip를 갖어야 함</li>\n<li><strong>2개 노드만 사용하는 경우 둘다 manager로 사용하기</strong> : leader 서버가 재시작하는 경우 자동 복구가 가능해짐<ul>\n<li><a href=\"https://docs.docker.com/engine/swarm/admin_guide/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/engine/swarm/admin_guide/</a></li>\n</ul>\n</li>\n</ul>\n"},{"title":"docker","date":"2019-02-24T11:58:52.000Z","_content":"\nVagrant를 이용해 가상으로 서버를 생성하여 docker를 연습해볼 수 있는 환경을 만들어보자.\n\n# vagrant 환경설정 \n1. virtual box 설치 : https://www.virtualbox.org/wiki/Downloads\n2. vagrant 설치 : https://www.vagrantup.com/downloads.html\n3. vagrant box 검색 : https://app.vagrantup.com/boxes/search\n\n## vagrant 기본 command\n\n```sbtshell\n#ubuntu 16.04 설치하기\nvagrant init ubuntu/xenial64\n\n# 재시작 (실행 중 변경된 환경설정 적용) --provision 옵션을 주면 새로 프로비져닝한다.\nvagrant reload\n  \n#정지 상태로 변경\nvagrant suspend\n\n#os 종료\nvagrant halt\n\n#파일삭제 후 os 종료\nvagrant destroy\n  \n#재시작 or 시작\nvagrant up\n\n#vagrant os 접속 : init한 디렉토리에서 실행\n#기본 id/password => vagrant/vagrant\nvagrant ssh \n```\n \n## vagrant 설정 파일 수정\n\n- port forwarding : config.vm.network \"forwarded_port\", guest: 6379, host: 1234\n- 아이피 주소 지정 : config.vm.network \"private_network\", ip: \"192.168.33.10\"\n\n# docker 설치하기\n\nubuntu(16.04)에 docker 설치하기 : https://docs.docker.com/install/linux/docker-ce/ubuntu/\n\n## installation command\n\n```sbtshell\n# 1\nsudo apt-get update\n\n# 2\nsudo apt-get install \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    software-properties-common\n\n# 3\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n\n# 4\nsudo apt-key fingerprint 0EBFCD88\n\n# 5\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\n# 6\nsudo apt-get update\n\n# 7-1 (latest 버전 설치하기)\nsudo apt-get install docker-ce\n\n# 7-2 (지정한 버전 설치하기)\nsudo apt-get install docker-ce=<VERSION>\n\n# 8 버전확인하기\nsudo docker --version\n\n# 9 hello-world 실행해보기\nsudo docker run hello-world\n\n# (option) start on boot 설정\n#enable\nsudo systemctl enable docker\n#disable\nsudo systemctl disable docker\n```\n\n# docker basic command\n\n```sbtshell\n## List Docker CLI commands\ndocker\ndocker container --help\n\n## Display Docker version and info\ndocker --version\ndocker version\ndocker info\n\n## Excecute Docker image : docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG…]\n## 옵션\n## -d    detached mode 흔히 말하는 백그라운드 모드\n## -p    호스트와 컨테이너의 포트를 연결 (포워딩)\n## -v    호스트와 컨테이너의 디렉토리를 연결 (마운트)\n## -e    컨테이너 내에서 사용할 환경변수 설정\n## –name    컨테이너 이름 설정\n## –rm    프로세스 종료시 컨테이너 자동 제거\n## -it    -i와 -t를 동시에 사용한 것으로 터미널 입력을 위한 옵션\n## –link    컨테이너 연결 [컨테이너명:별칭]\ndocker run hello-world\n\n## List Docker images\ndocker image ls\n\n## List Docker containers (running, all, all in quiet mode)\ndocker container ls (= docker ps)\ndocker container ls -all #종료된 컨테이너 포함\ndocker container ls -a -q\n\n## start, stop, remove start Docker container\ndocker start containerID\ndocker stop containerID\ndocker rm containerID\n\n## docker log 확인하기\n## 옵션\n## --tail\n## -f\ndocker logs -f containerID\n\n##실행중인 container에 접속하기\ndocker exec -it 053abaac4f93 /bin/bash\n```\n\n# docker 실행 & 접속하기\n\n1. 이미지 찾기 : https://hub.docker.com/explore/\n2. ubuntu 이미지 실행하기 : `docker run -it ubuntu:16.04 /bin/bash`\n  - 실행중인 프로세스가 없으면 컨테이너가 바로 종료됨\n3. redis 이미지 실행하기 : `docker run -d -p 6379:6379 redis`\n4. redis에 데이터 저장, 읽기 \n```sbtshell\ntelnet localhost 6379\nset foo bar\nget foo\n## to exit telnet\nctrl + ] -> ctrl + d\n```\n\n# swarm 설정하기\n\n1. manager swarm initialization : swarm이 생성되면 자동으로 ingress라는 overlay 네트워크가 만들어짐\n\n```sbtshell\n# swarm 모드를 active 하면 ingress overlay network 가 생성됨\ndocker swarm init --advertise-addr ip_address_to_connect_with_worker\n\n#example\n#docker swarm init --advertise-addr 192.168.33.10\n\n#swarm 해제하기\ndocker swarm leave\n```\n\n2. worker swarm 만들기\n\n```sbtshell\ndocker swarm join --token token_value manager_node_ip_address:2377\n\n#example\n#docker swarm join --token SWMTKN-1-63g2es09cpi3fgu3js0jhxc42e4hzp2npcuub8gxdv8ozra1ih-csp26l0gdhoeajgi8yxq7cm7c 192.168.33.10:2377\n\n```\n\n3. 생성된 node 확인하기\n\n```sbtshell\ndocker node ls\n```\n\n4. 서비스 실행하기\n\n```sbtshell\ndocker service create --name redis-m -p 6379:6379 redis\n\n#실행된 서비스 확인하기 : manager에서만 command 가능\ndocker service ls\n\n#생성된 컨테이너 확인\n## host의 컨테이너 확인\ndocker container ls \ndocker ps\n\n## node에서 실행중인 컨테이너 확인 : manager에서만 command 가능\ndocker node ps \n```\n\n5. HA(LB) 설계 : https://docs.docker.com/engine/swarm/ingress/#configure-an-external-load-balancer\n6. TEST\n\n```sbtshell\n#192.168.33.11 서버\ntelnet localhost 6379\nset test test\n\n#192.168.33.10 서버\ntelnet localhost 6379\nget test\n```\n\n7. 서버 스케일링하기 : 매니저 노드에서 실행\n\n```sbtshell\ndocker service scale redis-m=2\n## *redis와 같은 data store는 data sync를 위해 솔루션에 맞는 추가설정을 해야 함 ##\n```\n\n# docker network : https://docs.docker.com/network/\n\n-  driver : host (호스트와 다른 설정이 필요할 때) / bridge (한 호스트 여러 컨테이너) / overlay (여러 호스트 여러 컨테이너, 다양한 애플리케이션) / macvlan / none\n-  network scope : local (호스트안에서 연결을 제공) / swarm (swarm 클러스터에서 연결이 가능)\n\n\n## overlay 네트워크 생성 : [network-turorial-overlay](https://docs.docker.com/network/network-tutorial-overlay/#walkthrough)\nswarm init과 함께 생성되는 ingress overlay 네트워크는 customize를 위해 삭제하고 원하는 옵션(서브넷, 게이트웨이…)을 주고 다시 만들 수 있다.\n\n1. swarm initialization\n\n```sbtshell\ndocker swarm init\n```\n\n2. 네트워크 생성 : user-defined overlay / overlay network for standalone containers\n\n```sbtshell\n#overlay network 생성 on manager\ndocker network create -d overlay nginx-net\n\n#생성한 network 에 서비스 실행\n#example (-p host port/geust port)\n#docker service create --name redis-net-test --network redis-test --replicas 1 -p 6379:6379 redis\n\n#attachable을 이용해서 overlay 네트워크에 service가 아닌 container를 직섭 실행할 수 있다. \ndocker network create --driver=overlay --attachable test-net\n\n#목록\ndocker network ls\n```\n\n# Dockerizing : 도커 이미지 만들기 \n\n## image build or commit\n\n```sbtshell\ndocker build\ndocker commit\n```\n\n## push to registry\n\n```sbtshell\ndocker push\n```\n\n## docker file 설정 : [define Dockerfile](https://docs.docker.com/get-started/part2/#your-new-development-environment)\n\n```sbtshell\n#example\nFROM node:4.6.1\n\nADD ./ /app\nWORKDIR /app\nRUN npm config set registry http://registry.npmjs.org\nRUN npm install pm2@latest -g\nRUN npm install\n\nENV PORT 80\nEXPOSE 80\n\n#CMD [\"node\", \"api.js\"\n```\n\n# docker compose + swarm 실행하기 : [compose](https://docs.docker.com/compose/overview/)\n\n-  docker compose 는 여러 컨테이너를 정의하고 실행하기 위한 툴이다.\n-  docker compose 버전 3에서 swarm 서비스 배포가 가능하다.\n\n## 설치하기\n\n```sbtshell\n#download\nsudo curl -L https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\n\n#실행권한주기 \nsudo chmod +x /usr/local/bin/docker-compose\n\n#버전확인\ndocker-compose --version\n```\n\n## example docker-compose.yml file : [Example](https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md)\n\n```sbtshell\nversion: \"3\"\nservices:\n\n  redis:\n    image: redis:alpine\n    ports:\n      - \"6379\"\n    networks:\n      - frontend\n    deploy:\n      replicas: 2\n      update_config:\n        parallelism: 2\n        delay: 10s\n      restart_policy:\n        condition: on-failure\n  db:\n    image: postgres:9.4\n    volumes:\n      - db-data:/var/lib/postgresql/data\n    networks:\n      - backend\n    deploy:\n      placement:\n        constraints: [node.role == manager]\n  vote:\n    image: dockersamples/examplevotingapp_vote:before\n    ports:\n      - 5000:80\n    networks:\n      - frontend\n    depends_on:\n      - redis\n    deploy:\n      replicas: 2\n      update_config:\n        parallelism: 2\n      restart_policy:\n        condition: on-failure\n  result:\n    image: dockersamples/examplevotingapp_result:before\n    ports:\n      - 5001:80\n    networks:\n      - backend\n    depends_on:\n      - db\n    deploy:\n      replicas: 1\n      update_config:\n        parallelism: 2\n        delay: 10s\n      restart_policy:\n        condition: on-failure\n\n  worker:\n    image: dockersamples/examplevotingapp_worker\n    networks:\n      - frontend\n      - backend\n    deploy:\n      mode: replicated\n      replicas: 1\n      labels: [APP=VOTING]\n      restart_policy:\n        condition: on-failure\n        delay: 10s\n        max_attempts: 3\n        window: 120s\n      placement:\n        constraints: [node.role == manager]\n\n  visualizer:\n    image: dockersamples/visualizer\n    ports:\n      - \"8080:8080\"\n    stop_grace_period: 1m30s\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n    deploy:\n      placement:\n        constraints: [node.role == manager]\n\nnetworks:\n  frontend:\n  backend:\n\nvolumes:\n  db-data:\n```\n\n## 실행\n\n`docker stack deploy --compose-file docker-compose.yml DEPLOYED_NAM`\n\n## redis master + slave 생성\n\n1. 파일 작성 : docker-compose.yml\n\n```sbtshell\nversion: ‘3.3'\nservices:\n  redis-master:\n    image: redis\n    #ports:\n      #- \"6379:6379\" #host:container\nnetworks:\n     - some-network\n  redis-slave:\n    image: redis\n    command: redis-server --slaveof redis-master 6379\ndeploy:\n      replicas: 3\n    networks:\n     - some-network\n\n\nnetworks:\n  some-network:\ndriver: overlay\n    attachable: true\n```\n\n2. 실행\n\n```sbtshell\n#overlay network가 새로 생성되면서 서비스 2개가 생김\n#port가 swarm외부에 열려있지 않음\ndocker stack deploy --compose-file docker-compose.yml redis-clu\n\n#service 확인 : 서비스에서 보이는 포트는 외부에서 swarm으로 들어가는 포트 정보\ndocker service ls\n\n#컨테이너 확인 : 컨테이너의 포트정보는 현재 컨테이너에서 실행중인 포트정보\ndocker ps\n```\n\n# reference\n- docker 무작정 따라하기 : https://www.slideshare.net/pyrasis/docker-fordummies-44424016\n- docker command : https://docs.docker.com/edge/engine/reference/commandline/docker/\n- swam : https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\n- docker를 이용한 ci stack 만들기 : https://github.com/marcelbirkner/docker-ci-tool-stack\n- docker network architecture : https://success.docker.com/article/Docker_Reference_Architecture-_Designing_Scalable,_Portable_Docker_Container_Networks\n- docker 이미지 만들기 1 : http://www.nurinamu.com/dev/2016/07/04/create-a-docker-image/\n- docker 이미지 만들기 2 : https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html\n- vagrant : https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\n","source":"_posts/docker/docker.md","raw":"---\ntitle: docker\ndate: 2019-02-24 20:58:52\ntags:\n- docker\n- container\n- swarm\n- docker compose\n- vagrant\ncategories:\n- docker\n---\n\nVagrant를 이용해 가상으로 서버를 생성하여 docker를 연습해볼 수 있는 환경을 만들어보자.\n\n# vagrant 환경설정 \n1. virtual box 설치 : https://www.virtualbox.org/wiki/Downloads\n2. vagrant 설치 : https://www.vagrantup.com/downloads.html\n3. vagrant box 검색 : https://app.vagrantup.com/boxes/search\n\n## vagrant 기본 command\n\n```sbtshell\n#ubuntu 16.04 설치하기\nvagrant init ubuntu/xenial64\n\n# 재시작 (실행 중 변경된 환경설정 적용) --provision 옵션을 주면 새로 프로비져닝한다.\nvagrant reload\n  \n#정지 상태로 변경\nvagrant suspend\n\n#os 종료\nvagrant halt\n\n#파일삭제 후 os 종료\nvagrant destroy\n  \n#재시작 or 시작\nvagrant up\n\n#vagrant os 접속 : init한 디렉토리에서 실행\n#기본 id/password => vagrant/vagrant\nvagrant ssh \n```\n \n## vagrant 설정 파일 수정\n\n- port forwarding : config.vm.network \"forwarded_port\", guest: 6379, host: 1234\n- 아이피 주소 지정 : config.vm.network \"private_network\", ip: \"192.168.33.10\"\n\n# docker 설치하기\n\nubuntu(16.04)에 docker 설치하기 : https://docs.docker.com/install/linux/docker-ce/ubuntu/\n\n## installation command\n\n```sbtshell\n# 1\nsudo apt-get update\n\n# 2\nsudo apt-get install \\\n    apt-transport-https \\\n    ca-certificates \\\n    curl \\\n    software-properties-common\n\n# 3\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n\n# 4\nsudo apt-key fingerprint 0EBFCD88\n\n# 5\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\n# 6\nsudo apt-get update\n\n# 7-1 (latest 버전 설치하기)\nsudo apt-get install docker-ce\n\n# 7-2 (지정한 버전 설치하기)\nsudo apt-get install docker-ce=<VERSION>\n\n# 8 버전확인하기\nsudo docker --version\n\n# 9 hello-world 실행해보기\nsudo docker run hello-world\n\n# (option) start on boot 설정\n#enable\nsudo systemctl enable docker\n#disable\nsudo systemctl disable docker\n```\n\n# docker basic command\n\n```sbtshell\n## List Docker CLI commands\ndocker\ndocker container --help\n\n## Display Docker version and info\ndocker --version\ndocker version\ndocker info\n\n## Excecute Docker image : docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG…]\n## 옵션\n## -d    detached mode 흔히 말하는 백그라운드 모드\n## -p    호스트와 컨테이너의 포트를 연결 (포워딩)\n## -v    호스트와 컨테이너의 디렉토리를 연결 (마운트)\n## -e    컨테이너 내에서 사용할 환경변수 설정\n## –name    컨테이너 이름 설정\n## –rm    프로세스 종료시 컨테이너 자동 제거\n## -it    -i와 -t를 동시에 사용한 것으로 터미널 입력을 위한 옵션\n## –link    컨테이너 연결 [컨테이너명:별칭]\ndocker run hello-world\n\n## List Docker images\ndocker image ls\n\n## List Docker containers (running, all, all in quiet mode)\ndocker container ls (= docker ps)\ndocker container ls -all #종료된 컨테이너 포함\ndocker container ls -a -q\n\n## start, stop, remove start Docker container\ndocker start containerID\ndocker stop containerID\ndocker rm containerID\n\n## docker log 확인하기\n## 옵션\n## --tail\n## -f\ndocker logs -f containerID\n\n##실행중인 container에 접속하기\ndocker exec -it 053abaac4f93 /bin/bash\n```\n\n# docker 실행 & 접속하기\n\n1. 이미지 찾기 : https://hub.docker.com/explore/\n2. ubuntu 이미지 실행하기 : `docker run -it ubuntu:16.04 /bin/bash`\n  - 실행중인 프로세스가 없으면 컨테이너가 바로 종료됨\n3. redis 이미지 실행하기 : `docker run -d -p 6379:6379 redis`\n4. redis에 데이터 저장, 읽기 \n```sbtshell\ntelnet localhost 6379\nset foo bar\nget foo\n## to exit telnet\nctrl + ] -> ctrl + d\n```\n\n# swarm 설정하기\n\n1. manager swarm initialization : swarm이 생성되면 자동으로 ingress라는 overlay 네트워크가 만들어짐\n\n```sbtshell\n# swarm 모드를 active 하면 ingress overlay network 가 생성됨\ndocker swarm init --advertise-addr ip_address_to_connect_with_worker\n\n#example\n#docker swarm init --advertise-addr 192.168.33.10\n\n#swarm 해제하기\ndocker swarm leave\n```\n\n2. worker swarm 만들기\n\n```sbtshell\ndocker swarm join --token token_value manager_node_ip_address:2377\n\n#example\n#docker swarm join --token SWMTKN-1-63g2es09cpi3fgu3js0jhxc42e4hzp2npcuub8gxdv8ozra1ih-csp26l0gdhoeajgi8yxq7cm7c 192.168.33.10:2377\n\n```\n\n3. 생성된 node 확인하기\n\n```sbtshell\ndocker node ls\n```\n\n4. 서비스 실행하기\n\n```sbtshell\ndocker service create --name redis-m -p 6379:6379 redis\n\n#실행된 서비스 확인하기 : manager에서만 command 가능\ndocker service ls\n\n#생성된 컨테이너 확인\n## host의 컨테이너 확인\ndocker container ls \ndocker ps\n\n## node에서 실행중인 컨테이너 확인 : manager에서만 command 가능\ndocker node ps \n```\n\n5. HA(LB) 설계 : https://docs.docker.com/engine/swarm/ingress/#configure-an-external-load-balancer\n6. TEST\n\n```sbtshell\n#192.168.33.11 서버\ntelnet localhost 6379\nset test test\n\n#192.168.33.10 서버\ntelnet localhost 6379\nget test\n```\n\n7. 서버 스케일링하기 : 매니저 노드에서 실행\n\n```sbtshell\ndocker service scale redis-m=2\n## *redis와 같은 data store는 data sync를 위해 솔루션에 맞는 추가설정을 해야 함 ##\n```\n\n# docker network : https://docs.docker.com/network/\n\n-  driver : host (호스트와 다른 설정이 필요할 때) / bridge (한 호스트 여러 컨테이너) / overlay (여러 호스트 여러 컨테이너, 다양한 애플리케이션) / macvlan / none\n-  network scope : local (호스트안에서 연결을 제공) / swarm (swarm 클러스터에서 연결이 가능)\n\n\n## overlay 네트워크 생성 : [network-turorial-overlay](https://docs.docker.com/network/network-tutorial-overlay/#walkthrough)\nswarm init과 함께 생성되는 ingress overlay 네트워크는 customize를 위해 삭제하고 원하는 옵션(서브넷, 게이트웨이…)을 주고 다시 만들 수 있다.\n\n1. swarm initialization\n\n```sbtshell\ndocker swarm init\n```\n\n2. 네트워크 생성 : user-defined overlay / overlay network for standalone containers\n\n```sbtshell\n#overlay network 생성 on manager\ndocker network create -d overlay nginx-net\n\n#생성한 network 에 서비스 실행\n#example (-p host port/geust port)\n#docker service create --name redis-net-test --network redis-test --replicas 1 -p 6379:6379 redis\n\n#attachable을 이용해서 overlay 네트워크에 service가 아닌 container를 직섭 실행할 수 있다. \ndocker network create --driver=overlay --attachable test-net\n\n#목록\ndocker network ls\n```\n\n# Dockerizing : 도커 이미지 만들기 \n\n## image build or commit\n\n```sbtshell\ndocker build\ndocker commit\n```\n\n## push to registry\n\n```sbtshell\ndocker push\n```\n\n## docker file 설정 : [define Dockerfile](https://docs.docker.com/get-started/part2/#your-new-development-environment)\n\n```sbtshell\n#example\nFROM node:4.6.1\n\nADD ./ /app\nWORKDIR /app\nRUN npm config set registry http://registry.npmjs.org\nRUN npm install pm2@latest -g\nRUN npm install\n\nENV PORT 80\nEXPOSE 80\n\n#CMD [\"node\", \"api.js\"\n```\n\n# docker compose + swarm 실행하기 : [compose](https://docs.docker.com/compose/overview/)\n\n-  docker compose 는 여러 컨테이너를 정의하고 실행하기 위한 툴이다.\n-  docker compose 버전 3에서 swarm 서비스 배포가 가능하다.\n\n## 설치하기\n\n```sbtshell\n#download\nsudo curl -L https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\n\n#실행권한주기 \nsudo chmod +x /usr/local/bin/docker-compose\n\n#버전확인\ndocker-compose --version\n```\n\n## example docker-compose.yml file : [Example](https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md)\n\n```sbtshell\nversion: \"3\"\nservices:\n\n  redis:\n    image: redis:alpine\n    ports:\n      - \"6379\"\n    networks:\n      - frontend\n    deploy:\n      replicas: 2\n      update_config:\n        parallelism: 2\n        delay: 10s\n      restart_policy:\n        condition: on-failure\n  db:\n    image: postgres:9.4\n    volumes:\n      - db-data:/var/lib/postgresql/data\n    networks:\n      - backend\n    deploy:\n      placement:\n        constraints: [node.role == manager]\n  vote:\n    image: dockersamples/examplevotingapp_vote:before\n    ports:\n      - 5000:80\n    networks:\n      - frontend\n    depends_on:\n      - redis\n    deploy:\n      replicas: 2\n      update_config:\n        parallelism: 2\n      restart_policy:\n        condition: on-failure\n  result:\n    image: dockersamples/examplevotingapp_result:before\n    ports:\n      - 5001:80\n    networks:\n      - backend\n    depends_on:\n      - db\n    deploy:\n      replicas: 1\n      update_config:\n        parallelism: 2\n        delay: 10s\n      restart_policy:\n        condition: on-failure\n\n  worker:\n    image: dockersamples/examplevotingapp_worker\n    networks:\n      - frontend\n      - backend\n    deploy:\n      mode: replicated\n      replicas: 1\n      labels: [APP=VOTING]\n      restart_policy:\n        condition: on-failure\n        delay: 10s\n        max_attempts: 3\n        window: 120s\n      placement:\n        constraints: [node.role == manager]\n\n  visualizer:\n    image: dockersamples/visualizer\n    ports:\n      - \"8080:8080\"\n    stop_grace_period: 1m30s\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock\n    deploy:\n      placement:\n        constraints: [node.role == manager]\n\nnetworks:\n  frontend:\n  backend:\n\nvolumes:\n  db-data:\n```\n\n## 실행\n\n`docker stack deploy --compose-file docker-compose.yml DEPLOYED_NAM`\n\n## redis master + slave 생성\n\n1. 파일 작성 : docker-compose.yml\n\n```sbtshell\nversion: ‘3.3'\nservices:\n  redis-master:\n    image: redis\n    #ports:\n      #- \"6379:6379\" #host:container\nnetworks:\n     - some-network\n  redis-slave:\n    image: redis\n    command: redis-server --slaveof redis-master 6379\ndeploy:\n      replicas: 3\n    networks:\n     - some-network\n\n\nnetworks:\n  some-network:\ndriver: overlay\n    attachable: true\n```\n\n2. 실행\n\n```sbtshell\n#overlay network가 새로 생성되면서 서비스 2개가 생김\n#port가 swarm외부에 열려있지 않음\ndocker stack deploy --compose-file docker-compose.yml redis-clu\n\n#service 확인 : 서비스에서 보이는 포트는 외부에서 swarm으로 들어가는 포트 정보\ndocker service ls\n\n#컨테이너 확인 : 컨테이너의 포트정보는 현재 컨테이너에서 실행중인 포트정보\ndocker ps\n```\n\n# reference\n- docker 무작정 따라하기 : https://www.slideshare.net/pyrasis/docker-fordummies-44424016\n- docker command : https://docs.docker.com/edge/engine/reference/commandline/docker/\n- swam : https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\n- docker를 이용한 ci stack 만들기 : https://github.com/marcelbirkner/docker-ci-tool-stack\n- docker network architecture : https://success.docker.com/article/Docker_Reference_Architecture-_Designing_Scalable,_Portable_Docker_Container_Networks\n- docker 이미지 만들기 1 : http://www.nurinamu.com/dev/2016/07/04/create-a-docker-image/\n- docker 이미지 만들기 2 : https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html\n- vagrant : https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\n","slug":"docker/docker","published":1,"updated":"2020-07-17T14:47:06.700Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvj000rtwuz2l11cx8m","content":"<p>Vagrant를 이용해 가상으로 서버를 생성하여 docker를 연습해볼 수 있는 환경을 만들어보자.</p>\n<h1 id=\"vagrant-환경설정\"><a href=\"#vagrant-환경설정\" class=\"headerlink\" title=\"vagrant 환경설정\"></a>vagrant 환경설정</h1><ol>\n<li>virtual box 설치 : <a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"noopener\">https://www.virtualbox.org/wiki/Downloads</a></li>\n<li>vagrant 설치 : <a href=\"https://www.vagrantup.com/downloads.html\" target=\"_blank\" rel=\"noopener\">https://www.vagrantup.com/downloads.html</a></li>\n<li>vagrant box 검색 : <a href=\"https://app.vagrantup.com/boxes/search\" target=\"_blank\" rel=\"noopener\">https://app.vagrantup.com/boxes/search</a></li>\n</ol>\n<h2 id=\"vagrant-기본-command\"><a href=\"#vagrant-기본-command\" class=\"headerlink\" title=\"vagrant 기본 command\"></a>vagrant 기본 command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ubuntu 16.04 설치하기</span><br><span class=\"line\">vagrant init ubuntu/xenial64</span><br><span class=\"line\"></span><br><span class=\"line\"># 재시작 (실행 중 변경된 환경설정 적용) --provision 옵션을 주면 새로 프로비져닝한다.</span><br><span class=\"line\">vagrant reload</span><br><span class=\"line\">  </span><br><span class=\"line\">#정지 상태로 변경</span><br><span class=\"line\">vagrant suspend</span><br><span class=\"line\"></span><br><span class=\"line\">#os 종료</span><br><span class=\"line\">vagrant halt</span><br><span class=\"line\"></span><br><span class=\"line\">#파일삭제 후 os 종료</span><br><span class=\"line\">vagrant destroy</span><br><span class=\"line\">  </span><br><span class=\"line\">#재시작 or 시작</span><br><span class=\"line\">vagrant up</span><br><span class=\"line\"></span><br><span class=\"line\">#vagrant os 접속 : init한 디렉토리에서 실행</span><br><span class=\"line\">#기본 id/password =&gt; vagrant/vagrant</span><br><span class=\"line\">vagrant ssh</span><br></pre></td></tr></table></figure>\n<h2 id=\"vagrant-설정-파일-수정\"><a href=\"#vagrant-설정-파일-수정\" class=\"headerlink\" title=\"vagrant 설정 파일 수정\"></a>vagrant 설정 파일 수정</h2><ul>\n<li>port forwarding : config.vm.network “forwarded_port”, guest: 6379, host: 1234</li>\n<li>아이피 주소 지정 : config.vm.network “private_network”, ip: “192.168.33.10”</li>\n</ul>\n<h1 id=\"docker-설치하기\"><a href=\"#docker-설치하기\" class=\"headerlink\" title=\"docker 설치하기\"></a>docker 설치하기</h1><p>ubuntu(16.04)에 docker 설치하기 : <a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/install/linux/docker-ce/ubuntu/</a></p>\n<h2 id=\"installation-command\"><a href=\"#installation-command\" class=\"headerlink\" title=\"installation command\"></a>installation command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 1</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\"># 2</span><br><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">    apt-transport-https \\</span><br><span class=\"line\">    ca-certificates \\</span><br><span class=\"line\">    curl \\</span><br><span class=\"line\">    software-properties-common</span><br><span class=\"line\"></span><br><span class=\"line\"># 3</span><br><span class=\"line\">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\"># 4</span><br><span class=\"line\">sudo apt-key fingerprint 0EBFCD88</span><br><span class=\"line\"></span><br><span class=\"line\"># 5</span><br><span class=\"line\">sudo add-apt-repository \\</span><br><span class=\"line\">   &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \\</span><br><span class=\"line\">   $(lsb_release -cs) \\</span><br><span class=\"line\">   stable&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># 6</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\"># 7-1 (latest 버전 설치하기)</span><br><span class=\"line\">sudo apt-get install docker-ce</span><br><span class=\"line\"></span><br><span class=\"line\"># 7-2 (지정한 버전 설치하기)</span><br><span class=\"line\">sudo apt-get install docker-ce=&lt;VERSION&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"># 8 버전확인하기</span><br><span class=\"line\">sudo docker --version</span><br><span class=\"line\"></span><br><span class=\"line\"># 9 hello-world 실행해보기</span><br><span class=\"line\">sudo docker run hello-world</span><br><span class=\"line\"></span><br><span class=\"line\"># (option) start on boot 설정</span><br><span class=\"line\">#enable</span><br><span class=\"line\">sudo systemctl enable docker</span><br><span class=\"line\">#disable</span><br><span class=\"line\">sudo systemctl disable docker</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-basic-command\"><a href=\"#docker-basic-command\" class=\"headerlink\" title=\"docker basic command\"></a>docker basic command</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## List Docker CLI commands</span><br><span class=\"line\">docker</span><br><span class=\"line\">docker container --help</span><br><span class=\"line\"></span><br><span class=\"line\">## Display Docker version and info</span><br><span class=\"line\">docker --version</span><br><span class=\"line\">docker version</span><br><span class=\"line\">docker info</span><br><span class=\"line\"></span><br><span class=\"line\">## Excecute Docker image : docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG…]</span><br><span class=\"line\">## 옵션</span><br><span class=\"line\">## -d    detached mode 흔히 말하는 백그라운드 모드</span><br><span class=\"line\">## -p    호스트와 컨테이너의 포트를 연결 (포워딩)</span><br><span class=\"line\">## -v    호스트와 컨테이너의 디렉토리를 연결 (마운트)</span><br><span class=\"line\">## -e    컨테이너 내에서 사용할 환경변수 설정</span><br><span class=\"line\">## –name    컨테이너 이름 설정</span><br><span class=\"line\">## –rm    프로세스 종료시 컨테이너 자동 제거</span><br><span class=\"line\">## -it    -i와 -t를 동시에 사용한 것으로 터미널 입력을 위한 옵션</span><br><span class=\"line\">## –link    컨테이너 연결 [컨테이너명:별칭]</span><br><span class=\"line\">docker run hello-world</span><br><span class=\"line\"></span><br><span class=\"line\">## List Docker images</span><br><span class=\"line\">docker image ls</span><br><span class=\"line\"></span><br><span class=\"line\">## List Docker containers (running, all, all in quiet mode)</span><br><span class=\"line\">docker container ls (= docker ps)</span><br><span class=\"line\">docker container ls -all #종료된 컨테이너 포함</span><br><span class=\"line\">docker container ls -a -q</span><br><span class=\"line\"></span><br><span class=\"line\">## start, stop, remove start Docker container</span><br><span class=\"line\">docker start containerID</span><br><span class=\"line\">docker stop containerID</span><br><span class=\"line\">docker rm containerID</span><br><span class=\"line\"></span><br><span class=\"line\">## docker log 확인하기</span><br><span class=\"line\">## 옵션</span><br><span class=\"line\">## --tail</span><br><span class=\"line\">## -f</span><br><span class=\"line\">docker logs -f containerID</span><br><span class=\"line\"></span><br><span class=\"line\">##실행중인 container에 접속하기</span><br><span class=\"line\">docker exec -it 053abaac4f93 /bin/bash</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-실행-amp-접속하기\"><a href=\"#docker-실행-amp-접속하기\" class=\"headerlink\" title=\"docker 실행 &amp; 접속하기\"></a>docker 실행 &amp; 접속하기</h1><ol>\n<li>이미지 찾기 : <a href=\"https://hub.docker.com/explore/\" target=\"_blank\" rel=\"noopener\">https://hub.docker.com/explore/</a></li>\n<li>ubuntu 이미지 실행하기 : <code>docker run -it ubuntu:16.04 /bin/bash</code><ul>\n<li>실행중인 프로세스가 없으면 컨테이너가 바로 종료됨</li>\n</ul>\n</li>\n<li>redis 이미지 실행하기 : <code>docker run -d -p 6379:6379 redis</code></li>\n<li>redis에 데이터 저장, 읽기 <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">telnet localhost 6379</span><br><span class=\"line\">set foo bar</span><br><span class=\"line\">get foo</span><br><span class=\"line\">## to exit telnet</span><br><span class=\"line\">ctrl + ] -&gt; ctrl + d</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h1 id=\"swarm-설정하기\"><a href=\"#swarm-설정하기\" class=\"headerlink\" title=\"swarm 설정하기\"></a>swarm 설정하기</h1><ol>\n<li>manager swarm initialization : swarm이 생성되면 자동으로 ingress라는 overlay 네트워크가 만들어짐</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># swarm 모드를 active 하면 ingress overlay network 가 생성됨</span><br><span class=\"line\">docker swarm init --advertise-addr ip_address_to_connect_with_worker</span><br><span class=\"line\"></span><br><span class=\"line\">#example</span><br><span class=\"line\">#docker swarm init --advertise-addr 192.168.33.10</span><br><span class=\"line\"></span><br><span class=\"line\">#swarm 해제하기</span><br><span class=\"line\">docker swarm leave</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>worker swarm 만들기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker swarm join --token token_value manager_node_ip_address:2377</span><br><span class=\"line\"></span><br><span class=\"line\">#example</span><br><span class=\"line\">#docker swarm join --token SWMTKN-1-63g2es09cpi3fgu3js0jhxc42e4hzp2npcuub8gxdv8ozra1ih-csp26l0gdhoeajgi8yxq7cm7c 192.168.33.10:2377</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>생성된 node 확인하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker node ls</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>서비스 실행하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker service create --name redis-m -p 6379:6379 redis</span><br><span class=\"line\"></span><br><span class=\"line\">#실행된 서비스 확인하기 : manager에서만 command 가능</span><br><span class=\"line\">docker service ls</span><br><span class=\"line\"></span><br><span class=\"line\">#생성된 컨테이너 확인</span><br><span class=\"line\">## host의 컨테이너 확인</span><br><span class=\"line\">docker container ls </span><br><span class=\"line\">docker ps</span><br><span class=\"line\"></span><br><span class=\"line\">## node에서 실행중인 컨테이너 확인 : manager에서만 command 가능</span><br><span class=\"line\">docker node ps</span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>HA(LB) 설계 : <a href=\"https://docs.docker.com/engine/swarm/ingress/#configure-an-external-load-balancer\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/engine/swarm/ingress/#configure-an-external-load-balancer</a></li>\n<li>TEST</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#192.168.33.11 서버</span><br><span class=\"line\">telnet localhost 6379</span><br><span class=\"line\">set test test</span><br><span class=\"line\"></span><br><span class=\"line\">#192.168.33.10 서버</span><br><span class=\"line\">telnet localhost 6379</span><br><span class=\"line\">get test</span><br></pre></td></tr></table></figure>\n<ol start=\"7\">\n<li>서버 스케일링하기 : 매니저 노드에서 실행</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker service scale redis-m=2</span><br><span class=\"line\">## *redis와 같은 data store는 data sync를 위해 솔루션에 맞는 추가설정을 해야 함 ##</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-network-https-docs-docker-com-network\"><a href=\"#docker-network-https-docs-docker-com-network\" class=\"headerlink\" title=\"docker network : https://docs.docker.com/network/\"></a>docker network : <a href=\"https://docs.docker.com/network/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/network/</a></h1><ul>\n<li>driver : host (호스트와 다른 설정이 필요할 때) / bridge (한 호스트 여러 컨테이너) / overlay (여러 호스트 여러 컨테이너, 다양한 애플리케이션) / macvlan / none</li>\n<li>network scope : local (호스트안에서 연결을 제공) / swarm (swarm 클러스터에서 연결이 가능)</li>\n</ul>\n<h2 id=\"overlay-네트워크-생성-network-turorial-overlay\"><a href=\"#overlay-네트워크-생성-network-turorial-overlay\" class=\"headerlink\" title=\"overlay 네트워크 생성 : network-turorial-overlay\"></a>overlay 네트워크 생성 : <a href=\"https://docs.docker.com/network/network-tutorial-overlay/#walkthrough\" target=\"_blank\" rel=\"noopener\">network-turorial-overlay</a></h2><p>swarm init과 함께 생성되는 ingress overlay 네트워크는 customize를 위해 삭제하고 원하는 옵션(서브넷, 게이트웨이…)을 주고 다시 만들 수 있다.</p>\n<ol>\n<li>swarm initialization</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker swarm init</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>네트워크 생성 : user-defined overlay / overlay network for standalone containers</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#overlay network 생성 on manager</span><br><span class=\"line\">docker network create -d overlay nginx-net</span><br><span class=\"line\"></span><br><span class=\"line\">#생성한 network 에 서비스 실행</span><br><span class=\"line\">#example (-p host port/geust port)</span><br><span class=\"line\">#docker service create --name redis-net-test --network redis-test --replicas 1 -p 6379:6379 redis</span><br><span class=\"line\"></span><br><span class=\"line\">#attachable을 이용해서 overlay 네트워크에 service가 아닌 container를 직섭 실행할 수 있다. </span><br><span class=\"line\">docker network create --driver=overlay --attachable test-net</span><br><span class=\"line\"></span><br><span class=\"line\">#목록</span><br><span class=\"line\">docker network ls</span><br></pre></td></tr></table></figure>\n<h1 id=\"Dockerizing-도커-이미지-만들기\"><a href=\"#Dockerizing-도커-이미지-만들기\" class=\"headerlink\" title=\"Dockerizing : 도커 이미지 만들기\"></a>Dockerizing : 도커 이미지 만들기</h1><h2 id=\"image-build-or-commit\"><a href=\"#image-build-or-commit\" class=\"headerlink\" title=\"image build or commit\"></a>image build or commit</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build</span><br><span class=\"line\">docker commit</span><br></pre></td></tr></table></figure>\n<h2 id=\"push-to-registry\"><a href=\"#push-to-registry\" class=\"headerlink\" title=\"push to registry\"></a>push to registry</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker push</span><br></pre></td></tr></table></figure>\n<h2 id=\"docker-file-설정-define-Dockerfile\"><a href=\"#docker-file-설정-define-Dockerfile\" class=\"headerlink\" title=\"docker file 설정 : define Dockerfile\"></a>docker file 설정 : <a href=\"https://docs.docker.com/get-started/part2/#your-new-development-environment\" target=\"_blank\" rel=\"noopener\">define Dockerfile</a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#example</span><br><span class=\"line\">FROM node:4.6.1</span><br><span class=\"line\"></span><br><span class=\"line\">ADD ./ /app</span><br><span class=\"line\">WORKDIR /app</span><br><span class=\"line\">RUN npm config set registry http://registry.npmjs.org</span><br><span class=\"line\">RUN npm install pm2@latest -g</span><br><span class=\"line\">RUN npm install</span><br><span class=\"line\"></span><br><span class=\"line\">ENV PORT 80</span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\"></span><br><span class=\"line\">#CMD [&quot;node&quot;, &quot;api.js&quot;</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-compose-swarm-실행하기-compose\"><a href=\"#docker-compose-swarm-실행하기-compose\" class=\"headerlink\" title=\"docker compose + swarm 실행하기 : compose\"></a>docker compose + swarm 실행하기 : <a href=\"https://docs.docker.com/compose/overview/\" target=\"_blank\" rel=\"noopener\">compose</a></h1><ul>\n<li>docker compose 는 여러 컨테이너를 정의하고 실행하기 위한 툴이다.</li>\n<li>docker compose 버전 3에서 swarm 서비스 배포가 가능하다.</li>\n</ul>\n<h2 id=\"설치하기\"><a href=\"#설치하기\" class=\"headerlink\" title=\"설치하기\"></a>설치하기</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#download</span><br><span class=\"line\">sudo curl -L https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">#실행권한주기 </span><br><span class=\"line\">sudo chmod +x /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">#버전확인</span><br><span class=\"line\">docker-compose --version</span><br></pre></td></tr></table></figure>\n<h2 id=\"example-docker-compose-yml-file-Example\"><a href=\"#example-docker-compose-yml-file-Example\" class=\"headerlink\" title=\"example docker-compose.yml file : Example\"></a>example docker-compose.yml file : <a href=\"https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md\" target=\"_blank\" rel=\"noopener\">Example</a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: &quot;3&quot;</span><br><span class=\"line\">services:</span><br><span class=\"line\"></span><br><span class=\"line\">  redis:</span><br><span class=\"line\">    image: redis:alpine</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - &quot;6379&quot;</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - frontend</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 2</span><br><span class=\"line\">      update_config:</span><br><span class=\"line\">        parallelism: 2</span><br><span class=\"line\">        delay: 10s</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">  db:</span><br><span class=\"line\">    image: postgres:9.4</span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - db-data:/var/lib/postgresql/data</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - backend</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      placement:</span><br><span class=\"line\">        constraints: [node.role == manager]</span><br><span class=\"line\">  vote:</span><br><span class=\"line\">    image: dockersamples/examplevotingapp_vote:before</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - 5000:80</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - frontend</span><br><span class=\"line\">    depends_on:</span><br><span class=\"line\">      - redis</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 2</span><br><span class=\"line\">      update_config:</span><br><span class=\"line\">        parallelism: 2</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">  result:</span><br><span class=\"line\">    image: dockersamples/examplevotingapp_result:before</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - 5001:80</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - backend</span><br><span class=\"line\">    depends_on:</span><br><span class=\"line\">      - db</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 1</span><br><span class=\"line\">      update_config:</span><br><span class=\"line\">        parallelism: 2</span><br><span class=\"line\">        delay: 10s</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\"></span><br><span class=\"line\">  worker:</span><br><span class=\"line\">    image: dockersamples/examplevotingapp_worker</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - frontend</span><br><span class=\"line\">      - backend</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      mode: replicated</span><br><span class=\"line\">      replicas: 1</span><br><span class=\"line\">      labels: [APP=VOTING]</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">        delay: 10s</span><br><span class=\"line\">        max_attempts: 3</span><br><span class=\"line\">        window: 120s</span><br><span class=\"line\">      placement:</span><br><span class=\"line\">        constraints: [node.role == manager]</span><br><span class=\"line\"></span><br><span class=\"line\">  visualizer:</span><br><span class=\"line\">    image: dockersamples/visualizer</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - &quot;8080:8080&quot;</span><br><span class=\"line\">    stop_grace_period: 1m30s</span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - /var/run/docker.sock:/var/run/docker.sock</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      placement:</span><br><span class=\"line\">        constraints: [node.role == manager]</span><br><span class=\"line\"></span><br><span class=\"line\">networks:</span><br><span class=\"line\">  frontend:</span><br><span class=\"line\">  backend:</span><br><span class=\"line\"></span><br><span class=\"line\">volumes:</span><br><span class=\"line\">  db-data:</span><br></pre></td></tr></table></figure>\n<h2 id=\"실행\"><a href=\"#실행\" class=\"headerlink\" title=\"실행\"></a>실행</h2><p><code>docker stack deploy --compose-file docker-compose.yml DEPLOYED_NAM</code></p>\n<h2 id=\"redis-master-slave-생성\"><a href=\"#redis-master-slave-생성\" class=\"headerlink\" title=\"redis master + slave 생성\"></a>redis master + slave 생성</h2><ol>\n<li>파일 작성 : docker-compose.yml</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: ‘3.3&apos;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  redis-master:</span><br><span class=\"line\">    image: redis</span><br><span class=\"line\">    #ports:</span><br><span class=\"line\">      #- &quot;6379:6379&quot; #host:container</span><br><span class=\"line\">networks:</span><br><span class=\"line\">     - some-network</span><br><span class=\"line\">  redis-slave:</span><br><span class=\"line\">    image: redis</span><br><span class=\"line\">    command: redis-server --slaveof redis-master 6379</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">      replicas: 3</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">     - some-network</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">networks:</span><br><span class=\"line\">  some-network:</span><br><span class=\"line\">driver: overlay</span><br><span class=\"line\">    attachable: true</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>실행</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#overlay network가 새로 생성되면서 서비스 2개가 생김</span><br><span class=\"line\">#port가 swarm외부에 열려있지 않음</span><br><span class=\"line\">docker stack deploy --compose-file docker-compose.yml redis-clu</span><br><span class=\"line\"></span><br><span class=\"line\">#service 확인 : 서비스에서 보이는 포트는 외부에서 swarm으로 들어가는 포트 정보</span><br><span class=\"line\">docker service ls</span><br><span class=\"line\"></span><br><span class=\"line\">#컨테이너 확인 : 컨테이너의 포트정보는 현재 컨테이너에서 실행중인 포트정보</span><br><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure>\n<h1 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h1><ul>\n<li>docker 무작정 따라하기 : <a href=\"https://www.slideshare.net/pyrasis/docker-fordummies-44424016\" target=\"_blank\" rel=\"noopener\">https://www.slideshare.net/pyrasis/docker-fordummies-44424016</a></li>\n<li>docker command : <a href=\"https://docs.docker.com/edge/engine/reference/commandline/docker/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/edge/engine/reference/commandline/docker/</a></li>\n<li>swam : <a href=\"https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\" target=\"_blank\" rel=\"noopener\">https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html</a></li>\n<li>docker를 이용한 ci stack 만들기 : <a href=\"https://github.com/marcelbirkner/docker-ci-tool-stack\" target=\"_blank\" rel=\"noopener\">https://github.com/marcelbirkner/docker-ci-tool-stack</a></li>\n<li>docker network architecture : <a href=\"https://success.docker.com/article/Docker_Reference_Architecture-_Designing_Scalable,_Portable_Docker_Container_Networks\" target=\"_blank\" rel=\"noopener\">https://success.docker.com/article/Docker_Reference_Architecture-_Designing_Scalable,_Portable_Docker_Container_Networks</a></li>\n<li>docker 이미지 만들기 1 : <a href=\"http://www.nurinamu.com/dev/2016/07/04/create-a-docker-image/\" target=\"_blank\" rel=\"noopener\">http://www.nurinamu.com/dev/2016/07/04/create-a-docker-image/</a></li>\n<li>docker 이미지 만들기 2 : <a href=\"https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html\" target=\"_blank\" rel=\"noopener\">https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html</a></li>\n<li>vagrant : <a href=\"https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\" target=\"_blank\" rel=\"noopener\">https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<p>Vagrant를 이용해 가상으로 서버를 생성하여 docker를 연습해볼 수 있는 환경을 만들어보자.</p>\n<h1 id=\"vagrant-환경설정\"><a href=\"#vagrant-환경설정\" class=\"headerlink\" title=\"vagrant 환경설정\"></a>vagrant 환경설정</h1><ol>\n<li>virtual box 설치 : <a href=\"https://www.virtualbox.org/wiki/Downloads\" target=\"_blank\" rel=\"noopener\">https://www.virtualbox.org/wiki/Downloads</a></li>\n<li>vagrant 설치 : <a href=\"https://www.vagrantup.com/downloads.html\" target=\"_blank\" rel=\"noopener\">https://www.vagrantup.com/downloads.html</a></li>\n<li>vagrant box 검색 : <a href=\"https://app.vagrantup.com/boxes/search\" target=\"_blank\" rel=\"noopener\">https://app.vagrantup.com/boxes/search</a></li>\n</ol>\n<h2 id=\"vagrant-기본-command\"><a href=\"#vagrant-기본-command\" class=\"headerlink\" title=\"vagrant 기본 command\"></a>vagrant 기본 command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ubuntu 16.04 설치하기</span><br><span class=\"line\">vagrant init ubuntu/xenial64</span><br><span class=\"line\"></span><br><span class=\"line\"># 재시작 (실행 중 변경된 환경설정 적용) --provision 옵션을 주면 새로 프로비져닝한다.</span><br><span class=\"line\">vagrant reload</span><br><span class=\"line\">  </span><br><span class=\"line\">#정지 상태로 변경</span><br><span class=\"line\">vagrant suspend</span><br><span class=\"line\"></span><br><span class=\"line\">#os 종료</span><br><span class=\"line\">vagrant halt</span><br><span class=\"line\"></span><br><span class=\"line\">#파일삭제 후 os 종료</span><br><span class=\"line\">vagrant destroy</span><br><span class=\"line\">  </span><br><span class=\"line\">#재시작 or 시작</span><br><span class=\"line\">vagrant up</span><br><span class=\"line\"></span><br><span class=\"line\">#vagrant os 접속 : init한 디렉토리에서 실행</span><br><span class=\"line\">#기본 id/password =&gt; vagrant/vagrant</span><br><span class=\"line\">vagrant ssh</span><br></pre></td></tr></table></figure>\n<h2 id=\"vagrant-설정-파일-수정\"><a href=\"#vagrant-설정-파일-수정\" class=\"headerlink\" title=\"vagrant 설정 파일 수정\"></a>vagrant 설정 파일 수정</h2><ul>\n<li>port forwarding : config.vm.network “forwarded_port”, guest: 6379, host: 1234</li>\n<li>아이피 주소 지정 : config.vm.network “private_network”, ip: “192.168.33.10”</li>\n</ul>\n<h1 id=\"docker-설치하기\"><a href=\"#docker-설치하기\" class=\"headerlink\" title=\"docker 설치하기\"></a>docker 설치하기</h1><p>ubuntu(16.04)에 docker 설치하기 : <a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/install/linux/docker-ce/ubuntu/</a></p>\n<h2 id=\"installation-command\"><a href=\"#installation-command\" class=\"headerlink\" title=\"installation command\"></a>installation command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 1</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\"># 2</span><br><span class=\"line\">sudo apt-get install \\</span><br><span class=\"line\">    apt-transport-https \\</span><br><span class=\"line\">    ca-certificates \\</span><br><span class=\"line\">    curl \\</span><br><span class=\"line\">    software-properties-common</span><br><span class=\"line\"></span><br><span class=\"line\"># 3</span><br><span class=\"line\">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\"># 4</span><br><span class=\"line\">sudo apt-key fingerprint 0EBFCD88</span><br><span class=\"line\"></span><br><span class=\"line\"># 5</span><br><span class=\"line\">sudo add-apt-repository \\</span><br><span class=\"line\">   &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \\</span><br><span class=\"line\">   $(lsb_release -cs) \\</span><br><span class=\"line\">   stable&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># 6</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\"># 7-1 (latest 버전 설치하기)</span><br><span class=\"line\">sudo apt-get install docker-ce</span><br><span class=\"line\"></span><br><span class=\"line\"># 7-2 (지정한 버전 설치하기)</span><br><span class=\"line\">sudo apt-get install docker-ce=&lt;VERSION&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"># 8 버전확인하기</span><br><span class=\"line\">sudo docker --version</span><br><span class=\"line\"></span><br><span class=\"line\"># 9 hello-world 실행해보기</span><br><span class=\"line\">sudo docker run hello-world</span><br><span class=\"line\"></span><br><span class=\"line\"># (option) start on boot 설정</span><br><span class=\"line\">#enable</span><br><span class=\"line\">sudo systemctl enable docker</span><br><span class=\"line\">#disable</span><br><span class=\"line\">sudo systemctl disable docker</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-basic-command\"><a href=\"#docker-basic-command\" class=\"headerlink\" title=\"docker basic command\"></a>docker basic command</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## List Docker CLI commands</span><br><span class=\"line\">docker</span><br><span class=\"line\">docker container --help</span><br><span class=\"line\"></span><br><span class=\"line\">## Display Docker version and info</span><br><span class=\"line\">docker --version</span><br><span class=\"line\">docker version</span><br><span class=\"line\">docker info</span><br><span class=\"line\"></span><br><span class=\"line\">## Excecute Docker image : docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG…]</span><br><span class=\"line\">## 옵션</span><br><span class=\"line\">## -d    detached mode 흔히 말하는 백그라운드 모드</span><br><span class=\"line\">## -p    호스트와 컨테이너의 포트를 연결 (포워딩)</span><br><span class=\"line\">## -v    호스트와 컨테이너의 디렉토리를 연결 (마운트)</span><br><span class=\"line\">## -e    컨테이너 내에서 사용할 환경변수 설정</span><br><span class=\"line\">## –name    컨테이너 이름 설정</span><br><span class=\"line\">## –rm    프로세스 종료시 컨테이너 자동 제거</span><br><span class=\"line\">## -it    -i와 -t를 동시에 사용한 것으로 터미널 입력을 위한 옵션</span><br><span class=\"line\">## –link    컨테이너 연결 [컨테이너명:별칭]</span><br><span class=\"line\">docker run hello-world</span><br><span class=\"line\"></span><br><span class=\"line\">## List Docker images</span><br><span class=\"line\">docker image ls</span><br><span class=\"line\"></span><br><span class=\"line\">## List Docker containers (running, all, all in quiet mode)</span><br><span class=\"line\">docker container ls (= docker ps)</span><br><span class=\"line\">docker container ls -all #종료된 컨테이너 포함</span><br><span class=\"line\">docker container ls -a -q</span><br><span class=\"line\"></span><br><span class=\"line\">## start, stop, remove start Docker container</span><br><span class=\"line\">docker start containerID</span><br><span class=\"line\">docker stop containerID</span><br><span class=\"line\">docker rm containerID</span><br><span class=\"line\"></span><br><span class=\"line\">## docker log 확인하기</span><br><span class=\"line\">## 옵션</span><br><span class=\"line\">## --tail</span><br><span class=\"line\">## -f</span><br><span class=\"line\">docker logs -f containerID</span><br><span class=\"line\"></span><br><span class=\"line\">##실행중인 container에 접속하기</span><br><span class=\"line\">docker exec -it 053abaac4f93 /bin/bash</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-실행-amp-접속하기\"><a href=\"#docker-실행-amp-접속하기\" class=\"headerlink\" title=\"docker 실행 &amp; 접속하기\"></a>docker 실행 &amp; 접속하기</h1><ol>\n<li>이미지 찾기 : <a href=\"https://hub.docker.com/explore/\" target=\"_blank\" rel=\"noopener\">https://hub.docker.com/explore/</a></li>\n<li>ubuntu 이미지 실행하기 : <code>docker run -it ubuntu:16.04 /bin/bash</code><ul>\n<li>실행중인 프로세스가 없으면 컨테이너가 바로 종료됨</li>\n</ul>\n</li>\n<li>redis 이미지 실행하기 : <code>docker run -d -p 6379:6379 redis</code></li>\n<li>redis에 데이터 저장, 읽기 <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">telnet localhost 6379</span><br><span class=\"line\">set foo bar</span><br><span class=\"line\">get foo</span><br><span class=\"line\">## to exit telnet</span><br><span class=\"line\">ctrl + ] -&gt; ctrl + d</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h1 id=\"swarm-설정하기\"><a href=\"#swarm-설정하기\" class=\"headerlink\" title=\"swarm 설정하기\"></a>swarm 설정하기</h1><ol>\n<li>manager swarm initialization : swarm이 생성되면 자동으로 ingress라는 overlay 네트워크가 만들어짐</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># swarm 모드를 active 하면 ingress overlay network 가 생성됨</span><br><span class=\"line\">docker swarm init --advertise-addr ip_address_to_connect_with_worker</span><br><span class=\"line\"></span><br><span class=\"line\">#example</span><br><span class=\"line\">#docker swarm init --advertise-addr 192.168.33.10</span><br><span class=\"line\"></span><br><span class=\"line\">#swarm 해제하기</span><br><span class=\"line\">docker swarm leave</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>worker swarm 만들기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker swarm join --token token_value manager_node_ip_address:2377</span><br><span class=\"line\"></span><br><span class=\"line\">#example</span><br><span class=\"line\">#docker swarm join --token SWMTKN-1-63g2es09cpi3fgu3js0jhxc42e4hzp2npcuub8gxdv8ozra1ih-csp26l0gdhoeajgi8yxq7cm7c 192.168.33.10:2377</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>생성된 node 확인하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker node ls</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li>서비스 실행하기</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker service create --name redis-m -p 6379:6379 redis</span><br><span class=\"line\"></span><br><span class=\"line\">#실행된 서비스 확인하기 : manager에서만 command 가능</span><br><span class=\"line\">docker service ls</span><br><span class=\"line\"></span><br><span class=\"line\">#생성된 컨테이너 확인</span><br><span class=\"line\">## host의 컨테이너 확인</span><br><span class=\"line\">docker container ls </span><br><span class=\"line\">docker ps</span><br><span class=\"line\"></span><br><span class=\"line\">## node에서 실행중인 컨테이너 확인 : manager에서만 command 가능</span><br><span class=\"line\">docker node ps</span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>HA(LB) 설계 : <a href=\"https://docs.docker.com/engine/swarm/ingress/#configure-an-external-load-balancer\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/engine/swarm/ingress/#configure-an-external-load-balancer</a></li>\n<li>TEST</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#192.168.33.11 서버</span><br><span class=\"line\">telnet localhost 6379</span><br><span class=\"line\">set test test</span><br><span class=\"line\"></span><br><span class=\"line\">#192.168.33.10 서버</span><br><span class=\"line\">telnet localhost 6379</span><br><span class=\"line\">get test</span><br></pre></td></tr></table></figure>\n<ol start=\"7\">\n<li>서버 스케일링하기 : 매니저 노드에서 실행</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker service scale redis-m=2</span><br><span class=\"line\">## *redis와 같은 data store는 data sync를 위해 솔루션에 맞는 추가설정을 해야 함 ##</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-network-https-docs-docker-com-network\"><a href=\"#docker-network-https-docs-docker-com-network\" class=\"headerlink\" title=\"docker network : https://docs.docker.com/network/\"></a>docker network : <a href=\"https://docs.docker.com/network/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/network/</a></h1><ul>\n<li>driver : host (호스트와 다른 설정이 필요할 때) / bridge (한 호스트 여러 컨테이너) / overlay (여러 호스트 여러 컨테이너, 다양한 애플리케이션) / macvlan / none</li>\n<li>network scope : local (호스트안에서 연결을 제공) / swarm (swarm 클러스터에서 연결이 가능)</li>\n</ul>\n<h2 id=\"overlay-네트워크-생성-network-turorial-overlay\"><a href=\"#overlay-네트워크-생성-network-turorial-overlay\" class=\"headerlink\" title=\"overlay 네트워크 생성 : network-turorial-overlay\"></a>overlay 네트워크 생성 : <a href=\"https://docs.docker.com/network/network-tutorial-overlay/#walkthrough\" target=\"_blank\" rel=\"noopener\">network-turorial-overlay</a></h2><p>swarm init과 함께 생성되는 ingress overlay 네트워크는 customize를 위해 삭제하고 원하는 옵션(서브넷, 게이트웨이…)을 주고 다시 만들 수 있다.</p>\n<ol>\n<li>swarm initialization</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker swarm init</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>네트워크 생성 : user-defined overlay / overlay network for standalone containers</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#overlay network 생성 on manager</span><br><span class=\"line\">docker network create -d overlay nginx-net</span><br><span class=\"line\"></span><br><span class=\"line\">#생성한 network 에 서비스 실행</span><br><span class=\"line\">#example (-p host port/geust port)</span><br><span class=\"line\">#docker service create --name redis-net-test --network redis-test --replicas 1 -p 6379:6379 redis</span><br><span class=\"line\"></span><br><span class=\"line\">#attachable을 이용해서 overlay 네트워크에 service가 아닌 container를 직섭 실행할 수 있다. </span><br><span class=\"line\">docker network create --driver=overlay --attachable test-net</span><br><span class=\"line\"></span><br><span class=\"line\">#목록</span><br><span class=\"line\">docker network ls</span><br></pre></td></tr></table></figure>\n<h1 id=\"Dockerizing-도커-이미지-만들기\"><a href=\"#Dockerizing-도커-이미지-만들기\" class=\"headerlink\" title=\"Dockerizing : 도커 이미지 만들기\"></a>Dockerizing : 도커 이미지 만들기</h1><h2 id=\"image-build-or-commit\"><a href=\"#image-build-or-commit\" class=\"headerlink\" title=\"image build or commit\"></a>image build or commit</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build</span><br><span class=\"line\">docker commit</span><br></pre></td></tr></table></figure>\n<h2 id=\"push-to-registry\"><a href=\"#push-to-registry\" class=\"headerlink\" title=\"push to registry\"></a>push to registry</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker push</span><br></pre></td></tr></table></figure>\n<h2 id=\"docker-file-설정-define-Dockerfile\"><a href=\"#docker-file-설정-define-Dockerfile\" class=\"headerlink\" title=\"docker file 설정 : define Dockerfile\"></a>docker file 설정 : <a href=\"https://docs.docker.com/get-started/part2/#your-new-development-environment\" target=\"_blank\" rel=\"noopener\">define Dockerfile</a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#example</span><br><span class=\"line\">FROM node:4.6.1</span><br><span class=\"line\"></span><br><span class=\"line\">ADD ./ /app</span><br><span class=\"line\">WORKDIR /app</span><br><span class=\"line\">RUN npm config set registry http://registry.npmjs.org</span><br><span class=\"line\">RUN npm install pm2@latest -g</span><br><span class=\"line\">RUN npm install</span><br><span class=\"line\"></span><br><span class=\"line\">ENV PORT 80</span><br><span class=\"line\">EXPOSE 80</span><br><span class=\"line\"></span><br><span class=\"line\">#CMD [&quot;node&quot;, &quot;api.js&quot;</span><br></pre></td></tr></table></figure>\n<h1 id=\"docker-compose-swarm-실행하기-compose\"><a href=\"#docker-compose-swarm-실행하기-compose\" class=\"headerlink\" title=\"docker compose + swarm 실행하기 : compose\"></a>docker compose + swarm 실행하기 : <a href=\"https://docs.docker.com/compose/overview/\" target=\"_blank\" rel=\"noopener\">compose</a></h1><ul>\n<li>docker compose 는 여러 컨테이너를 정의하고 실행하기 위한 툴이다.</li>\n<li>docker compose 버전 3에서 swarm 서비스 배포가 가능하다.</li>\n</ul>\n<h2 id=\"설치하기\"><a href=\"#설치하기\" class=\"headerlink\" title=\"설치하기\"></a>설치하기</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#download</span><br><span class=\"line\">sudo curl -L https://github.com/docker/compose/releases/download/1.19.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">#실행권한주기 </span><br><span class=\"line\">sudo chmod +x /usr/local/bin/docker-compose</span><br><span class=\"line\"></span><br><span class=\"line\">#버전확인</span><br><span class=\"line\">docker-compose --version</span><br></pre></td></tr></table></figure>\n<h2 id=\"example-docker-compose-yml-file-Example\"><a href=\"#example-docker-compose-yml-file-Example\" class=\"headerlink\" title=\"example docker-compose.yml file : Example\"></a>example docker-compose.yml file : <a href=\"https://github.com/docker/labs/blob/master/beginner/chapters/votingapp.md\" target=\"_blank\" rel=\"noopener\">Example</a></h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: &quot;3&quot;</span><br><span class=\"line\">services:</span><br><span class=\"line\"></span><br><span class=\"line\">  redis:</span><br><span class=\"line\">    image: redis:alpine</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - &quot;6379&quot;</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - frontend</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 2</span><br><span class=\"line\">      update_config:</span><br><span class=\"line\">        parallelism: 2</span><br><span class=\"line\">        delay: 10s</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">  db:</span><br><span class=\"line\">    image: postgres:9.4</span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - db-data:/var/lib/postgresql/data</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - backend</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      placement:</span><br><span class=\"line\">        constraints: [node.role == manager]</span><br><span class=\"line\">  vote:</span><br><span class=\"line\">    image: dockersamples/examplevotingapp_vote:before</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - 5000:80</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - frontend</span><br><span class=\"line\">    depends_on:</span><br><span class=\"line\">      - redis</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 2</span><br><span class=\"line\">      update_config:</span><br><span class=\"line\">        parallelism: 2</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">  result:</span><br><span class=\"line\">    image: dockersamples/examplevotingapp_result:before</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - 5001:80</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - backend</span><br><span class=\"line\">    depends_on:</span><br><span class=\"line\">      - db</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      replicas: 1</span><br><span class=\"line\">      update_config:</span><br><span class=\"line\">        parallelism: 2</span><br><span class=\"line\">        delay: 10s</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\"></span><br><span class=\"line\">  worker:</span><br><span class=\"line\">    image: dockersamples/examplevotingapp_worker</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">      - frontend</span><br><span class=\"line\">      - backend</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      mode: replicated</span><br><span class=\"line\">      replicas: 1</span><br><span class=\"line\">      labels: [APP=VOTING]</span><br><span class=\"line\">      restart_policy:</span><br><span class=\"line\">        condition: on-failure</span><br><span class=\"line\">        delay: 10s</span><br><span class=\"line\">        max_attempts: 3</span><br><span class=\"line\">        window: 120s</span><br><span class=\"line\">      placement:</span><br><span class=\"line\">        constraints: [node.role == manager]</span><br><span class=\"line\"></span><br><span class=\"line\">  visualizer:</span><br><span class=\"line\">    image: dockersamples/visualizer</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - &quot;8080:8080&quot;</span><br><span class=\"line\">    stop_grace_period: 1m30s</span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - /var/run/docker.sock:/var/run/docker.sock</span><br><span class=\"line\">    deploy:</span><br><span class=\"line\">      placement:</span><br><span class=\"line\">        constraints: [node.role == manager]</span><br><span class=\"line\"></span><br><span class=\"line\">networks:</span><br><span class=\"line\">  frontend:</span><br><span class=\"line\">  backend:</span><br><span class=\"line\"></span><br><span class=\"line\">volumes:</span><br><span class=\"line\">  db-data:</span><br></pre></td></tr></table></figure>\n<h2 id=\"실행\"><a href=\"#실행\" class=\"headerlink\" title=\"실행\"></a>실행</h2><p><code>docker stack deploy --compose-file docker-compose.yml DEPLOYED_NAM</code></p>\n<h2 id=\"redis-master-slave-생성\"><a href=\"#redis-master-slave-생성\" class=\"headerlink\" title=\"redis master + slave 생성\"></a>redis master + slave 생성</h2><ol>\n<li>파일 작성 : docker-compose.yml</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: ‘3.3&apos;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  redis-master:</span><br><span class=\"line\">    image: redis</span><br><span class=\"line\">    #ports:</span><br><span class=\"line\">      #- &quot;6379:6379&quot; #host:container</span><br><span class=\"line\">networks:</span><br><span class=\"line\">     - some-network</span><br><span class=\"line\">  redis-slave:</span><br><span class=\"line\">    image: redis</span><br><span class=\"line\">    command: redis-server --slaveof redis-master 6379</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">      replicas: 3</span><br><span class=\"line\">    networks:</span><br><span class=\"line\">     - some-network</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">networks:</span><br><span class=\"line\">  some-network:</span><br><span class=\"line\">driver: overlay</span><br><span class=\"line\">    attachable: true</span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>실행</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#overlay network가 새로 생성되면서 서비스 2개가 생김</span><br><span class=\"line\">#port가 swarm외부에 열려있지 않음</span><br><span class=\"line\">docker stack deploy --compose-file docker-compose.yml redis-clu</span><br><span class=\"line\"></span><br><span class=\"line\">#service 확인 : 서비스에서 보이는 포트는 외부에서 swarm으로 들어가는 포트 정보</span><br><span class=\"line\">docker service ls</span><br><span class=\"line\"></span><br><span class=\"line\">#컨테이너 확인 : 컨테이너의 포트정보는 현재 컨테이너에서 실행중인 포트정보</span><br><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure>\n<h1 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h1><ul>\n<li>docker 무작정 따라하기 : <a href=\"https://www.slideshare.net/pyrasis/docker-fordummies-44424016\" target=\"_blank\" rel=\"noopener\">https://www.slideshare.net/pyrasis/docker-fordummies-44424016</a></li>\n<li>docker command : <a href=\"https://docs.docker.com/edge/engine/reference/commandline/docker/\" target=\"_blank\" rel=\"noopener\">https://docs.docker.com/edge/engine/reference/commandline/docker/</a></li>\n<li>swam : <a href=\"https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\" target=\"_blank\" rel=\"noopener\">https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html</a></li>\n<li>docker를 이용한 ci stack 만들기 : <a href=\"https://github.com/marcelbirkner/docker-ci-tool-stack\" target=\"_blank\" rel=\"noopener\">https://github.com/marcelbirkner/docker-ci-tool-stack</a></li>\n<li>docker network architecture : <a href=\"https://success.docker.com/article/Docker_Reference_Architecture-_Designing_Scalable,_Portable_Docker_Container_Networks\" target=\"_blank\" rel=\"noopener\">https://success.docker.com/article/Docker_Reference_Architecture-_Designing_Scalable,_Portable_Docker_Container_Networks</a></li>\n<li>docker 이미지 만들기 1 : <a href=\"http://www.nurinamu.com/dev/2016/07/04/create-a-docker-image/\" target=\"_blank\" rel=\"noopener\">http://www.nurinamu.com/dev/2016/07/04/create-a-docker-image/</a></li>\n<li>docker 이미지 만들기 2 : <a href=\"https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html\" target=\"_blank\" rel=\"noopener\">https://subicura.com/2017/02/10/docker-guide-for-beginners-create-image-and-deploy.html</a></li>\n<li>vagrant : <a href=\"https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html\" target=\"_blank\" rel=\"noopener\">https://subicura.com/2017/02/25/container-orchestration-with-docker-swarm.html</a></li>\n</ul>\n"},{"title":"ionic-make-android-jar","date":"2019-02-04T07:18:33.000Z","_content":"#### 릴리즈 버전 apk 파일 생성\n```\nionic cordova build android --release\n```\n\ncommand를 입력하면 아래처럼 빌드결과가 출력됩니다.\n\n```\n.\n.\n.\n:transformNative_libsWithMergeJniLibsForRelease\n:processReleaseJavaRes UP-TO-DATE\n:transformResourcesWithMergeJavaResForRelease\n:packageRelease\n:assembleRelease\n:cdvBuildRelease\n\nBUILD SUCCESSFUL    \n\nTotal time: 22.868 secs\nBuilt the following apk(s): \n        /workspace_path/platforms/android/build/outputs/apk/android-release-unsigned.apk\n\n```\n\n#### keystore 파일만들기\nkeystore를 만들 때 password를 물어보는데, 잘 저장해 두세요. \n아래 굵은 글씨로 작성한 sign key도 잘 저장해 두어야 합니다.\n(* keystore는 처음 한번만 만들어 사용합니다.)\n```\nkeytool -genkey -v -keystore stroke-key.keystore -alias **its_my_sign_key** -keyalg RSA -keysize 2048 -validity 10000\n```\n\n#### apk sign하기\n위에서 만든 릴리즈버전 apk에 아래 command로 sign을 해주자 (keystore 만들 때 지정한 password를 물어봅니다)\n\n```\njarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore stroke-key.keystore android-release-unsigned.apk **its_my_sign_key**\n```\n\n#### apk align 하기\n```\n~/Library/Android/sdk/build-tools/25.0.2/zipalign -v 4 /path/android-release-unsigned.apk android-release-aligned.apk\n```\n\n***최종 아웃풋 파일인 `android-release-aligned.apk`를 마켓에 업로드할 수 있습니다.***\n","source":"_posts/ionic/ionic-make-android-jar.md","raw":"---\ntitle: ionic-make-android-jar\ndate: 2019-02-04 16:18:33\ntags:\n- mobile\n- ionic\n- android\ncategories:\n- ionic\n---\n#### 릴리즈 버전 apk 파일 생성\n```\nionic cordova build android --release\n```\n\ncommand를 입력하면 아래처럼 빌드결과가 출력됩니다.\n\n```\n.\n.\n.\n:transformNative_libsWithMergeJniLibsForRelease\n:processReleaseJavaRes UP-TO-DATE\n:transformResourcesWithMergeJavaResForRelease\n:packageRelease\n:assembleRelease\n:cdvBuildRelease\n\nBUILD SUCCESSFUL    \n\nTotal time: 22.868 secs\nBuilt the following apk(s): \n        /workspace_path/platforms/android/build/outputs/apk/android-release-unsigned.apk\n\n```\n\n#### keystore 파일만들기\nkeystore를 만들 때 password를 물어보는데, 잘 저장해 두세요. \n아래 굵은 글씨로 작성한 sign key도 잘 저장해 두어야 합니다.\n(* keystore는 처음 한번만 만들어 사용합니다.)\n```\nkeytool -genkey -v -keystore stroke-key.keystore -alias **its_my_sign_key** -keyalg RSA -keysize 2048 -validity 10000\n```\n\n#### apk sign하기\n위에서 만든 릴리즈버전 apk에 아래 command로 sign을 해주자 (keystore 만들 때 지정한 password를 물어봅니다)\n\n```\njarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore stroke-key.keystore android-release-unsigned.apk **its_my_sign_key**\n```\n\n#### apk align 하기\n```\n~/Library/Android/sdk/build-tools/25.0.2/zipalign -v 4 /path/android-release-unsigned.apk android-release-aligned.apk\n```\n\n***최종 아웃풋 파일인 `android-release-aligned.apk`를 마켓에 업로드할 수 있습니다.***\n","slug":"ionic/ionic-make-android-jar","published":1,"updated":"2020-07-17T14:47:06.701Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvl000utwuzn6lgvzfs","content":"<h4 id=\"릴리즈-버전-apk-파일-생성\"><a href=\"#릴리즈-버전-apk-파일-생성\" class=\"headerlink\" title=\"릴리즈 버전 apk 파일 생성\"></a>릴리즈 버전 apk 파일 생성</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova build android --release</span><br></pre></td></tr></table></figure>\n<p>command를 입력하면 아래처럼 빌드결과가 출력됩니다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">.</span><br><span class=\"line\">.</span><br><span class=\"line\">:transformNative_libsWithMergeJniLibsForRelease</span><br><span class=\"line\">:processReleaseJavaRes UP-TO-DATE</span><br><span class=\"line\">:transformResourcesWithMergeJavaResForRelease</span><br><span class=\"line\">:packageRelease</span><br><span class=\"line\">:assembleRelease</span><br><span class=\"line\">:cdvBuildRelease</span><br><span class=\"line\"></span><br><span class=\"line\">BUILD SUCCESSFUL    </span><br><span class=\"line\"></span><br><span class=\"line\">Total time: 22.868 secs</span><br><span class=\"line\">Built the following apk(s): </span><br><span class=\"line\">        /workspace_path/platforms/android/build/outputs/apk/android-release-unsigned.apk</span><br></pre></td></tr></table></figure>\n<h4 id=\"keystore-파일만들기\"><a href=\"#keystore-파일만들기\" class=\"headerlink\" title=\"keystore 파일만들기\"></a>keystore 파일만들기</h4><p>keystore를 만들 때 password를 물어보는데, 잘 저장해 두세요.<br>아래 굵은 글씨로 작성한 sign key도 잘 저장해 두어야 합니다.<br>(* keystore는 처음 한번만 만들어 사용합니다.)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">keytool -genkey -v -keystore stroke-key.keystore -alias **its_my_sign_key** -keyalg RSA -keysize 2048 -validity 10000</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"apk-sign하기\"><a href=\"#apk-sign하기\" class=\"headerlink\" title=\"apk sign하기\"></a>apk sign하기</h4><p>위에서 만든 릴리즈버전 apk에 아래 command로 sign을 해주자 (keystore 만들 때 지정한 password를 물어봅니다)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore stroke-key.keystore android-release-unsigned.apk **its_my_sign_key**</span><br></pre></td></tr></table></figure>\n<h4 id=\"apk-align-하기\"><a href=\"#apk-align-하기\" class=\"headerlink\" title=\"apk align 하기\"></a>apk align 하기</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/Library/Android/sdk/build-tools/25.0.2/zipalign -v 4 /path/android-release-unsigned.apk android-release-aligned.apk</span><br></pre></td></tr></table></figure>\n<p><strong><em>최종 아웃풋 파일인 <code>android-release-aligned.apk</code>를 마켓에 업로드할 수 있습니다.</em></strong></p>\n","site":{"data":{}},"excerpt":"","more":"<h4 id=\"릴리즈-버전-apk-파일-생성\"><a href=\"#릴리즈-버전-apk-파일-생성\" class=\"headerlink\" title=\"릴리즈 버전 apk 파일 생성\"></a>릴리즈 버전 apk 파일 생성</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova build android --release</span><br></pre></td></tr></table></figure>\n<p>command를 입력하면 아래처럼 빌드결과가 출력됩니다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">.</span><br><span class=\"line\">.</span><br><span class=\"line\">:transformNative_libsWithMergeJniLibsForRelease</span><br><span class=\"line\">:processReleaseJavaRes UP-TO-DATE</span><br><span class=\"line\">:transformResourcesWithMergeJavaResForRelease</span><br><span class=\"line\">:packageRelease</span><br><span class=\"line\">:assembleRelease</span><br><span class=\"line\">:cdvBuildRelease</span><br><span class=\"line\"></span><br><span class=\"line\">BUILD SUCCESSFUL    </span><br><span class=\"line\"></span><br><span class=\"line\">Total time: 22.868 secs</span><br><span class=\"line\">Built the following apk(s): </span><br><span class=\"line\">        /workspace_path/platforms/android/build/outputs/apk/android-release-unsigned.apk</span><br></pre></td></tr></table></figure>\n<h4 id=\"keystore-파일만들기\"><a href=\"#keystore-파일만들기\" class=\"headerlink\" title=\"keystore 파일만들기\"></a>keystore 파일만들기</h4><p>keystore를 만들 때 password를 물어보는데, 잘 저장해 두세요.<br>아래 굵은 글씨로 작성한 sign key도 잘 저장해 두어야 합니다.<br>(* keystore는 처음 한번만 만들어 사용합니다.)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">keytool -genkey -v -keystore stroke-key.keystore -alias **its_my_sign_key** -keyalg RSA -keysize 2048 -validity 10000</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"apk-sign하기\"><a href=\"#apk-sign하기\" class=\"headerlink\" title=\"apk sign하기\"></a>apk sign하기</h4><p>위에서 만든 릴리즈버전 apk에 아래 command로 sign을 해주자 (keystore 만들 때 지정한 password를 물어봅니다)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore stroke-key.keystore android-release-unsigned.apk **its_my_sign_key**</span><br></pre></td></tr></table></figure>\n<h4 id=\"apk-align-하기\"><a href=\"#apk-align-하기\" class=\"headerlink\" title=\"apk align 하기\"></a>apk align 하기</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/Library/Android/sdk/build-tools/25.0.2/zipalign -v 4 /path/android-release-unsigned.apk android-release-aligned.apk</span><br></pre></td></tr></table></figure>\n<p><strong><em>최종 아웃풋 파일인 <code>android-release-aligned.apk</code>를 마켓에 업로드할 수 있습니다.</em></strong></p>\n"},{"title":"ionic-app-play-store-registration","date":"2019-02-04T07:16:26.000Z","_content":"### 구글 플레이 개발자 콘솔에 접속해보자 (https://play.google.com/apps/publish)\n\n> 업로드전에 앱의 아이콘과 스플래쉬 이미지부터 변경해두자 (png 파일이어야 함)\n\n참고사이트 \n- https://thenounproject.com/\n- https://www.iconfinder.com/\n\n#### 1. 스토어 등록정보 \n\n![스토어 화면](/images/ionic/play_store.png \"스토어 화면\")\n\n애플리케이션 만들기를 하면 상단 화면과 같은 팝업을 볼 수 있다.\n\n만들기를 클릭한 후 상세화면에서 *가 체크된 필수 항목을 채워서 저장해야 한다.\n\n필수 항목을 채우기 위해서 아래 이미지 파일이 필요하다\n\n- 2개이상의 스크린샷 (JPEG 또는 24비트 PNG(알파 없음). 측면 최소 길이: 320픽셀. 측면 최대 길이: 3840픽셀.)\n- 고해상도 아이콘 (512x512, 32비트 PNG(알파 있음))\n- 그래픽 이미지 : 앱다운로드 화면의 배경으로 사용된다 (가로세로 1024x500, JPG 또는 24비트 PNG(알파 없음))\n\n필수 항목을 다 채우고 저장하면 메뉴에서 초록색 체크를 확인할 수 있다.\n\n![메뉴 화면](/images/ionic/play_store_menu.png \"메뉴 화면\")\n\n이제 나머지 ! 표시가 있는 메뉴정보를 설정해보자\n\n#### 2. 앱 등록하기\n\n스토어에 업로드 가능한 apk 버전을 만들어야 합니다.\n(참고 :  [APK 만들기](https://j2yes.github.io/ionic-2/make-android-jar/) )\n\n#### 3. 콘텐츠 등급 & 가격 및 배포 설정\n\n그냥 설문에 잘 응답하고 체크하면서 넘어가면 됩니다. \n\n여기까지 완료하면 오른쪽 상단에 출시준비 버튼을 보실 수 있습니다. \n\n출시준비 버튼을 누르면 나오는 화면에서 프로덕션 버전으로 업로드한 앱을 최종적으로 검토버튼으로 제출하면 됩니다.\n\n(이제 기다리는 일만 남았습니다. 끝!)","source":"_posts/ionic/ionic-app-play-store-registration.md","raw":"---\ntitle: ionic-app-play-store-registration\ndate: 2019-02-04 16:16:26\ntags:\n- mobile\n- ionic\n- android\n- play store\ncategories:\n- ionic\n---\n### 구글 플레이 개발자 콘솔에 접속해보자 (https://play.google.com/apps/publish)\n\n> 업로드전에 앱의 아이콘과 스플래쉬 이미지부터 변경해두자 (png 파일이어야 함)\n\n참고사이트 \n- https://thenounproject.com/\n- https://www.iconfinder.com/\n\n#### 1. 스토어 등록정보 \n\n![스토어 화면](/images/ionic/play_store.png \"스토어 화면\")\n\n애플리케이션 만들기를 하면 상단 화면과 같은 팝업을 볼 수 있다.\n\n만들기를 클릭한 후 상세화면에서 *가 체크된 필수 항목을 채워서 저장해야 한다.\n\n필수 항목을 채우기 위해서 아래 이미지 파일이 필요하다\n\n- 2개이상의 스크린샷 (JPEG 또는 24비트 PNG(알파 없음). 측면 최소 길이: 320픽셀. 측면 최대 길이: 3840픽셀.)\n- 고해상도 아이콘 (512x512, 32비트 PNG(알파 있음))\n- 그래픽 이미지 : 앱다운로드 화면의 배경으로 사용된다 (가로세로 1024x500, JPG 또는 24비트 PNG(알파 없음))\n\n필수 항목을 다 채우고 저장하면 메뉴에서 초록색 체크를 확인할 수 있다.\n\n![메뉴 화면](/images/ionic/play_store_menu.png \"메뉴 화면\")\n\n이제 나머지 ! 표시가 있는 메뉴정보를 설정해보자\n\n#### 2. 앱 등록하기\n\n스토어에 업로드 가능한 apk 버전을 만들어야 합니다.\n(참고 :  [APK 만들기](https://j2yes.github.io/ionic-2/make-android-jar/) )\n\n#### 3. 콘텐츠 등급 & 가격 및 배포 설정\n\n그냥 설문에 잘 응답하고 체크하면서 넘어가면 됩니다. \n\n여기까지 완료하면 오른쪽 상단에 출시준비 버튼을 보실 수 있습니다. \n\n출시준비 버튼을 누르면 나오는 화면에서 프로덕션 버전으로 업로드한 앱을 최종적으로 검토버튼으로 제출하면 됩니다.\n\n(이제 기다리는 일만 남았습니다. 끝!)","slug":"ionic/ionic-app-play-store-registration","published":1,"updated":"2020-07-17T14:47:06.700Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvl000vtwuz2c9snmcm","content":"<h3 id=\"구글-플레이-개발자-콘솔에-접속해보자-https-play-google-com-apps-publish\"><a href=\"#구글-플레이-개발자-콘솔에-접속해보자-https-play-google-com-apps-publish\" class=\"headerlink\" title=\"구글 플레이 개발자 콘솔에 접속해보자 (https://play.google.com/apps/publish)\"></a>구글 플레이 개발자 콘솔에 접속해보자 (<a href=\"https://play.google.com/apps/publish\" target=\"_blank\" rel=\"noopener\">https://play.google.com/apps/publish</a>)</h3><blockquote>\n<p>업로드전에 앱의 아이콘과 스플래쉬 이미지부터 변경해두자 (png 파일이어야 함)</p>\n</blockquote>\n<p>참고사이트 </p>\n<ul>\n<li><a href=\"https://thenounproject.com/\" target=\"_blank\" rel=\"noopener\">https://thenounproject.com/</a></li>\n<li><a href=\"https://www.iconfinder.com/\" target=\"_blank\" rel=\"noopener\">https://www.iconfinder.com/</a></li>\n</ul>\n<h4 id=\"1-스토어-등록정보\"><a href=\"#1-스토어-등록정보\" class=\"headerlink\" title=\"1. 스토어 등록정보\"></a>1. 스토어 등록정보</h4><p><img src=\"/images/ionic/play_store.png\" alt=\"스토어 화면\" title=\"스토어 화면\"></p>\n<p>애플리케이션 만들기를 하면 상단 화면과 같은 팝업을 볼 수 있다.</p>\n<p>만들기를 클릭한 후 상세화면에서 *가 체크된 필수 항목을 채워서 저장해야 한다.</p>\n<p>필수 항목을 채우기 위해서 아래 이미지 파일이 필요하다</p>\n<ul>\n<li>2개이상의 스크린샷 (JPEG 또는 24비트 PNG(알파 없음). 측면 최소 길이: 320픽셀. 측면 최대 길이: 3840픽셀.)</li>\n<li>고해상도 아이콘 (512x512, 32비트 PNG(알파 있음))</li>\n<li>그래픽 이미지 : 앱다운로드 화면의 배경으로 사용된다 (가로세로 1024x500, JPG 또는 24비트 PNG(알파 없음))</li>\n</ul>\n<p>필수 항목을 다 채우고 저장하면 메뉴에서 초록색 체크를 확인할 수 있다.</p>\n<p><img src=\"/images/ionic/play_store_menu.png\" alt=\"메뉴 화면\" title=\"메뉴 화면\"></p>\n<p>이제 나머지 ! 표시가 있는 메뉴정보를 설정해보자</p>\n<h4 id=\"2-앱-등록하기\"><a href=\"#2-앱-등록하기\" class=\"headerlink\" title=\"2. 앱 등록하기\"></a>2. 앱 등록하기</h4><p>스토어에 업로드 가능한 apk 버전을 만들어야 합니다.<br>(참고 :  <a href=\"https://j2yes.github.io/ionic-2/make-android-jar/\">APK 만들기</a> )</p>\n<h4 id=\"3-콘텐츠-등급-amp-가격-및-배포-설정\"><a href=\"#3-콘텐츠-등급-amp-가격-및-배포-설정\" class=\"headerlink\" title=\"3. 콘텐츠 등급 &amp; 가격 및 배포 설정\"></a>3. 콘텐츠 등급 &amp; 가격 및 배포 설정</h4><p>그냥 설문에 잘 응답하고 체크하면서 넘어가면 됩니다. </p>\n<p>여기까지 완료하면 오른쪽 상단에 출시준비 버튼을 보실 수 있습니다. </p>\n<p>출시준비 버튼을 누르면 나오는 화면에서 프로덕션 버전으로 업로드한 앱을 최종적으로 검토버튼으로 제출하면 됩니다.</p>\n<p>(이제 기다리는 일만 남았습니다. 끝!)</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"구글-플레이-개발자-콘솔에-접속해보자-https-play-google-com-apps-publish\"><a href=\"#구글-플레이-개발자-콘솔에-접속해보자-https-play-google-com-apps-publish\" class=\"headerlink\" title=\"구글 플레이 개발자 콘솔에 접속해보자 (https://play.google.com/apps/publish)\"></a>구글 플레이 개발자 콘솔에 접속해보자 (<a href=\"https://play.google.com/apps/publish\" target=\"_blank\" rel=\"noopener\">https://play.google.com/apps/publish</a>)</h3><blockquote>\n<p>업로드전에 앱의 아이콘과 스플래쉬 이미지부터 변경해두자 (png 파일이어야 함)</p>\n</blockquote>\n<p>참고사이트 </p>\n<ul>\n<li><a href=\"https://thenounproject.com/\" target=\"_blank\" rel=\"noopener\">https://thenounproject.com/</a></li>\n<li><a href=\"https://www.iconfinder.com/\" target=\"_blank\" rel=\"noopener\">https://www.iconfinder.com/</a></li>\n</ul>\n<h4 id=\"1-스토어-등록정보\"><a href=\"#1-스토어-등록정보\" class=\"headerlink\" title=\"1. 스토어 등록정보\"></a>1. 스토어 등록정보</h4><p><img src=\"/images/ionic/play_store.png\" alt=\"스토어 화면\" title=\"스토어 화면\"></p>\n<p>애플리케이션 만들기를 하면 상단 화면과 같은 팝업을 볼 수 있다.</p>\n<p>만들기를 클릭한 후 상세화면에서 *가 체크된 필수 항목을 채워서 저장해야 한다.</p>\n<p>필수 항목을 채우기 위해서 아래 이미지 파일이 필요하다</p>\n<ul>\n<li>2개이상의 스크린샷 (JPEG 또는 24비트 PNG(알파 없음). 측면 최소 길이: 320픽셀. 측면 최대 길이: 3840픽셀.)</li>\n<li>고해상도 아이콘 (512x512, 32비트 PNG(알파 있음))</li>\n<li>그래픽 이미지 : 앱다운로드 화면의 배경으로 사용된다 (가로세로 1024x500, JPG 또는 24비트 PNG(알파 없음))</li>\n</ul>\n<p>필수 항목을 다 채우고 저장하면 메뉴에서 초록색 체크를 확인할 수 있다.</p>\n<p><img src=\"/images/ionic/play_store_menu.png\" alt=\"메뉴 화면\" title=\"메뉴 화면\"></p>\n<p>이제 나머지 ! 표시가 있는 메뉴정보를 설정해보자</p>\n<h4 id=\"2-앱-등록하기\"><a href=\"#2-앱-등록하기\" class=\"headerlink\" title=\"2. 앱 등록하기\"></a>2. 앱 등록하기</h4><p>스토어에 업로드 가능한 apk 버전을 만들어야 합니다.<br>(참고 :  <a href=\"https://j2yes.github.io/ionic-2/make-android-jar/\">APK 만들기</a> )</p>\n<h4 id=\"3-콘텐츠-등급-amp-가격-및-배포-설정\"><a href=\"#3-콘텐츠-등급-amp-가격-및-배포-설정\" class=\"headerlink\" title=\"3. 콘텐츠 등급 &amp; 가격 및 배포 설정\"></a>3. 콘텐츠 등급 &amp; 가격 및 배포 설정</h4><p>그냥 설문에 잘 응답하고 체크하면서 넘어가면 됩니다. </p>\n<p>여기까지 완료하면 오른쪽 상단에 출시준비 버튼을 보실 수 있습니다. </p>\n<p>출시준비 버튼을 누르면 나오는 화면에서 프로덕션 버전으로 업로드한 앱을 최종적으로 검토버튼으로 제출하면 됩니다.</p>\n<p>(이제 기다리는 일만 남았습니다. 끝!)</p>\n"},{"title":"ionic-get-started","date":"2019-02-04T06:49:46.000Z","_content":"### 프로젝트 구조\n\n![폴더 구조](/images/ionic/folder_structure.png \"folder_structure\")\n\n- src/app : app.module.ts가 entry point ( index.html에서 ion-app에 표시될 root component가 entry point 인 app.module파일에 지정되어 있다. )\n- src/pages : 화면 페이지 단위로 구분\n- src/asset : 이미지 등 \n\n### ionic view life cycle\n\nhttp://blog.ionic.io/navigating-lifecycle-events/\n\n### 페이지 파일 구성\n\n한페이지에 ts, html, scss 파일 구조를 유지하는게 좋음\n\n예) hello-ionic/\n- hello-ionic.html\n- hello-ionic.scss\n- hello-ionic.ts\n  ```javascript\n  import { Component } from '@angular/core';\n  \n  @Component({\n    //selector 는 필수는 아니지만 특정 페이지에서 기본 스타일 적용에 유용함\n    selector: 'page-hello-ionic',\n    templateUrl: 'hello-ionic.html'\n  })\n  export class HelloIonicPage {\n    constructor() {\n  \n    }\n  }\n  ```\n\n### ionic navigation\n\nionic은 navigationController를 이용해서 flexible하게 페이지를 이동할 수 있다.\n\n```sbtshell\n#ion-nav 태그에 root로 지정된 페이지가 가장 상위 페이지\n<ion-nav [root]=\"rootPage\"></ion-nav>\n```\n\n페이지 이동 (push, pop)\n\n```javascript\nclass OtherPage {\n  constructor(public navCtrl: NavController) {}\n\n  //다른 페이지로 이동하기\n  goToOtherPage() {\n    //push another page onto the history stack\n    //causing the nav controller to animate the new page in\n    this.navCtrl.push(OtherPage);\n  }\n\n  //뒤로가기 (ion-navbar 태그를 페이지에 포함하고 있는 경우, 백버튼에 대한 이벤트 처리가 자동으로 처리됨)\n  goBack() {\n    this.navCtrl.pop();\n  }\n}\n```\n\n#### 탭 페이지이동 처리\n\n탭으로 구성된 화면은 각각의 탭이 최상위 화면이 되어 각 탭마다 고유한 아이디를 갖고 있는 navigationController를 이용함\n\n### component 정리하기 (http://ionicframework.com/docs//api/)\n\n#### http 통신하기\n\nhttp 를 이용하는 방법은 두가지\n- @angular/http 사용\n- @ionic-native/http 사용 \n- 차이점 : https://forum.ionicframework.com/t/what-is-the-difference-between-angular-and-native-http/73095\n\n@ionic-native/http 사용 예시\n\n- 설치\n  ```sbtshell\n  #설치\n  ionic plugin add --save cordova-plugin-http\n  npm install --save @ionic-native/http\n  ```\n- 설정\n  ```javascript\n  // provider에 추가하기\n  // app.module.ts 파일에 provider로 추가하고 사용해야 함\n  // ...\n  \n  providers: [\n      StatusBar,\n      SplashScreen,\n      HTTP,\n      {provide: ErrorHandler, useClass: IonicErrorHandler}\n    ]\n  \n  // ...\n  ```\n\n@angular/http 사용 예시\n\n- 설정\n  ```javascript\n  // app.module.ts 파일에 모듈 추가하고 사용해야 함\n  // ...\n  import { HttpModule } from '@angular/http';\n  \n  // ...\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  ```\n\n#### 참조문서\n\n- https://ionicframework.com/docs/native/http/\n- http://blog.ionic.io/10-minutes-with-ionic-2-calling-an-api/\n\n\n#### whitelist 설정 (http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/)\n\n- 설치\n  ```sbtshell\n  cordova plugin add cordova-plugin-whitelist\n  ```\n- proxy 설정하기\n  ```sbtshell\n  #프로젝트의 ionic.config.json 파일에 설정\n  {\n    \"name\": \"auction\",  \"app_id\": \"\",  \"type\": \"ionic-angular\",  \"proxies\": [\n      {\n        \"path\": \"/apt\",      \"proxyUrl\": \"http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptTradeDev\"    }\n    ]\n  }\n  ```\n\n### typescript 기본\n\nhttps://www.typescriptlang.org/docs/handbook/basic-types.html\n\n### angular2 기본 문법\n\n반복문\n\n```angular2html\n<li *ngFor=\"let hero of heroes” (click)=\"onSelect(hero)>\n    <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n</li>\n```\n\n조건문\n\n```angular2html\n<div *ngIf=\"selectedHero\">\n  <h2>{{selectedHero.name}} details!</h2>\n  <div><label>id: </label>{{selectedHero.id}}</div>\n  <div>\n    <label>name: </label>\n    <input [(ngModel)]=\"selectedHero.name\" placeholder=\"name\"/>\n  </div>\n</div>\n```\n\n동적 스타일\n\n```angular2html\n<li *ngFor=\"let hero of heroes\"\n  [class.selected]=\"hero === selectedHero\"\n  (click)=\"onSelect(hero)\">\n  <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n</li>\n```\n\n@Injectable() 사용하기 : https://angular.io/docs/ts/latest/guide/dependency-injection.html\n\n","source":"_posts/ionic/ionic-get-started.md","raw":"---\ntitle: ionic-get-started\ndate: 2019-02-04 15:49:46\ntags:\n- mobile\n- ionic\n- angular\ncategories:\n- ionic\n---\n### 프로젝트 구조\n\n![폴더 구조](/images/ionic/folder_structure.png \"folder_structure\")\n\n- src/app : app.module.ts가 entry point ( index.html에서 ion-app에 표시될 root component가 entry point 인 app.module파일에 지정되어 있다. )\n- src/pages : 화면 페이지 단위로 구분\n- src/asset : 이미지 등 \n\n### ionic view life cycle\n\nhttp://blog.ionic.io/navigating-lifecycle-events/\n\n### 페이지 파일 구성\n\n한페이지에 ts, html, scss 파일 구조를 유지하는게 좋음\n\n예) hello-ionic/\n- hello-ionic.html\n- hello-ionic.scss\n- hello-ionic.ts\n  ```javascript\n  import { Component } from '@angular/core';\n  \n  @Component({\n    //selector 는 필수는 아니지만 특정 페이지에서 기본 스타일 적용에 유용함\n    selector: 'page-hello-ionic',\n    templateUrl: 'hello-ionic.html'\n  })\n  export class HelloIonicPage {\n    constructor() {\n  \n    }\n  }\n  ```\n\n### ionic navigation\n\nionic은 navigationController를 이용해서 flexible하게 페이지를 이동할 수 있다.\n\n```sbtshell\n#ion-nav 태그에 root로 지정된 페이지가 가장 상위 페이지\n<ion-nav [root]=\"rootPage\"></ion-nav>\n```\n\n페이지 이동 (push, pop)\n\n```javascript\nclass OtherPage {\n  constructor(public navCtrl: NavController) {}\n\n  //다른 페이지로 이동하기\n  goToOtherPage() {\n    //push another page onto the history stack\n    //causing the nav controller to animate the new page in\n    this.navCtrl.push(OtherPage);\n  }\n\n  //뒤로가기 (ion-navbar 태그를 페이지에 포함하고 있는 경우, 백버튼에 대한 이벤트 처리가 자동으로 처리됨)\n  goBack() {\n    this.navCtrl.pop();\n  }\n}\n```\n\n#### 탭 페이지이동 처리\n\n탭으로 구성된 화면은 각각의 탭이 최상위 화면이 되어 각 탭마다 고유한 아이디를 갖고 있는 navigationController를 이용함\n\n### component 정리하기 (http://ionicframework.com/docs//api/)\n\n#### http 통신하기\n\nhttp 를 이용하는 방법은 두가지\n- @angular/http 사용\n- @ionic-native/http 사용 \n- 차이점 : https://forum.ionicframework.com/t/what-is-the-difference-between-angular-and-native-http/73095\n\n@ionic-native/http 사용 예시\n\n- 설치\n  ```sbtshell\n  #설치\n  ionic plugin add --save cordova-plugin-http\n  npm install --save @ionic-native/http\n  ```\n- 설정\n  ```javascript\n  // provider에 추가하기\n  // app.module.ts 파일에 provider로 추가하고 사용해야 함\n  // ...\n  \n  providers: [\n      StatusBar,\n      SplashScreen,\n      HTTP,\n      {provide: ErrorHandler, useClass: IonicErrorHandler}\n    ]\n  \n  // ...\n  ```\n\n@angular/http 사용 예시\n\n- 설정\n  ```javascript\n  // app.module.ts 파일에 모듈 추가하고 사용해야 함\n  // ...\n  import { HttpModule } from '@angular/http';\n  \n  // ...\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  ```\n\n#### 참조문서\n\n- https://ionicframework.com/docs/native/http/\n- http://blog.ionic.io/10-minutes-with-ionic-2-calling-an-api/\n\n\n#### whitelist 설정 (http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/)\n\n- 설치\n  ```sbtshell\n  cordova plugin add cordova-plugin-whitelist\n  ```\n- proxy 설정하기\n  ```sbtshell\n  #프로젝트의 ionic.config.json 파일에 설정\n  {\n    \"name\": \"auction\",  \"app_id\": \"\",  \"type\": \"ionic-angular\",  \"proxies\": [\n      {\n        \"path\": \"/apt\",      \"proxyUrl\": \"http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptTradeDev\"    }\n    ]\n  }\n  ```\n\n### typescript 기본\n\nhttps://www.typescriptlang.org/docs/handbook/basic-types.html\n\n### angular2 기본 문법\n\n반복문\n\n```angular2html\n<li *ngFor=\"let hero of heroes” (click)=\"onSelect(hero)>\n    <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n</li>\n```\n\n조건문\n\n```angular2html\n<div *ngIf=\"selectedHero\">\n  <h2>{{selectedHero.name}} details!</h2>\n  <div><label>id: </label>{{selectedHero.id}}</div>\n  <div>\n    <label>name: </label>\n    <input [(ngModel)]=\"selectedHero.name\" placeholder=\"name\"/>\n  </div>\n</div>\n```\n\n동적 스타일\n\n```angular2html\n<li *ngFor=\"let hero of heroes\"\n  [class.selected]=\"hero === selectedHero\"\n  (click)=\"onSelect(hero)\">\n  <span class=\"badge\">{{hero.id}}</span> {{hero.name}}\n</li>\n```\n\n@Injectable() 사용하기 : https://angular.io/docs/ts/latest/guide/dependency-injection.html\n\n","slug":"ionic/ionic-get-started","published":1,"updated":"2020-07-17T14:47:06.700Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvo000ztwuzjnzz61d7","content":"<h3 id=\"프로젝트-구조\"><a href=\"#프로젝트-구조\" class=\"headerlink\" title=\"프로젝트 구조\"></a>프로젝트 구조</h3><p><img src=\"/images/ionic/folder_structure.png\" alt=\"폴더 구조\" title=\"folder_structure\"></p>\n<ul>\n<li>src/app : app.module.ts가 entry point ( index.html에서 ion-app에 표시될 root component가 entry point 인 app.module파일에 지정되어 있다. )</li>\n<li>src/pages : 화면 페이지 단위로 구분</li>\n<li>src/asset : 이미지 등 </li>\n</ul>\n<h3 id=\"ionic-view-life-cycle\"><a href=\"#ionic-view-life-cycle\" class=\"headerlink\" title=\"ionic view life cycle\"></a>ionic view life cycle</h3><p><a href=\"http://blog.ionic.io/navigating-lifecycle-events/\" target=\"_blank\" rel=\"noopener\">http://blog.ionic.io/navigating-lifecycle-events/</a></p>\n<h3 id=\"페이지-파일-구성\"><a href=\"#페이지-파일-구성\" class=\"headerlink\" title=\"페이지 파일 구성\"></a>페이지 파일 구성</h3><p>한페이지에 ts, html, scss 파일 구조를 유지하는게 좋음</p>\n<p>예) hello-ionic/</p>\n<ul>\n<li>hello-ionic.html</li>\n<li>hello-ionic.scss</li>\n<li>hello-ionic.ts<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">  <span class=\"comment\">//selector 는 필수는 아니지만 특정 페이지에서 기본 스타일 적용에 유용함</span></span><br><span class=\"line\">  selector: <span class=\"string\">'page-hello-ionic'</span>,</span><br><span class=\"line\">  templateUrl: <span class=\"string\">'hello-ionic.html'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloIonicPage</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"ionic-navigation\"><a href=\"#ionic-navigation\" class=\"headerlink\" title=\"ionic navigation\"></a>ionic navigation</h3><p>ionic은 navigationController를 이용해서 flexible하게 페이지를 이동할 수 있다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ion-nav 태그에 root로 지정된 페이지가 가장 상위 페이지</span><br><span class=\"line\">&lt;ion-nav [root]=&quot;rootPage&quot;&gt;&lt;/ion-nav&gt;</span><br></pre></td></tr></table></figure>\n<p>페이지 이동 (push, pop)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">OtherPage</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(public navCtrl: NavController) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//다른 페이지로 이동하기</span></span><br><span class=\"line\">  goToOtherPage() &#123;</span><br><span class=\"line\">    <span class=\"comment\">//push another page onto the history stack</span></span><br><span class=\"line\">    <span class=\"comment\">//causing the nav controller to animate the new page in</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.navCtrl.push(OtherPage);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//뒤로가기 (ion-navbar 태그를 페이지에 포함하고 있는 경우, 백버튼에 대한 이벤트 처리가 자동으로 처리됨)</span></span><br><span class=\"line\">  goBack() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.navCtrl.pop();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"탭-페이지이동-처리\"><a href=\"#탭-페이지이동-처리\" class=\"headerlink\" title=\"탭 페이지이동 처리\"></a>탭 페이지이동 처리</h4><p>탭으로 구성된 화면은 각각의 탭이 최상위 화면이 되어 각 탭마다 고유한 아이디를 갖고 있는 navigationController를 이용함</p>\n<h3 id=\"component-정리하기-http-ionicframework-com-docs-api\"><a href=\"#component-정리하기-http-ionicframework-com-docs-api\" class=\"headerlink\" title=\"component 정리하기 (http://ionicframework.com/docs//api/)\"></a>component 정리하기 (<a href=\"http://ionicframework.com/docs//api/\" target=\"_blank\" rel=\"noopener\">http://ionicframework.com/docs//api/</a>)</h3><h4 id=\"http-통신하기\"><a href=\"#http-통신하기\" class=\"headerlink\" title=\"http 통신하기\"></a>http 통신하기</h4><p>http 를 이용하는 방법은 두가지</p>\n<ul>\n<li>@angular/http 사용</li>\n<li>@ionic-native/http 사용 </li>\n<li>차이점 : <a href=\"https://forum.ionicframework.com/t/what-is-the-difference-between-angular-and-native-http/73095\" target=\"_blank\" rel=\"noopener\">https://forum.ionicframework.com/t/what-is-the-difference-between-angular-and-native-http/73095</a></li>\n</ul>\n<p>@ionic-native/http 사용 예시</p>\n<ul>\n<li><p>설치</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#설치</span><br><span class=\"line\">ionic plugin add --save cordova-plugin-http</span><br><span class=\"line\">npm install --save @ionic-native/http</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>설정</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// provider에 추가하기</span></span><br><span class=\"line\"><span class=\"comment\">// app.module.ts 파일에 provider로 추가하고 사용해야 함</span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">providers: [</span><br><span class=\"line\">    StatusBar,</span><br><span class=\"line\">    SplashScreen,</span><br><span class=\"line\">    HTTP,</span><br><span class=\"line\">    &#123;<span class=\"attr\">provide</span>: ErrorHandler, <span class=\"attr\">useClass</span>: IonicErrorHandler&#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>@angular/http 사용 예시</p>\n<ul>\n<li>설정<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.module.ts 파일에 모듈 추가하고 사용해야 함</span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; HttpModule &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/http'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\">imports: [</span><br><span class=\"line\">  BrowserModule,</span><br><span class=\"line\">  HttpModule,</span><br><span class=\"line\">  IonicModule.forRoot(MyApp)</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"참조문서\"><a href=\"#참조문서\" class=\"headerlink\" title=\"참조문서\"></a>참조문서</h4><ul>\n<li><a href=\"https://ionicframework.com/docs/native/http/\" target=\"_blank\" rel=\"noopener\">https://ionicframework.com/docs/native/http/</a></li>\n<li><a href=\"http://blog.ionic.io/10-minutes-with-ionic-2-calling-an-api/\" target=\"_blank\" rel=\"noopener\">http://blog.ionic.io/10-minutes-with-ionic-2-calling-an-api/</a></li>\n</ul>\n<h4 id=\"whitelist-설정-http-www-gajotres-net-ionic-2-making-rest-http-requests-like-a-pro\"><a href=\"#whitelist-설정-http-www-gajotres-net-ionic-2-making-rest-http-requests-like-a-pro\" class=\"headerlink\" title=\"whitelist 설정 (http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/)\"></a>whitelist 설정 (<a href=\"http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/\" target=\"_blank\" rel=\"noopener\">http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/</a>)</h4><ul>\n<li><p>설치</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cordova plugin add cordova-plugin-whitelist</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>proxy 설정하기</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#프로젝트의 ionic.config.json 파일에 설정</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;auction&quot;,  &quot;app_id&quot;: &quot;&quot;,  &quot;type&quot;: &quot;ionic-angular&quot;,  &quot;proxies&quot;: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      &quot;path&quot;: &quot;/apt&quot;,      &quot;proxyUrl&quot;: &quot;http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptTradeDev&quot;    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"typescript-기본\"><a href=\"#typescript-기본\" class=\"headerlink\" title=\"typescript 기본\"></a>typescript 기본</h3><p><a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" target=\"_blank\" rel=\"noopener\">https://www.typescriptlang.org/docs/handbook/basic-types.html</a></p>\n<h3 id=\"angular2-기본-문법\"><a href=\"#angular2-기본-문법\" class=\"headerlink\" title=\"angular2 기본 문법\"></a>angular2 기본 문법</h3><p>반복문</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;li *ngFor=&quot;let hero of heroes” (click)=&quot;onSelect(hero)&gt;</span><br><span class=\"line\">    &lt;span class=&quot;badge&quot;&gt;&#123;&#123;hero.id&#125;&#125;&lt;/span&gt; &#123;&#123;hero.name&#125;&#125;</span><br><span class=\"line\">&lt;/li&gt;</span><br></pre></td></tr></table></figure>\n<p>조건문</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div *ngIf=&quot;selectedHero&quot;&gt;</span><br><span class=\"line\">  &lt;h2&gt;&#123;&#123;selectedHero.name&#125;&#125; details!&lt;/h2&gt;</span><br><span class=\"line\">  &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;&#123;&#123;selectedHero.id&#125;&#125;&lt;/div&gt;</span><br><span class=\"line\">  &lt;div&gt;</span><br><span class=\"line\">    &lt;label&gt;name: &lt;/label&gt;</span><br><span class=\"line\">    &lt;input [(ngModel)]=&quot;selectedHero.name&quot; placeholder=&quot;name&quot;/&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<p>동적 스타일</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;li *ngFor=&quot;let hero of heroes&quot;</span><br><span class=\"line\">  [class.selected]=&quot;hero === selectedHero&quot;</span><br><span class=\"line\">  (click)=&quot;onSelect(hero)&quot;&gt;</span><br><span class=\"line\">  &lt;span class=&quot;badge&quot;&gt;&#123;&#123;hero.id&#125;&#125;&lt;/span&gt; &#123;&#123;hero.name&#125;&#125;</span><br><span class=\"line\">&lt;/li&gt;</span><br></pre></td></tr></table></figure>\n<p>@Injectable() 사용하기 : <a href=\"https://angular.io/docs/ts/latest/guide/dependency-injection.html\" target=\"_blank\" rel=\"noopener\">https://angular.io/docs/ts/latest/guide/dependency-injection.html</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"프로젝트-구조\"><a href=\"#프로젝트-구조\" class=\"headerlink\" title=\"프로젝트 구조\"></a>프로젝트 구조</h3><p><img src=\"/images/ionic/folder_structure.png\" alt=\"폴더 구조\" title=\"folder_structure\"></p>\n<ul>\n<li>src/app : app.module.ts가 entry point ( index.html에서 ion-app에 표시될 root component가 entry point 인 app.module파일에 지정되어 있다. )</li>\n<li>src/pages : 화면 페이지 단위로 구분</li>\n<li>src/asset : 이미지 등 </li>\n</ul>\n<h3 id=\"ionic-view-life-cycle\"><a href=\"#ionic-view-life-cycle\" class=\"headerlink\" title=\"ionic view life cycle\"></a>ionic view life cycle</h3><p><a href=\"http://blog.ionic.io/navigating-lifecycle-events/\" target=\"_blank\" rel=\"noopener\">http://blog.ionic.io/navigating-lifecycle-events/</a></p>\n<h3 id=\"페이지-파일-구성\"><a href=\"#페이지-파일-구성\" class=\"headerlink\" title=\"페이지 파일 구성\"></a>페이지 파일 구성</h3><p>한페이지에 ts, html, scss 파일 구조를 유지하는게 좋음</p>\n<p>예) hello-ionic/</p>\n<ul>\n<li>hello-ionic.html</li>\n<li>hello-ionic.scss</li>\n<li>hello-ionic.ts<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">  <span class=\"comment\">//selector 는 필수는 아니지만 특정 페이지에서 기본 스타일 적용에 유용함</span></span><br><span class=\"line\">  selector: <span class=\"string\">'page-hello-ionic'</span>,</span><br><span class=\"line\">  templateUrl: <span class=\"string\">'hello-ionic.html'</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HelloIonicPage</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"ionic-navigation\"><a href=\"#ionic-navigation\" class=\"headerlink\" title=\"ionic navigation\"></a>ionic navigation</h3><p>ionic은 navigationController를 이용해서 flexible하게 페이지를 이동할 수 있다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ion-nav 태그에 root로 지정된 페이지가 가장 상위 페이지</span><br><span class=\"line\">&lt;ion-nav [root]=&quot;rootPage&quot;&gt;&lt;/ion-nav&gt;</span><br></pre></td></tr></table></figure>\n<p>페이지 이동 (push, pop)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">OtherPage</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(public navCtrl: NavController) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//다른 페이지로 이동하기</span></span><br><span class=\"line\">  goToOtherPage() &#123;</span><br><span class=\"line\">    <span class=\"comment\">//push another page onto the history stack</span></span><br><span class=\"line\">    <span class=\"comment\">//causing the nav controller to animate the new page in</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.navCtrl.push(OtherPage);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//뒤로가기 (ion-navbar 태그를 페이지에 포함하고 있는 경우, 백버튼에 대한 이벤트 처리가 자동으로 처리됨)</span></span><br><span class=\"line\">  goBack() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.navCtrl.pop();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"탭-페이지이동-처리\"><a href=\"#탭-페이지이동-처리\" class=\"headerlink\" title=\"탭 페이지이동 처리\"></a>탭 페이지이동 처리</h4><p>탭으로 구성된 화면은 각각의 탭이 최상위 화면이 되어 각 탭마다 고유한 아이디를 갖고 있는 navigationController를 이용함</p>\n<h3 id=\"component-정리하기-http-ionicframework-com-docs-api\"><a href=\"#component-정리하기-http-ionicframework-com-docs-api\" class=\"headerlink\" title=\"component 정리하기 (http://ionicframework.com/docs//api/)\"></a>component 정리하기 (<a href=\"http://ionicframework.com/docs//api/\" target=\"_blank\" rel=\"noopener\">http://ionicframework.com/docs//api/</a>)</h3><h4 id=\"http-통신하기\"><a href=\"#http-통신하기\" class=\"headerlink\" title=\"http 통신하기\"></a>http 통신하기</h4><p>http 를 이용하는 방법은 두가지</p>\n<ul>\n<li>@angular/http 사용</li>\n<li>@ionic-native/http 사용 </li>\n<li>차이점 : <a href=\"https://forum.ionicframework.com/t/what-is-the-difference-between-angular-and-native-http/73095\" target=\"_blank\" rel=\"noopener\">https://forum.ionicframework.com/t/what-is-the-difference-between-angular-and-native-http/73095</a></li>\n</ul>\n<p>@ionic-native/http 사용 예시</p>\n<ul>\n<li><p>설치</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#설치</span><br><span class=\"line\">ionic plugin add --save cordova-plugin-http</span><br><span class=\"line\">npm install --save @ionic-native/http</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>설정</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// provider에 추가하기</span></span><br><span class=\"line\"><span class=\"comment\">// app.module.ts 파일에 provider로 추가하고 사용해야 함</span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\">providers: [</span><br><span class=\"line\">    StatusBar,</span><br><span class=\"line\">    SplashScreen,</span><br><span class=\"line\">    HTTP,</span><br><span class=\"line\">    &#123;<span class=\"attr\">provide</span>: ErrorHandler, <span class=\"attr\">useClass</span>: IonicErrorHandler&#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>@angular/http 사용 예시</p>\n<ul>\n<li>설정<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.module.ts 파일에 모듈 추가하고 사용해야 함</span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; HttpModule &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/http'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\">imports: [</span><br><span class=\"line\">  BrowserModule,</span><br><span class=\"line\">  HttpModule,</span><br><span class=\"line\">  IonicModule.forRoot(MyApp)</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h4 id=\"참조문서\"><a href=\"#참조문서\" class=\"headerlink\" title=\"참조문서\"></a>참조문서</h4><ul>\n<li><a href=\"https://ionicframework.com/docs/native/http/\" target=\"_blank\" rel=\"noopener\">https://ionicframework.com/docs/native/http/</a></li>\n<li><a href=\"http://blog.ionic.io/10-minutes-with-ionic-2-calling-an-api/\" target=\"_blank\" rel=\"noopener\">http://blog.ionic.io/10-minutes-with-ionic-2-calling-an-api/</a></li>\n</ul>\n<h4 id=\"whitelist-설정-http-www-gajotres-net-ionic-2-making-rest-http-requests-like-a-pro\"><a href=\"#whitelist-설정-http-www-gajotres-net-ionic-2-making-rest-http-requests-like-a-pro\" class=\"headerlink\" title=\"whitelist 설정 (http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/)\"></a>whitelist 설정 (<a href=\"http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/\" target=\"_blank\" rel=\"noopener\">http://www.gajotres.net/ionic-2-making-rest-http-requests-like-a-pro/</a>)</h4><ul>\n<li><p>설치</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cordova plugin add cordova-plugin-whitelist</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>proxy 설정하기</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#프로젝트의 ionic.config.json 파일에 설정</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;name&quot;: &quot;auction&quot;,  &quot;app_id&quot;: &quot;&quot;,  &quot;type&quot;: &quot;ionic-angular&quot;,  &quot;proxies&quot;: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      &quot;path&quot;: &quot;/apt&quot;,      &quot;proxyUrl&quot;: &quot;http://openapi.molit.go.kr/OpenAPI_ToolInstallPackage/service/rest/RTMSOBJSvc/getRTMSDataSvcAptTradeDev&quot;    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h3 id=\"typescript-기본\"><a href=\"#typescript-기본\" class=\"headerlink\" title=\"typescript 기본\"></a>typescript 기본</h3><p><a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" target=\"_blank\" rel=\"noopener\">https://www.typescriptlang.org/docs/handbook/basic-types.html</a></p>\n<h3 id=\"angular2-기본-문법\"><a href=\"#angular2-기본-문법\" class=\"headerlink\" title=\"angular2 기본 문법\"></a>angular2 기본 문법</h3><p>반복문</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;li *ngFor=&quot;let hero of heroes” (click)=&quot;onSelect(hero)&gt;</span><br><span class=\"line\">    &lt;span class=&quot;badge&quot;&gt;&#123;&#123;hero.id&#125;&#125;&lt;/span&gt; &#123;&#123;hero.name&#125;&#125;</span><br><span class=\"line\">&lt;/li&gt;</span><br></pre></td></tr></table></figure>\n<p>조건문</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div *ngIf=&quot;selectedHero&quot;&gt;</span><br><span class=\"line\">  &lt;h2&gt;&#123;&#123;selectedHero.name&#125;&#125; details!&lt;/h2&gt;</span><br><span class=\"line\">  &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;&#123;&#123;selectedHero.id&#125;&#125;&lt;/div&gt;</span><br><span class=\"line\">  &lt;div&gt;</span><br><span class=\"line\">    &lt;label&gt;name: &lt;/label&gt;</span><br><span class=\"line\">    &lt;input [(ngModel)]=&quot;selectedHero.name&quot; placeholder=&quot;name&quot;/&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<p>동적 스타일</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;li *ngFor=&quot;let hero of heroes&quot;</span><br><span class=\"line\">  [class.selected]=&quot;hero === selectedHero&quot;</span><br><span class=\"line\">  (click)=&quot;onSelect(hero)&quot;&gt;</span><br><span class=\"line\">  &lt;span class=&quot;badge&quot;&gt;&#123;&#123;hero.id&#125;&#125;&lt;/span&gt; &#123;&#123;hero.name&#125;&#125;</span><br><span class=\"line\">&lt;/li&gt;</span><br></pre></td></tr></table></figure>\n<p>@Injectable() 사용하기 : <a href=\"https://angular.io/docs/ts/latest/guide/dependency-injection.html\" target=\"_blank\" rel=\"noopener\">https://angular.io/docs/ts/latest/guide/dependency-injection.html</a></p>\n"},{"title":"ionic-prototype-app-development","date":"2019-02-04T07:14:38.000Z","_content":"> p2p 금융상품 모아서 보여주기\n\n이번에 p2p 금융상품을 모아서 보여주는 앱을 만들어 보기로 했습니다.\np2p에 투자하려다 보면 사이트마다 들어가서 투자상품을 확인하는게 너무 번거로워서 시작했는데, 이미 있더군요...\n\n### 시작하기\nionic이 문제인건지 angular가 문제인지 업데이트만 되면 앱을 수정해야 합니다.\n\n업데이트하고 버전에 맞게 수정하는데 너무 많은 시간을 써서 최신 stable로 시작하고 버전을 fix하고 사용했습니다.\n\nnode와 ionic 설치를 끝내고, 프로젝트를 생성합니다.\n\n````sbtshell\nionic start MyIonicProject super\n````\n\nsuper로 만들면 왠만한 기능의 템플릿이 포함되어 있어서 `복붙`이 너무 편해요.\n\n나중에 필요없는 파일 지우는것도 일이긴 하지만 빨리, 쉽게 만들기 위해서 super로 생성했습니다.\n\n폴더 구조도 잘 잡혀있어서 처음 ionic 프로젝트를 접해보는 분께 추천드립니다. \n\n프로젝트 생성이 완료되었으면 간단히 실행해봅시다.\n\n````sbtshell\nionic serve\n````\n\n브라우저에서 정상적으로 실행된다면 기본적인 설정은 끝입니다.\n\n#### 기능 정의하기\n어떤 화면이 필요할까...\n\n이번 앱의 목적은 여러 p2p 사이트의 딜 목록을 모아서 보여주는 것입니다.\n\n대표적인 p2p 사이트를 들락날락.. 공통적으로 보이는 factor가 수익률(이자율)과 금액 소진율정도입니다.\n\n이미지가 있으면 좋겠지만 이미지는 없는 경우도 많아서 공통으로 넣기 애매해 보입니다.\n\n사실 상환방법에 따라 실수익률이 많이 달라지기 때문에 상환방식도 목록에서 보여주고 싶지만, 해당 정보가 p2p사이트에서 상세로 빠져있는 경우가 많아 빼기로 했습니다.\n \n그래서 목록에서 보여지는 정보를 다섯가지 항목으로 구성하기로 했습니다.\n\n***목록에서 보여지는 정보***\n- 사이트로고\n- 금액\n- 수익률\n- 기간\n- 소진율(optional)\n\n목록 화면은 사이트 검색이 가능하게하고, 화면 상단에 대쉬보드 기능을 겸할 수 있는 요약 정보를 보여주기로 합니다.\n\n한페이지로 끝내버리기 위한.. 화면 구성입니다.\n\n이제 생각한대로 만들기 시작해봅시다.\n\n#### 플러그인 설치\n\n대쉬보드는 검색 사이트의 누적 데이터를 보여주도록 합시다.\nhttps://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/\n- 누적 투자금 (파이차트)\n- 누적 수익률\n- 기준금리(http://www.bok.or.kr/baserate/baserateList.action?menuNaviId=1927)\n\n중간에 소진율을 보여주기 위한 progress bar 도 추가하고..\n```sbtshell\n#https://www.joshmorony.com/build-a-simple-progress-bar-component-in-ionic-2/\nionic g component ProgressBar\n```\n\n상세화면을 띄우기 위해서 in-app-browser도 설치\n```sbtshell\n#https://ionicframework.com/docs/native/in-app-browser/\nionic cordova plugin add cordova-plugin-inappbrowser\nnpm install --save @ionic-native/in-app-browser\n```\n\n대충 화면 작업은 끝났습니다. 처음 예상한 화면이랑 조금 다르긴 한데, 유사한 결과물을 만들었습니다.\n(통계화면과 목록화면을 나누고 사이트별 검색은 셀렉트박스를 이용했습니다.)\n\n##### 딜 목록화면\n\n![딜 목록화면](/images/ionic/deal_list.webp \"딜 목록화면\")\n\n##### 통계화면\n\n![통계화면](/images/ionic/p2p_statistics.webp \"통계화면\")\n\n#### api 만들기\nnode를 이용해서 api 서버를 만들고, 스크랩핑할 수 있도록 작업합니다.\n\n필수정보만 디비스키마를 만들어서 필요한 정보를 저장\n```sql\nCREATE TABLE `p2p`.`deal` (\n  `id` INT NOT NULL AUTO_INCREMENT COMMENT '딜 아이디 ',\n  `siteCode` VARCHAR(45) CHARACTER SET 'utf8' NOT NULL,\n  `dealCode` VARCHAR(45) CHARACTER SET 'utf8' NOT NULL,\n  `dealTitle` VARCHAR(100) CHARACTER SET 'utf8' NOT NULL,\n  `dealUrl` VARCHAR(500) CHARACTER SET 'utf8' NOT NULL,\n  `dealAmount` INT NOT NULL COMMENT '딜 금액 ',\n  `dealRevenueRate` FLOAT NOT NULL COMMENT '수익률 ',\n  `dealMonthPeriod` INT NOT NULL COMMENT '딜 기간 (월 기준) ',\n  `dealRunoutRate` FLOAT NOT NULL COMMENT '딜 소진율 ',\n  `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '갱신일시\\n',\n  `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시\\n',\n  PRIMARY KEY (`id`));\n\nCREATE TABLE `p2p`.`site` (\n  `siteCode` VARCHAR(45) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 코드 ',\n  `siteName` VARCHAR(100) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 이름 ',\n  `siteUrl` VARCHAR(500) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 주소 ',\n  `siteLogo` VARCHAR(500) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 로고 ',\n  PRIMARY KEY (`siteCode`));\n```\n","source":"_posts/ionic/ionic-prototype-app-development.md","raw":"---\ntitle: ionic-prototype-app-development\ndate: 2019-02-04 16:14:38\ntags:\n- mobile\n- ionic\ncategories:\n- ionic\n---\n> p2p 금융상품 모아서 보여주기\n\n이번에 p2p 금융상품을 모아서 보여주는 앱을 만들어 보기로 했습니다.\np2p에 투자하려다 보면 사이트마다 들어가서 투자상품을 확인하는게 너무 번거로워서 시작했는데, 이미 있더군요...\n\n### 시작하기\nionic이 문제인건지 angular가 문제인지 업데이트만 되면 앱을 수정해야 합니다.\n\n업데이트하고 버전에 맞게 수정하는데 너무 많은 시간을 써서 최신 stable로 시작하고 버전을 fix하고 사용했습니다.\n\nnode와 ionic 설치를 끝내고, 프로젝트를 생성합니다.\n\n````sbtshell\nionic start MyIonicProject super\n````\n\nsuper로 만들면 왠만한 기능의 템플릿이 포함되어 있어서 `복붙`이 너무 편해요.\n\n나중에 필요없는 파일 지우는것도 일이긴 하지만 빨리, 쉽게 만들기 위해서 super로 생성했습니다.\n\n폴더 구조도 잘 잡혀있어서 처음 ionic 프로젝트를 접해보는 분께 추천드립니다. \n\n프로젝트 생성이 완료되었으면 간단히 실행해봅시다.\n\n````sbtshell\nionic serve\n````\n\n브라우저에서 정상적으로 실행된다면 기본적인 설정은 끝입니다.\n\n#### 기능 정의하기\n어떤 화면이 필요할까...\n\n이번 앱의 목적은 여러 p2p 사이트의 딜 목록을 모아서 보여주는 것입니다.\n\n대표적인 p2p 사이트를 들락날락.. 공통적으로 보이는 factor가 수익률(이자율)과 금액 소진율정도입니다.\n\n이미지가 있으면 좋겠지만 이미지는 없는 경우도 많아서 공통으로 넣기 애매해 보입니다.\n\n사실 상환방법에 따라 실수익률이 많이 달라지기 때문에 상환방식도 목록에서 보여주고 싶지만, 해당 정보가 p2p사이트에서 상세로 빠져있는 경우가 많아 빼기로 했습니다.\n \n그래서 목록에서 보여지는 정보를 다섯가지 항목으로 구성하기로 했습니다.\n\n***목록에서 보여지는 정보***\n- 사이트로고\n- 금액\n- 수익률\n- 기간\n- 소진율(optional)\n\n목록 화면은 사이트 검색이 가능하게하고, 화면 상단에 대쉬보드 기능을 겸할 수 있는 요약 정보를 보여주기로 합니다.\n\n한페이지로 끝내버리기 위한.. 화면 구성입니다.\n\n이제 생각한대로 만들기 시작해봅시다.\n\n#### 플러그인 설치\n\n대쉬보드는 검색 사이트의 누적 데이터를 보여주도록 합시다.\nhttps://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/\n- 누적 투자금 (파이차트)\n- 누적 수익률\n- 기준금리(http://www.bok.or.kr/baserate/baserateList.action?menuNaviId=1927)\n\n중간에 소진율을 보여주기 위한 progress bar 도 추가하고..\n```sbtshell\n#https://www.joshmorony.com/build-a-simple-progress-bar-component-in-ionic-2/\nionic g component ProgressBar\n```\n\n상세화면을 띄우기 위해서 in-app-browser도 설치\n```sbtshell\n#https://ionicframework.com/docs/native/in-app-browser/\nionic cordova plugin add cordova-plugin-inappbrowser\nnpm install --save @ionic-native/in-app-browser\n```\n\n대충 화면 작업은 끝났습니다. 처음 예상한 화면이랑 조금 다르긴 한데, 유사한 결과물을 만들었습니다.\n(통계화면과 목록화면을 나누고 사이트별 검색은 셀렉트박스를 이용했습니다.)\n\n##### 딜 목록화면\n\n![딜 목록화면](/images/ionic/deal_list.webp \"딜 목록화면\")\n\n##### 통계화면\n\n![통계화면](/images/ionic/p2p_statistics.webp \"통계화면\")\n\n#### api 만들기\nnode를 이용해서 api 서버를 만들고, 스크랩핑할 수 있도록 작업합니다.\n\n필수정보만 디비스키마를 만들어서 필요한 정보를 저장\n```sql\nCREATE TABLE `p2p`.`deal` (\n  `id` INT NOT NULL AUTO_INCREMENT COMMENT '딜 아이디 ',\n  `siteCode` VARCHAR(45) CHARACTER SET 'utf8' NOT NULL,\n  `dealCode` VARCHAR(45) CHARACTER SET 'utf8' NOT NULL,\n  `dealTitle` VARCHAR(100) CHARACTER SET 'utf8' NOT NULL,\n  `dealUrl` VARCHAR(500) CHARACTER SET 'utf8' NOT NULL,\n  `dealAmount` INT NOT NULL COMMENT '딜 금액 ',\n  `dealRevenueRate` FLOAT NOT NULL COMMENT '수익률 ',\n  `dealMonthPeriod` INT NOT NULL COMMENT '딜 기간 (월 기준) ',\n  `dealRunoutRate` FLOAT NOT NULL COMMENT '딜 소진율 ',\n  `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '갱신일시\\n',\n  `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시\\n',\n  PRIMARY KEY (`id`));\n\nCREATE TABLE `p2p`.`site` (\n  `siteCode` VARCHAR(45) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 코드 ',\n  `siteName` VARCHAR(100) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 이름 ',\n  `siteUrl` VARCHAR(500) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 주소 ',\n  `siteLogo` VARCHAR(500) CHARACTER SET 'utf8' NOT NULL COMMENT '사이트 로고 ',\n  PRIMARY KEY (`siteCode`));\n```\n","slug":"ionic/ionic-prototype-app-development","published":1,"updated":"2020-07-17T14:47:06.701Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvp0010twuzg592twi0","content":"<blockquote>\n<p>p2p 금융상품 모아서 보여주기</p>\n</blockquote>\n<p>이번에 p2p 금융상품을 모아서 보여주는 앱을 만들어 보기로 했습니다.<br>p2p에 투자하려다 보면 사이트마다 들어가서 투자상품을 확인하는게 너무 번거로워서 시작했는데, 이미 있더군요…</p>\n<h3 id=\"시작하기\"><a href=\"#시작하기\" class=\"headerlink\" title=\"시작하기\"></a>시작하기</h3><p>ionic이 문제인건지 angular가 문제인지 업데이트만 되면 앱을 수정해야 합니다.</p>\n<p>업데이트하고 버전에 맞게 수정하는데 너무 많은 시간을 써서 최신 stable로 시작하고 버전을 fix하고 사용했습니다.</p>\n<p>node와 ionic 설치를 끝내고, 프로젝트를 생성합니다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic start MyIonicProject super</span><br></pre></td></tr></table></figure>\n<p>super로 만들면 왠만한 기능의 템플릿이 포함되어 있어서 <code>복붙</code>이 너무 편해요.</p>\n<p>나중에 필요없는 파일 지우는것도 일이긴 하지만 빨리, 쉽게 만들기 위해서 super로 생성했습니다.</p>\n<p>폴더 구조도 잘 잡혀있어서 처음 ionic 프로젝트를 접해보는 분께 추천드립니다. </p>\n<p>프로젝트 생성이 완료되었으면 간단히 실행해봅시다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic serve</span><br></pre></td></tr></table></figure>\n<p>브라우저에서 정상적으로 실행된다면 기본적인 설정은 끝입니다.</p>\n<h4 id=\"기능-정의하기\"><a href=\"#기능-정의하기\" class=\"headerlink\" title=\"기능 정의하기\"></a>기능 정의하기</h4><p>어떤 화면이 필요할까…</p>\n<p>이번 앱의 목적은 여러 p2p 사이트의 딜 목록을 모아서 보여주는 것입니다.</p>\n<p>대표적인 p2p 사이트를 들락날락.. 공통적으로 보이는 factor가 수익률(이자율)과 금액 소진율정도입니다.</p>\n<p>이미지가 있으면 좋겠지만 이미지는 없는 경우도 많아서 공통으로 넣기 애매해 보입니다.</p>\n<p>사실 상환방법에 따라 실수익률이 많이 달라지기 때문에 상환방식도 목록에서 보여주고 싶지만, 해당 정보가 p2p사이트에서 상세로 빠져있는 경우가 많아 빼기로 했습니다.</p>\n<p>그래서 목록에서 보여지는 정보를 다섯가지 항목으로 구성하기로 했습니다.</p>\n<p><strong><em>목록에서 보여지는 정보</em></strong></p>\n<ul>\n<li>사이트로고</li>\n<li>금액</li>\n<li>수익률</li>\n<li>기간</li>\n<li>소진율(optional)</li>\n</ul>\n<p>목록 화면은 사이트 검색이 가능하게하고, 화면 상단에 대쉬보드 기능을 겸할 수 있는 요약 정보를 보여주기로 합니다.</p>\n<p>한페이지로 끝내버리기 위한.. 화면 구성입니다.</p>\n<p>이제 생각한대로 만들기 시작해봅시다.</p>\n<h4 id=\"플러그인-설치\"><a href=\"#플러그인-설치\" class=\"headerlink\" title=\"플러그인 설치\"></a>플러그인 설치</h4><p>대쉬보드는 검색 사이트의 누적 데이터를 보여주도록 합시다.<br><a href=\"https://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/\" target=\"_blank\" rel=\"noopener\">https://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/</a></p>\n<ul>\n<li>누적 투자금 (파이차트)</li>\n<li>누적 수익률</li>\n<li>기준금리(<a href=\"http://www.bok.or.kr/baserate/baserateList.action?menuNaviId=1927\" target=\"_blank\" rel=\"noopener\">http://www.bok.or.kr/baserate/baserateList.action?menuNaviId=1927</a>)</li>\n</ul>\n<p>중간에 소진율을 보여주기 위한 progress bar 도 추가하고..<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#https://www.joshmorony.com/build-a-simple-progress-bar-component-in-ionic-2/</span><br><span class=\"line\">ionic g component ProgressBar</span><br></pre></td></tr></table></figure></p>\n<p>상세화면을 띄우기 위해서 in-app-browser도 설치<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#https://ionicframework.com/docs/native/in-app-browser/</span><br><span class=\"line\">ionic cordova plugin add cordova-plugin-inappbrowser</span><br><span class=\"line\">npm install --save @ionic-native/in-app-browser</span><br></pre></td></tr></table></figure></p>\n<p>대충 화면 작업은 끝났습니다. 처음 예상한 화면이랑 조금 다르긴 한데, 유사한 결과물을 만들었습니다.<br>(통계화면과 목록화면을 나누고 사이트별 검색은 셀렉트박스를 이용했습니다.)</p>\n<h5 id=\"딜-목록화면\"><a href=\"#딜-목록화면\" class=\"headerlink\" title=\"딜 목록화면\"></a>딜 목록화면</h5><p><img src=\"/images/ionic/deal_list.webp\" alt=\"딜 목록화면\" title=\"딜 목록화면\"></p>\n<h5 id=\"통계화면\"><a href=\"#통계화면\" class=\"headerlink\" title=\"통계화면\"></a>통계화면</h5><p><img src=\"/images/ionic/p2p_statistics.webp\" alt=\"통계화면\" title=\"통계화면\"></p>\n<h4 id=\"api-만들기\"><a href=\"#api-만들기\" class=\"headerlink\" title=\"api 만들기\"></a>api 만들기</h4><p>node를 이용해서 api 서버를 만들고, 스크랩핑할 수 있도록 작업합니다.</p>\n<p>필수정보만 디비스키마를 만들어서 필요한 정보를 저장<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`p2p`</span>.<span class=\"string\">`deal`</span> (</span><br><span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> AUTO_INCREMENT <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 아이디 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteCode`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">45</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealCode`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">45</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealTitle`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealUrl`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">500</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealAmount`</span> <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 금액 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealRevenueRate`</span> <span class=\"built_in\">FLOAT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'수익률 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealMonthPeriod`</span> <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 기간 (월 기준) '</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealRunoutRate`</span> <span class=\"built_in\">FLOAT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 소진율 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`updatedAt`</span> DATETIME <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">ON</span> <span class=\"keyword\">UPDATE</span> <span class=\"keyword\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'갱신일시\\n'</span>,</span><br><span class=\"line\">  <span class=\"string\">`createdAt`</span> DATETIME <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'생성일시\\n'</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`p2p`</span>.<span class=\"string\">`site`</span> (</span><br><span class=\"line\">  <span class=\"string\">`siteCode`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">45</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 코드 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteName`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 이름 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteUrl`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">500</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 주소 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteLogo`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">500</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 로고 '</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`siteCode`</span>));</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>p2p 금융상품 모아서 보여주기</p>\n</blockquote>\n<p>이번에 p2p 금융상품을 모아서 보여주는 앱을 만들어 보기로 했습니다.<br>p2p에 투자하려다 보면 사이트마다 들어가서 투자상품을 확인하는게 너무 번거로워서 시작했는데, 이미 있더군요…</p>\n<h3 id=\"시작하기\"><a href=\"#시작하기\" class=\"headerlink\" title=\"시작하기\"></a>시작하기</h3><p>ionic이 문제인건지 angular가 문제인지 업데이트만 되면 앱을 수정해야 합니다.</p>\n<p>업데이트하고 버전에 맞게 수정하는데 너무 많은 시간을 써서 최신 stable로 시작하고 버전을 fix하고 사용했습니다.</p>\n<p>node와 ionic 설치를 끝내고, 프로젝트를 생성합니다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic start MyIonicProject super</span><br></pre></td></tr></table></figure>\n<p>super로 만들면 왠만한 기능의 템플릿이 포함되어 있어서 <code>복붙</code>이 너무 편해요.</p>\n<p>나중에 필요없는 파일 지우는것도 일이긴 하지만 빨리, 쉽게 만들기 위해서 super로 생성했습니다.</p>\n<p>폴더 구조도 잘 잡혀있어서 처음 ionic 프로젝트를 접해보는 분께 추천드립니다. </p>\n<p>프로젝트 생성이 완료되었으면 간단히 실행해봅시다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic serve</span><br></pre></td></tr></table></figure>\n<p>브라우저에서 정상적으로 실행된다면 기본적인 설정은 끝입니다.</p>\n<h4 id=\"기능-정의하기\"><a href=\"#기능-정의하기\" class=\"headerlink\" title=\"기능 정의하기\"></a>기능 정의하기</h4><p>어떤 화면이 필요할까…</p>\n<p>이번 앱의 목적은 여러 p2p 사이트의 딜 목록을 모아서 보여주는 것입니다.</p>\n<p>대표적인 p2p 사이트를 들락날락.. 공통적으로 보이는 factor가 수익률(이자율)과 금액 소진율정도입니다.</p>\n<p>이미지가 있으면 좋겠지만 이미지는 없는 경우도 많아서 공통으로 넣기 애매해 보입니다.</p>\n<p>사실 상환방법에 따라 실수익률이 많이 달라지기 때문에 상환방식도 목록에서 보여주고 싶지만, 해당 정보가 p2p사이트에서 상세로 빠져있는 경우가 많아 빼기로 했습니다.</p>\n<p>그래서 목록에서 보여지는 정보를 다섯가지 항목으로 구성하기로 했습니다.</p>\n<p><strong><em>목록에서 보여지는 정보</em></strong></p>\n<ul>\n<li>사이트로고</li>\n<li>금액</li>\n<li>수익률</li>\n<li>기간</li>\n<li>소진율(optional)</li>\n</ul>\n<p>목록 화면은 사이트 검색이 가능하게하고, 화면 상단에 대쉬보드 기능을 겸할 수 있는 요약 정보를 보여주기로 합니다.</p>\n<p>한페이지로 끝내버리기 위한.. 화면 구성입니다.</p>\n<p>이제 생각한대로 만들기 시작해봅시다.</p>\n<h4 id=\"플러그인-설치\"><a href=\"#플러그인-설치\" class=\"headerlink\" title=\"플러그인 설치\"></a>플러그인 설치</h4><p>대쉬보드는 검색 사이트의 누적 데이터를 보여주도록 합시다.<br><a href=\"https://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/\" target=\"_blank\" rel=\"noopener\">https://www.joshmorony.com/adding-responsive-charts-graphs-to-ionic-2-applications/</a></p>\n<ul>\n<li>누적 투자금 (파이차트)</li>\n<li>누적 수익률</li>\n<li>기준금리(<a href=\"http://www.bok.or.kr/baserate/baserateList.action?menuNaviId=1927\" target=\"_blank\" rel=\"noopener\">http://www.bok.or.kr/baserate/baserateList.action?menuNaviId=1927</a>)</li>\n</ul>\n<p>중간에 소진율을 보여주기 위한 progress bar 도 추가하고..<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#https://www.joshmorony.com/build-a-simple-progress-bar-component-in-ionic-2/</span><br><span class=\"line\">ionic g component ProgressBar</span><br></pre></td></tr></table></figure></p>\n<p>상세화면을 띄우기 위해서 in-app-browser도 설치<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#https://ionicframework.com/docs/native/in-app-browser/</span><br><span class=\"line\">ionic cordova plugin add cordova-plugin-inappbrowser</span><br><span class=\"line\">npm install --save @ionic-native/in-app-browser</span><br></pre></td></tr></table></figure></p>\n<p>대충 화면 작업은 끝났습니다. 처음 예상한 화면이랑 조금 다르긴 한데, 유사한 결과물을 만들었습니다.<br>(통계화면과 목록화면을 나누고 사이트별 검색은 셀렉트박스를 이용했습니다.)</p>\n<h5 id=\"딜-목록화면\"><a href=\"#딜-목록화면\" class=\"headerlink\" title=\"딜 목록화면\"></a>딜 목록화면</h5><p><img src=\"/images/ionic/deal_list.webp\" alt=\"딜 목록화면\" title=\"딜 목록화면\"></p>\n<h5 id=\"통계화면\"><a href=\"#통계화면\" class=\"headerlink\" title=\"통계화면\"></a>통계화면</h5><p><img src=\"/images/ionic/p2p_statistics.webp\" alt=\"통계화면\" title=\"통계화면\"></p>\n<h4 id=\"api-만들기\"><a href=\"#api-만들기\" class=\"headerlink\" title=\"api 만들기\"></a>api 만들기</h4><p>node를 이용해서 api 서버를 만들고, 스크랩핑할 수 있도록 작업합니다.</p>\n<p>필수정보만 디비스키마를 만들어서 필요한 정보를 저장<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`p2p`</span>.<span class=\"string\">`deal`</span> (</span><br><span class=\"line\">  <span class=\"string\">`id`</span> <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> AUTO_INCREMENT <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 아이디 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteCode`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">45</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealCode`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">45</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealTitle`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealUrl`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">500</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealAmount`</span> <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 금액 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealRevenueRate`</span> <span class=\"built_in\">FLOAT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'수익률 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealMonthPeriod`</span> <span class=\"built_in\">INT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 기간 (월 기준) '</span>,</span><br><span class=\"line\">  <span class=\"string\">`dealRunoutRate`</span> <span class=\"built_in\">FLOAT</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'딜 소진율 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`updatedAt`</span> DATETIME <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">ON</span> <span class=\"keyword\">UPDATE</span> <span class=\"keyword\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'갱신일시\\n'</span>,</span><br><span class=\"line\">  <span class=\"string\">`createdAt`</span> DATETIME <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">CURRENT_TIMESTAMP</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'생성일시\\n'</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`id`</span>));</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> <span class=\"string\">`p2p`</span>.<span class=\"string\">`site`</span> (</span><br><span class=\"line\">  <span class=\"string\">`siteCode`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">45</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 코드 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteName`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 이름 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteUrl`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">500</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 주소 '</span>,</span><br><span class=\"line\">  <span class=\"string\">`siteLogo`</span> <span class=\"built_in\">VARCHAR</span>(<span class=\"number\">500</span>) <span class=\"built_in\">CHARACTER</span> <span class=\"keyword\">SET</span> <span class=\"string\">'utf8'</span> <span class=\"keyword\">NOT</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">COMMENT</span> <span class=\"string\">'사이트 로고 '</span>,</span><br><span class=\"line\">  PRIMARY <span class=\"keyword\">KEY</span> (<span class=\"string\">`siteCode`</span>));</span><br></pre></td></tr></table></figure></p>\n"},{"title":"ionic-set-environment","date":"2019-02-04T07:19:45.000Z","_content":"## 공식 document\nhttp://ionicframework.com/docs/intro/installation/\n\n## 설치\n```sbtshell\n# permission deny되는 경우 sudo로 설치해주세요\nnpm install -g ionic cordova\n```\n\n***node는 필수로 설치되어 있어야 합니다.*** \n\n## 프로젝트 생성 / 실행\n\n```sbtshell\n#프로젝트만들기\n#https://ionicframework.com/getting-started/\nionic start myFirstApp template_name\n\n##template type\n#tabs(default) : a simple 3 tab layout\n#sidemenu: a layout with a swipable menu on the side\n#blank: a bare starter with a single page\n#super: starter project with over 14 ready to use page designs\n#tutorial: a guided starter project\n\n#생성한 프로젝트로 이동\ncd myFirstApp\n\n#실행하기(run on browser)\nionic serve\n```\n\n> 에러[Error: Cannot find module 'reflect-metadata’]발생하는 경우 node 버전 6.xx로 올려주세요.\n> https://github.com/driftyco/ionic/issues/9689 \n\n## 플랫폼별 개발환경 만들기\n\n```sbtshell\n#프로젝트에 설치된 플랫폼 리스트 확인하기\ncordova platform ls\n\n#플랫폼별 요구사항 체크\ncordova requirements\n\n#프로젝트에 플랫폼 추가하기\ncordova platform add ios --save\ncordova platform add android --save\n```\n\n### ios 개발환경 만들기\n\n- app store에서 xcode 검색해서 설치하기\n- iOS기기로 런치할 수 있는 개발 툴 설치\n```sbtshell\nnpm install -g ios-sim\nnpm install -g ios-deploy\n```\n\n> 에러[xcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instance]나는 경우\n> http://frontend.diffthink.kr/2016/04/ios.html\n\n![ios_setting](/images/ionic/ios_setting.png \"ios 설정\")\n\n- xcode에서 preference -> Locations command line tools 선택\n  - 참고 : https://cordova.apache.org/docs/en/latest/guide/platforms/ios/\n\n### android 개발환경 만들기\n\nandroid studio 설치하기 : https://developer.android.com/studio/install.html\n\nANDROID_HOME path 설정\n\n```\n#mac에서 설정 \n#~.bash_profile 파일에 설정하기\nexport ANDROID_HOME=\"/Users/username/Library/Android/sdk\"\nexport ANDROID_TOOLS=\"/Users/username/Library/Android/sdk/tools\"\nexport ANDROID_PLATFORM_TOOLS=\"/Users/username/Library/Android/sdk/platform-tools\"\nPATH=$PATH:$ANDROID_HOME:$ANDROID_TOOLS:$ANDROID_PLATFORM_TOOLS\n```\n\nandroid 가상 디바이스에서 실행하기\n\n```\n# 가상 디바이스 목록보기\nadb devices\n\n# 결과목록\n# emulator-5554   device\n\n# 특정 타겟에서 실행하기\nionic run android --target=emulator-5554\n```\n\n> 에러[Error: Could not find gradle wrapper within Android SDK. Might need to update your Android SDK.\n> Looked here: /Users/jiseob/Library/Android/sdk/tools/templates/gradle/wrapper]나는경우\n> https://forum.ionicframework.com/t/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo-ur-android-sdk/22056/15\n> 링크 참고해서 다운로드 받은 파일은 tools에 덮기\n\n> 에러[Error: android: Command failed with exit code 2]\n> 에뮬레이터 실행해 놓고, 빌드하기\n> 참고하기 : https://cordova.apache.org/docs/en/latest/guide/platforms/android/\n\n## 자주 사용하는 ionic command\n\n```\n#특정 플랫폼으로 실행하기\n#실제 디바이스에 설치하기 (debugging & developer mode 켜고 usb로 연결한 후 사용)\n#https://developer.android.com/studio/run/device.html#developer-device-options\nionic cordova run android --device\nionic cordova build android --release\nionic cordova platform ls\n\n# browser에서 실행하기\nionic serve \nionic run browser\n\n##위의 두 커맨드는 브라우저에서 실행되지만 네이티브 기능을 사용하려면 밑의 커맨드를 이용해야 함\n#(plaform에 browser 추가 필요)\n#https://github.com/driftyco/ionic-native/issues/403\n\n#ionic serve runs your app as a website (meaning it doesn't have any Cordova capabilities)\n#ionic run browser runs your app in the Cordova browser platform, which will inject cordova.jsand any plugins that have browser capabilities\n```","source":"_posts/ionic/ionic-set-environment.md","raw":"---\ntitle: ionic-set-environment\ndate: 2019-02-04 16:19:45\ntags:\n- mobile\n- ionic\ncategories:\n- ionic\n---\n## 공식 document\nhttp://ionicframework.com/docs/intro/installation/\n\n## 설치\n```sbtshell\n# permission deny되는 경우 sudo로 설치해주세요\nnpm install -g ionic cordova\n```\n\n***node는 필수로 설치되어 있어야 합니다.*** \n\n## 프로젝트 생성 / 실행\n\n```sbtshell\n#프로젝트만들기\n#https://ionicframework.com/getting-started/\nionic start myFirstApp template_name\n\n##template type\n#tabs(default) : a simple 3 tab layout\n#sidemenu: a layout with a swipable menu on the side\n#blank: a bare starter with a single page\n#super: starter project with over 14 ready to use page designs\n#tutorial: a guided starter project\n\n#생성한 프로젝트로 이동\ncd myFirstApp\n\n#실행하기(run on browser)\nionic serve\n```\n\n> 에러[Error: Cannot find module 'reflect-metadata’]발생하는 경우 node 버전 6.xx로 올려주세요.\n> https://github.com/driftyco/ionic/issues/9689 \n\n## 플랫폼별 개발환경 만들기\n\n```sbtshell\n#프로젝트에 설치된 플랫폼 리스트 확인하기\ncordova platform ls\n\n#플랫폼별 요구사항 체크\ncordova requirements\n\n#프로젝트에 플랫폼 추가하기\ncordova platform add ios --save\ncordova platform add android --save\n```\n\n### ios 개발환경 만들기\n\n- app store에서 xcode 검색해서 설치하기\n- iOS기기로 런치할 수 있는 개발 툴 설치\n```sbtshell\nnpm install -g ios-sim\nnpm install -g ios-deploy\n```\n\n> 에러[xcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instance]나는 경우\n> http://frontend.diffthink.kr/2016/04/ios.html\n\n![ios_setting](/images/ionic/ios_setting.png \"ios 설정\")\n\n- xcode에서 preference -> Locations command line tools 선택\n  - 참고 : https://cordova.apache.org/docs/en/latest/guide/platforms/ios/\n\n### android 개발환경 만들기\n\nandroid studio 설치하기 : https://developer.android.com/studio/install.html\n\nANDROID_HOME path 설정\n\n```\n#mac에서 설정 \n#~.bash_profile 파일에 설정하기\nexport ANDROID_HOME=\"/Users/username/Library/Android/sdk\"\nexport ANDROID_TOOLS=\"/Users/username/Library/Android/sdk/tools\"\nexport ANDROID_PLATFORM_TOOLS=\"/Users/username/Library/Android/sdk/platform-tools\"\nPATH=$PATH:$ANDROID_HOME:$ANDROID_TOOLS:$ANDROID_PLATFORM_TOOLS\n```\n\nandroid 가상 디바이스에서 실행하기\n\n```\n# 가상 디바이스 목록보기\nadb devices\n\n# 결과목록\n# emulator-5554   device\n\n# 특정 타겟에서 실행하기\nionic run android --target=emulator-5554\n```\n\n> 에러[Error: Could not find gradle wrapper within Android SDK. Might need to update your Android SDK.\n> Looked here: /Users/jiseob/Library/Android/sdk/tools/templates/gradle/wrapper]나는경우\n> https://forum.ionicframework.com/t/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo-ur-android-sdk/22056/15\n> 링크 참고해서 다운로드 받은 파일은 tools에 덮기\n\n> 에러[Error: android: Command failed with exit code 2]\n> 에뮬레이터 실행해 놓고, 빌드하기\n> 참고하기 : https://cordova.apache.org/docs/en/latest/guide/platforms/android/\n\n## 자주 사용하는 ionic command\n\n```\n#특정 플랫폼으로 실행하기\n#실제 디바이스에 설치하기 (debugging & developer mode 켜고 usb로 연결한 후 사용)\n#https://developer.android.com/studio/run/device.html#developer-device-options\nionic cordova run android --device\nionic cordova build android --release\nionic cordova platform ls\n\n# browser에서 실행하기\nionic serve \nionic run browser\n\n##위의 두 커맨드는 브라우저에서 실행되지만 네이티브 기능을 사용하려면 밑의 커맨드를 이용해야 함\n#(plaform에 browser 추가 필요)\n#https://github.com/driftyco/ionic-native/issues/403\n\n#ionic serve runs your app as a website (meaning it doesn't have any Cordova capabilities)\n#ionic run browser runs your app in the Cordova browser platform, which will inject cordova.jsand any plugins that have browser capabilities\n```","slug":"ionic/ionic-set-environment","published":1,"updated":"2020-07-17T14:47:06.701Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvq0014twuzczu23lkw","content":"<h2 id=\"공식-document\"><a href=\"#공식-document\" class=\"headerlink\" title=\"공식 document\"></a>공식 document</h2><p><a href=\"http://ionicframework.com/docs/intro/installation/\" target=\"_blank\" rel=\"noopener\">http://ionicframework.com/docs/intro/installation/</a></p>\n<h2 id=\"설치\"><a href=\"#설치\" class=\"headerlink\" title=\"설치\"></a>설치</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># permission deny되는 경우 sudo로 설치해주세요</span><br><span class=\"line\">npm install -g ionic cordova</span><br></pre></td></tr></table></figure>\n<p><strong><em>node는 필수로 설치되어 있어야 합니다.</em></strong> </p>\n<h2 id=\"프로젝트-생성-실행\"><a href=\"#프로젝트-생성-실행\" class=\"headerlink\" title=\"프로젝트 생성 / 실행\"></a>프로젝트 생성 / 실행</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#프로젝트만들기</span><br><span class=\"line\">#https://ionicframework.com/getting-started/</span><br><span class=\"line\">ionic start myFirstApp template_name</span><br><span class=\"line\"></span><br><span class=\"line\">##template type</span><br><span class=\"line\">#tabs(default) : a simple 3 tab layout</span><br><span class=\"line\">#sidemenu: a layout with a swipable menu on the side</span><br><span class=\"line\">#blank: a bare starter with a single page</span><br><span class=\"line\">#super: starter project with over 14 ready to use page designs</span><br><span class=\"line\">#tutorial: a guided starter project</span><br><span class=\"line\"></span><br><span class=\"line\">#생성한 프로젝트로 이동</span><br><span class=\"line\">cd myFirstApp</span><br><span class=\"line\"></span><br><span class=\"line\">#실행하기(run on browser)</span><br><span class=\"line\">ionic serve</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>에러[Error: Cannot find module ‘reflect-metadata’]발생하는 경우 node 버전 6.xx로 올려주세요.<br><a href=\"https://github.com/driftyco/ionic/issues/9689\" target=\"_blank\" rel=\"noopener\">https://github.com/driftyco/ionic/issues/9689</a> </p>\n</blockquote>\n<h2 id=\"플랫폼별-개발환경-만들기\"><a href=\"#플랫폼별-개발환경-만들기\" class=\"headerlink\" title=\"플랫폼별 개발환경 만들기\"></a>플랫폼별 개발환경 만들기</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#프로젝트에 설치된 플랫폼 리스트 확인하기</span><br><span class=\"line\">cordova platform ls</span><br><span class=\"line\"></span><br><span class=\"line\">#플랫폼별 요구사항 체크</span><br><span class=\"line\">cordova requirements</span><br><span class=\"line\"></span><br><span class=\"line\">#프로젝트에 플랫폼 추가하기</span><br><span class=\"line\">cordova platform add ios --save</span><br><span class=\"line\">cordova platform add android --save</span><br></pre></td></tr></table></figure>\n<h3 id=\"ios-개발환경-만들기\"><a href=\"#ios-개발환경-만들기\" class=\"headerlink\" title=\"ios 개발환경 만들기\"></a>ios 개발환경 만들기</h3><ul>\n<li>app store에서 xcode 검색해서 설치하기</li>\n<li>iOS기기로 런치할 수 있는 개발 툴 설치<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g ios-sim</span><br><span class=\"line\">npm install -g ios-deploy</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p>에러[xcode-select: error: tool ‘xcodebuild’ requires Xcode, but active developer directory ‘/Library/Developer/CommandLineTools’ is a command line tools instance]나는 경우<br><a href=\"http://frontend.diffthink.kr/2016/04/ios.html\" target=\"_blank\" rel=\"noopener\">http://frontend.diffthink.kr/2016/04/ios.html</a></p>\n</blockquote>\n<p><img src=\"/images/ionic/ios_setting.png\" alt=\"ios_setting\" title=\"ios 설정\"></p>\n<ul>\n<li>xcode에서 preference -&gt; Locations command line tools 선택<ul>\n<li>참고 : <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/ios/\" target=\"_blank\" rel=\"noopener\">https://cordova.apache.org/docs/en/latest/guide/platforms/ios/</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"android-개발환경-만들기\"><a href=\"#android-개발환경-만들기\" class=\"headerlink\" title=\"android 개발환경 만들기\"></a>android 개발환경 만들기</h3><p>android studio 설치하기 : <a href=\"https://developer.android.com/studio/install.html\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/studio/install.html</a></p>\n<p>ANDROID_HOME path 설정</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#mac에서 설정 </span><br><span class=\"line\">#~.bash_profile 파일에 설정하기</span><br><span class=\"line\">export ANDROID_HOME=&quot;/Users/username/Library/Android/sdk&quot;</span><br><span class=\"line\">export ANDROID_TOOLS=&quot;/Users/username/Library/Android/sdk/tools&quot;</span><br><span class=\"line\">export ANDROID_PLATFORM_TOOLS=&quot;/Users/username/Library/Android/sdk/platform-tools&quot;</span><br><span class=\"line\">PATH=$PATH:$ANDROID_HOME:$ANDROID_TOOLS:$ANDROID_PLATFORM_TOOLS</span><br></pre></td></tr></table></figure>\n<p>android 가상 디바이스에서 실행하기</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 가상 디바이스 목록보기</span><br><span class=\"line\">adb devices</span><br><span class=\"line\"></span><br><span class=\"line\"># 결과목록</span><br><span class=\"line\"># emulator-5554   device</span><br><span class=\"line\"></span><br><span class=\"line\"># 특정 타겟에서 실행하기</span><br><span class=\"line\">ionic run android --target=emulator-5554</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>에러[Error: Could not find gradle wrapper within Android SDK. Might need to update your Android SDK.<br>Looked here: /Users/jiseob/Library/Android/sdk/tools/templates/gradle/wrapper]나는경우<br><a href=\"https://forum.ionicframework.com/t/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo-ur-android-sdk/22056/15\" target=\"_blank\" rel=\"noopener\">https://forum.ionicframework.com/t/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo-ur-android-sdk/22056/15</a><br>링크 참고해서 다운로드 받은 파일은 tools에 덮기</p>\n</blockquote>\n<blockquote>\n<p>에러[Error: android: Command failed with exit code 2]<br>에뮬레이터 실행해 놓고, 빌드하기<br>참고하기 : <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/android/\" target=\"_blank\" rel=\"noopener\">https://cordova.apache.org/docs/en/latest/guide/platforms/android/</a></p>\n</blockquote>\n<h2 id=\"자주-사용하는-ionic-command\"><a href=\"#자주-사용하는-ionic-command\" class=\"headerlink\" title=\"자주 사용하는 ionic command\"></a>자주 사용하는 ionic command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#특정 플랫폼으로 실행하기</span><br><span class=\"line\">#실제 디바이스에 설치하기 (debugging &amp; developer mode 켜고 usb로 연결한 후 사용)</span><br><span class=\"line\">#https://developer.android.com/studio/run/device.html#developer-device-options</span><br><span class=\"line\">ionic cordova run android --device</span><br><span class=\"line\">ionic cordova build android --release</span><br><span class=\"line\">ionic cordova platform ls</span><br><span class=\"line\"></span><br><span class=\"line\"># browser에서 실행하기</span><br><span class=\"line\">ionic serve </span><br><span class=\"line\">ionic run browser</span><br><span class=\"line\"></span><br><span class=\"line\">##위의 두 커맨드는 브라우저에서 실행되지만 네이티브 기능을 사용하려면 밑의 커맨드를 이용해야 함</span><br><span class=\"line\">#(plaform에 browser 추가 필요)</span><br><span class=\"line\">#https://github.com/driftyco/ionic-native/issues/403</span><br><span class=\"line\"></span><br><span class=\"line\">#ionic serve runs your app as a website (meaning it doesn&apos;t have any Cordova capabilities)</span><br><span class=\"line\">#ionic run browser runs your app in the Cordova browser platform, which will inject cordova.jsand any plugins that have browser capabilities</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"공식-document\"><a href=\"#공식-document\" class=\"headerlink\" title=\"공식 document\"></a>공식 document</h2><p><a href=\"http://ionicframework.com/docs/intro/installation/\" target=\"_blank\" rel=\"noopener\">http://ionicframework.com/docs/intro/installation/</a></p>\n<h2 id=\"설치\"><a href=\"#설치\" class=\"headerlink\" title=\"설치\"></a>설치</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># permission deny되는 경우 sudo로 설치해주세요</span><br><span class=\"line\">npm install -g ionic cordova</span><br></pre></td></tr></table></figure>\n<p><strong><em>node는 필수로 설치되어 있어야 합니다.</em></strong> </p>\n<h2 id=\"프로젝트-생성-실행\"><a href=\"#프로젝트-생성-실행\" class=\"headerlink\" title=\"프로젝트 생성 / 실행\"></a>프로젝트 생성 / 실행</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#프로젝트만들기</span><br><span class=\"line\">#https://ionicframework.com/getting-started/</span><br><span class=\"line\">ionic start myFirstApp template_name</span><br><span class=\"line\"></span><br><span class=\"line\">##template type</span><br><span class=\"line\">#tabs(default) : a simple 3 tab layout</span><br><span class=\"line\">#sidemenu: a layout with a swipable menu on the side</span><br><span class=\"line\">#blank: a bare starter with a single page</span><br><span class=\"line\">#super: starter project with over 14 ready to use page designs</span><br><span class=\"line\">#tutorial: a guided starter project</span><br><span class=\"line\"></span><br><span class=\"line\">#생성한 프로젝트로 이동</span><br><span class=\"line\">cd myFirstApp</span><br><span class=\"line\"></span><br><span class=\"line\">#실행하기(run on browser)</span><br><span class=\"line\">ionic serve</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>에러[Error: Cannot find module ‘reflect-metadata’]발생하는 경우 node 버전 6.xx로 올려주세요.<br><a href=\"https://github.com/driftyco/ionic/issues/9689\" target=\"_blank\" rel=\"noopener\">https://github.com/driftyco/ionic/issues/9689</a> </p>\n</blockquote>\n<h2 id=\"플랫폼별-개발환경-만들기\"><a href=\"#플랫폼별-개발환경-만들기\" class=\"headerlink\" title=\"플랫폼별 개발환경 만들기\"></a>플랫폼별 개발환경 만들기</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#프로젝트에 설치된 플랫폼 리스트 확인하기</span><br><span class=\"line\">cordova platform ls</span><br><span class=\"line\"></span><br><span class=\"line\">#플랫폼별 요구사항 체크</span><br><span class=\"line\">cordova requirements</span><br><span class=\"line\"></span><br><span class=\"line\">#프로젝트에 플랫폼 추가하기</span><br><span class=\"line\">cordova platform add ios --save</span><br><span class=\"line\">cordova platform add android --save</span><br></pre></td></tr></table></figure>\n<h3 id=\"ios-개발환경-만들기\"><a href=\"#ios-개발환경-만들기\" class=\"headerlink\" title=\"ios 개발환경 만들기\"></a>ios 개발환경 만들기</h3><ul>\n<li>app store에서 xcode 검색해서 설치하기</li>\n<li>iOS기기로 런치할 수 있는 개발 툴 설치<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g ios-sim</span><br><span class=\"line\">npm install -g ios-deploy</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<blockquote>\n<p>에러[xcode-select: error: tool ‘xcodebuild’ requires Xcode, but active developer directory ‘/Library/Developer/CommandLineTools’ is a command line tools instance]나는 경우<br><a href=\"http://frontend.diffthink.kr/2016/04/ios.html\" target=\"_blank\" rel=\"noopener\">http://frontend.diffthink.kr/2016/04/ios.html</a></p>\n</blockquote>\n<p><img src=\"/images/ionic/ios_setting.png\" alt=\"ios_setting\" title=\"ios 설정\"></p>\n<ul>\n<li>xcode에서 preference -&gt; Locations command line tools 선택<ul>\n<li>참고 : <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/ios/\" target=\"_blank\" rel=\"noopener\">https://cordova.apache.org/docs/en/latest/guide/platforms/ios/</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"android-개발환경-만들기\"><a href=\"#android-개발환경-만들기\" class=\"headerlink\" title=\"android 개발환경 만들기\"></a>android 개발환경 만들기</h3><p>android studio 설치하기 : <a href=\"https://developer.android.com/studio/install.html\" target=\"_blank\" rel=\"noopener\">https://developer.android.com/studio/install.html</a></p>\n<p>ANDROID_HOME path 설정</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#mac에서 설정 </span><br><span class=\"line\">#~.bash_profile 파일에 설정하기</span><br><span class=\"line\">export ANDROID_HOME=&quot;/Users/username/Library/Android/sdk&quot;</span><br><span class=\"line\">export ANDROID_TOOLS=&quot;/Users/username/Library/Android/sdk/tools&quot;</span><br><span class=\"line\">export ANDROID_PLATFORM_TOOLS=&quot;/Users/username/Library/Android/sdk/platform-tools&quot;</span><br><span class=\"line\">PATH=$PATH:$ANDROID_HOME:$ANDROID_TOOLS:$ANDROID_PLATFORM_TOOLS</span><br></pre></td></tr></table></figure>\n<p>android 가상 디바이스에서 실행하기</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 가상 디바이스 목록보기</span><br><span class=\"line\">adb devices</span><br><span class=\"line\"></span><br><span class=\"line\"># 결과목록</span><br><span class=\"line\"># emulator-5554   device</span><br><span class=\"line\"></span><br><span class=\"line\"># 특정 타겟에서 실행하기</span><br><span class=\"line\">ionic run android --target=emulator-5554</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>에러[Error: Could not find gradle wrapper within Android SDK. Might need to update your Android SDK.<br>Looked here: /Users/jiseob/Library/Android/sdk/tools/templates/gradle/wrapper]나는경우<br><a href=\"https://forum.ionicframework.com/t/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo-ur-android-sdk/22056/15\" target=\"_blank\" rel=\"noopener\">https://forum.ionicframework.com/t/error-could-not-find-gradle-wrapper-within-android-sdk-might-need-to-update-yo-ur-android-sdk/22056/15</a><br>링크 참고해서 다운로드 받은 파일은 tools에 덮기</p>\n</blockquote>\n<blockquote>\n<p>에러[Error: android: Command failed with exit code 2]<br>에뮬레이터 실행해 놓고, 빌드하기<br>참고하기 : <a href=\"https://cordova.apache.org/docs/en/latest/guide/platforms/android/\" target=\"_blank\" rel=\"noopener\">https://cordova.apache.org/docs/en/latest/guide/platforms/android/</a></p>\n</blockquote>\n<h2 id=\"자주-사용하는-ionic-command\"><a href=\"#자주-사용하는-ionic-command\" class=\"headerlink\" title=\"자주 사용하는 ionic command\"></a>자주 사용하는 ionic command</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#특정 플랫폼으로 실행하기</span><br><span class=\"line\">#실제 디바이스에 설치하기 (debugging &amp; developer mode 켜고 usb로 연결한 후 사용)</span><br><span class=\"line\">#https://developer.android.com/studio/run/device.html#developer-device-options</span><br><span class=\"line\">ionic cordova run android --device</span><br><span class=\"line\">ionic cordova build android --release</span><br><span class=\"line\">ionic cordova platform ls</span><br><span class=\"line\"></span><br><span class=\"line\"># browser에서 실행하기</span><br><span class=\"line\">ionic serve </span><br><span class=\"line\">ionic run browser</span><br><span class=\"line\"></span><br><span class=\"line\">##위의 두 커맨드는 브라우저에서 실행되지만 네이티브 기능을 사용하려면 밑의 커맨드를 이용해야 함</span><br><span class=\"line\">#(plaform에 browser 추가 필요)</span><br><span class=\"line\">#https://github.com/driftyco/ionic-native/issues/403</span><br><span class=\"line\"></span><br><span class=\"line\">#ionic serve runs your app as a website (meaning it doesn&apos;t have any Cordova capabilities)</span><br><span class=\"line\">#ionic run browser runs your app in the Cordova browser platform, which will inject cordova.jsand any plugins that have browser capabilities</span><br></pre></td></tr></table></figure>"},{"title":"passport","date":"2019-02-17T08:11:42.000Z","_content":"\n## passport : http://www.passportjs.org/\n\n> Simple, unobtrusive authentication for Node.js\n\n패스포트는 인증을 위한 다양한 Strategy Package를 제공합니다. 아래 본문은 그 중 Local Strategy에 대해 설명합니다.\n\n## local strategy\n\n외부 시스템의 인증 연동없이 직접 구현하는 방식이며 사용자 상태 관리를 위해 세션을 사용합니다.\n로그인, 리소스 호출에 대한 흐름을 정리하고 코드로 설명하겠습니다.\n\n## 사전작업 \n\n\n### 패스포트가 자동으로 생성해주는 함수 (변수)\n\n- req.user : 로그인한 사용자 정보\n- req.login(=logIn) : 로그인 함수 (세션에 사용자 정보를 저장)\n- req.logout : 로그아웃 함수 (세션정보 비움)\n- req.isAuthenticated : 요청 사용자의 인증여부 확인\n\n### Session Storage 설정\n\n- express 는 기본 session을 in-memory 방식으로 저장하기 때문에 memory leak 문제가 있음(production 환경에서 사용 X)\n- memory leak 방지 등 몇 가지 목적으로 session-storage 사용 추천 (mysql, mongodb, redis 등 모두 사용 가능함)\n- session 은 기본적으로 passport가 아닌 express에서 관리해주고 있음, passport에서 회원정보를 기본적으로 저장하는 req.user정보는 req.session.passport.user를 의미하고 response하는 시점에 세션정보를 갱신함(store를 따로 써도 자동으로 갱신해줌)\n- response하는 시점에 session을 업데이트하기 때문에 문제가 발생하면 req.logIn을 이용해서 serialize를 명시적으로 해줄 수 있음\n\n```javascript\nconst express = require('express') ;\nconst passport = require('passport'); \nconst session = require('express-session'); \nconst RedisStore = require('connect-redis')(session);\n \nconst app = express() ;\napp.use(session({ \n  store: new RedisStore({\n    url: config.redisStore.url\n  }),\n  secret: config.redisStore.secret,\n  //resave false는 session이 갱신된 경우만 데이터를 업데이트하도록 함(만료시간값 갱신은 관련없음)\n  resave: false,\n  saveUninitialized: false\n}));\n//express 연결\napp.use(passport.initialize()); \n//영속적인 로그인 세션 관리 (deserialize)\napp.use(passport.session());\n```\n\n### passport 기본 함수 구현\n\n#### passport id & pwd 체크 \n\n```javascript\nconst passport = require('passport') \nconst LocalStrategy = require('passport-local').Strategy\n \nconst user = { \n  username: 'test-user',\n  password: 'test-password',\n  id: 1\n}\n \n//post로 넘어오는 parameter명으로 변수명을 설정한다 (email, passwd) \npassport.use(new LocalStrategy({\n    usernameField: 'email',\n    passwordField: 'passwd'\n  },\n  function(username, password, done) {\n    //findUser는 실제로 database에서 user를 조회해야 함\n    findUser(username, function (err, user) {\n      if (err) {\n        return done(err)\n      }\n      //일차하는 user가 없는 경우 ( = 일차하는 id 없음 )\n      if (!user) {\n        return done(null, false, { message: 'Incorrect user information.' });\n      }\n      //조회한 user의 password가 입력된 password와 불일치 ( = 비밀번호 틀림 )\n      if (!user.validPassword(password)) {\n        return done(null, false, { message: 'Incorrect user information.' });\n      }\n      //예외 상황을 처리 완료 후 callback 두번째 parameter에 false가 아닌 값(searched user object)을 넘겨주면 로그인 성공\n      return done(null, user)\n    })\n  }\n))\n \n \n//LocalStrategy의 parameter로 정의된 익명함수는 verify callback이다\n//verify callback은 request가 포함한 credential을 분석하여 done함수를 발생시킨다.\n//done 함수는 인증 실패/성공여부를 포함하여 실행된다.\n//done 함수는 passport.authenticate (로그인 api에서 사용하는 함수) 의 두번째 parameter로 실행된다.\n```\n\n#### user serialize\n\n```javascript\npassport.serializeUser(function(user, done) {\n    done(null, user);\n});\n\n// user를 두번째 인자로 넘기면 user 정보 전체를 session에 저장한다. user.id 로 id 정보만 저장하여 관리할 수 있음\n```\n\n#### user deserialize\n\n```javascript\npassport.deserializeUser(function(user, done) {\n    done(null, user);\n});\n\n// session 에 저장된 user 정보를 deserialize 함, id만 관리한 경우 user 정보가 필요하면 DB에서 조회해야 함\n```\n\n#### authentication middleware\n\n```javascript\nfunction authenticationMiddleware () { \n  return function (req, res, next) {\n    if (req.isAuthenticated()) {\n      return next()\n    }\n    res.redirect('/')\n  }\n}\n```\n\n## login flow\n\nflow\n\n1. id 와 password를 post method로 login url로 요청\n2. login router에서 passport.authenticate 함수를 이용해 strategy를 선택\n3. 선택된 strategy에서 id, password 비교 (db 조회), 비교 결과를 callback 함수를 이용해서 passport.authenticate 두번째 인자 함수로 전달\n4. serialize 를 통해 session에 user 정보 저장\n5. callback 함수안에서 req.logIn 함수 실행\n6. Set-Cookie 헤더에 세션키값을 저장하여  response\n7. session storage를 사용하는 경우 response할 때 req.session 에 있는 user 정보를 storage에 저장\n\ncode\n\n```javascript\napp.get('/login', function(req, res, next) {\n  passport.authenticate('local', function(err, user, info) {\n    if (err) { return next(err); }\n    if (!user) { return res.redirect('/login'); }\n    //passport가 제공하는 login함수(=logIn)을 이용하여 login session 저장\n    req.logIn(user, function(err) {\n      if (err) { return next(err); }\n      return res.redirect('/users/' + user.username);\n    });\n  })(req, res, next);\n});\n\n// logout 함수로 req.user 를 삭제하고 관련 login session을 비움\napp.get('/logout', function(req, res){\n  req.logout();\n  res.redirect('/');\n});\n```\n\n## resource authentication flow\n\nflow \n\n1. endpont로 request 보냄\n2. cookie이용해서 session 정보 조회\n3. session 정보 deserialize 해서 user 정보 얻기\n4. req.isAuthenticate 함수를 이용해서 인증된 요청인지 확인\n5. 인증된 경우 / 인증되지 않은 경우에 따라 처리\n\ncode\n\n```javascript\nconst passport = require('passport')\napp.get('/resource', passport.authenticationMiddleware(), function(req, res){\n    res.render('resource', { title: 'passport example' });\n});\n```\n\n## 참조 링크\n\n- https://blog.risingstack.com/node-hero-node-js-authentication-passport-js/\n- https://github.com/passport/express-4.x-local-example/blob/master/server.js\n- https://scotch.io/tutorials/easy-node-authentication-setup-and-local\n- https://bcho.tistory.com/920","source":"_posts/nodejs/nodejs-passport.md","raw":"---\ntitle: passport\ndate: 2019-02-17 17:11:42\ntags:\n- nodejs\n- express\n- passport\n- authentication\ncategories:\n- nodejs\n---\n\n## passport : http://www.passportjs.org/\n\n> Simple, unobtrusive authentication for Node.js\n\n패스포트는 인증을 위한 다양한 Strategy Package를 제공합니다. 아래 본문은 그 중 Local Strategy에 대해 설명합니다.\n\n## local strategy\n\n외부 시스템의 인증 연동없이 직접 구현하는 방식이며 사용자 상태 관리를 위해 세션을 사용합니다.\n로그인, 리소스 호출에 대한 흐름을 정리하고 코드로 설명하겠습니다.\n\n## 사전작업 \n\n\n### 패스포트가 자동으로 생성해주는 함수 (변수)\n\n- req.user : 로그인한 사용자 정보\n- req.login(=logIn) : 로그인 함수 (세션에 사용자 정보를 저장)\n- req.logout : 로그아웃 함수 (세션정보 비움)\n- req.isAuthenticated : 요청 사용자의 인증여부 확인\n\n### Session Storage 설정\n\n- express 는 기본 session을 in-memory 방식으로 저장하기 때문에 memory leak 문제가 있음(production 환경에서 사용 X)\n- memory leak 방지 등 몇 가지 목적으로 session-storage 사용 추천 (mysql, mongodb, redis 등 모두 사용 가능함)\n- session 은 기본적으로 passport가 아닌 express에서 관리해주고 있음, passport에서 회원정보를 기본적으로 저장하는 req.user정보는 req.session.passport.user를 의미하고 response하는 시점에 세션정보를 갱신함(store를 따로 써도 자동으로 갱신해줌)\n- response하는 시점에 session을 업데이트하기 때문에 문제가 발생하면 req.logIn을 이용해서 serialize를 명시적으로 해줄 수 있음\n\n```javascript\nconst express = require('express') ;\nconst passport = require('passport'); \nconst session = require('express-session'); \nconst RedisStore = require('connect-redis')(session);\n \nconst app = express() ;\napp.use(session({ \n  store: new RedisStore({\n    url: config.redisStore.url\n  }),\n  secret: config.redisStore.secret,\n  //resave false는 session이 갱신된 경우만 데이터를 업데이트하도록 함(만료시간값 갱신은 관련없음)\n  resave: false,\n  saveUninitialized: false\n}));\n//express 연결\napp.use(passport.initialize()); \n//영속적인 로그인 세션 관리 (deserialize)\napp.use(passport.session());\n```\n\n### passport 기본 함수 구현\n\n#### passport id & pwd 체크 \n\n```javascript\nconst passport = require('passport') \nconst LocalStrategy = require('passport-local').Strategy\n \nconst user = { \n  username: 'test-user',\n  password: 'test-password',\n  id: 1\n}\n \n//post로 넘어오는 parameter명으로 변수명을 설정한다 (email, passwd) \npassport.use(new LocalStrategy({\n    usernameField: 'email',\n    passwordField: 'passwd'\n  },\n  function(username, password, done) {\n    //findUser는 실제로 database에서 user를 조회해야 함\n    findUser(username, function (err, user) {\n      if (err) {\n        return done(err)\n      }\n      //일차하는 user가 없는 경우 ( = 일차하는 id 없음 )\n      if (!user) {\n        return done(null, false, { message: 'Incorrect user information.' });\n      }\n      //조회한 user의 password가 입력된 password와 불일치 ( = 비밀번호 틀림 )\n      if (!user.validPassword(password)) {\n        return done(null, false, { message: 'Incorrect user information.' });\n      }\n      //예외 상황을 처리 완료 후 callback 두번째 parameter에 false가 아닌 값(searched user object)을 넘겨주면 로그인 성공\n      return done(null, user)\n    })\n  }\n))\n \n \n//LocalStrategy의 parameter로 정의된 익명함수는 verify callback이다\n//verify callback은 request가 포함한 credential을 분석하여 done함수를 발생시킨다.\n//done 함수는 인증 실패/성공여부를 포함하여 실행된다.\n//done 함수는 passport.authenticate (로그인 api에서 사용하는 함수) 의 두번째 parameter로 실행된다.\n```\n\n#### user serialize\n\n```javascript\npassport.serializeUser(function(user, done) {\n    done(null, user);\n});\n\n// user를 두번째 인자로 넘기면 user 정보 전체를 session에 저장한다. user.id 로 id 정보만 저장하여 관리할 수 있음\n```\n\n#### user deserialize\n\n```javascript\npassport.deserializeUser(function(user, done) {\n    done(null, user);\n});\n\n// session 에 저장된 user 정보를 deserialize 함, id만 관리한 경우 user 정보가 필요하면 DB에서 조회해야 함\n```\n\n#### authentication middleware\n\n```javascript\nfunction authenticationMiddleware () { \n  return function (req, res, next) {\n    if (req.isAuthenticated()) {\n      return next()\n    }\n    res.redirect('/')\n  }\n}\n```\n\n## login flow\n\nflow\n\n1. id 와 password를 post method로 login url로 요청\n2. login router에서 passport.authenticate 함수를 이용해 strategy를 선택\n3. 선택된 strategy에서 id, password 비교 (db 조회), 비교 결과를 callback 함수를 이용해서 passport.authenticate 두번째 인자 함수로 전달\n4. serialize 를 통해 session에 user 정보 저장\n5. callback 함수안에서 req.logIn 함수 실행\n6. Set-Cookie 헤더에 세션키값을 저장하여  response\n7. session storage를 사용하는 경우 response할 때 req.session 에 있는 user 정보를 storage에 저장\n\ncode\n\n```javascript\napp.get('/login', function(req, res, next) {\n  passport.authenticate('local', function(err, user, info) {\n    if (err) { return next(err); }\n    if (!user) { return res.redirect('/login'); }\n    //passport가 제공하는 login함수(=logIn)을 이용하여 login session 저장\n    req.logIn(user, function(err) {\n      if (err) { return next(err); }\n      return res.redirect('/users/' + user.username);\n    });\n  })(req, res, next);\n});\n\n// logout 함수로 req.user 를 삭제하고 관련 login session을 비움\napp.get('/logout', function(req, res){\n  req.logout();\n  res.redirect('/');\n});\n```\n\n## resource authentication flow\n\nflow \n\n1. endpont로 request 보냄\n2. cookie이용해서 session 정보 조회\n3. session 정보 deserialize 해서 user 정보 얻기\n4. req.isAuthenticate 함수를 이용해서 인증된 요청인지 확인\n5. 인증된 경우 / 인증되지 않은 경우에 따라 처리\n\ncode\n\n```javascript\nconst passport = require('passport')\napp.get('/resource', passport.authenticationMiddleware(), function(req, res){\n    res.render('resource', { title: 'passport example' });\n});\n```\n\n## 참조 링크\n\n- https://blog.risingstack.com/node-hero-node-js-authentication-passport-js/\n- https://github.com/passport/express-4.x-local-example/blob/master/server.js\n- https://scotch.io/tutorials/easy-node-authentication-setup-and-local\n- https://bcho.tistory.com/920","slug":"nodejs/nodejs-passport","published":1,"updated":"2020-07-17T14:47:06.702Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvr0016twuz1rvkrqzp","content":"<h2 id=\"passport-http-www-passportjs-org\"><a href=\"#passport-http-www-passportjs-org\" class=\"headerlink\" title=\"passport : http://www.passportjs.org/\"></a>passport : <a href=\"http://www.passportjs.org/\" target=\"_blank\" rel=\"noopener\">http://www.passportjs.org/</a></h2><blockquote>\n<p>Simple, unobtrusive authentication for Node.js</p>\n</blockquote>\n<p>패스포트는 인증을 위한 다양한 Strategy Package를 제공합니다. 아래 본문은 그 중 Local Strategy에 대해 설명합니다.</p>\n<h2 id=\"local-strategy\"><a href=\"#local-strategy\" class=\"headerlink\" title=\"local strategy\"></a>local strategy</h2><p>외부 시스템의 인증 연동없이 직접 구현하는 방식이며 사용자 상태 관리를 위해 세션을 사용합니다.<br>로그인, 리소스 호출에 대한 흐름을 정리하고 코드로 설명하겠습니다.</p>\n<h2 id=\"사전작업\"><a href=\"#사전작업\" class=\"headerlink\" title=\"사전작업\"></a>사전작업</h2><h3 id=\"패스포트가-자동으로-생성해주는-함수-변수\"><a href=\"#패스포트가-자동으로-생성해주는-함수-변수\" class=\"headerlink\" title=\"패스포트가 자동으로 생성해주는 함수 (변수)\"></a>패스포트가 자동으로 생성해주는 함수 (변수)</h3><ul>\n<li>req.user : 로그인한 사용자 정보</li>\n<li>req.login(=logIn) : 로그인 함수 (세션에 사용자 정보를 저장)</li>\n<li>req.logout : 로그아웃 함수 (세션정보 비움)</li>\n<li>req.isAuthenticated : 요청 사용자의 인증여부 확인</li>\n</ul>\n<h3 id=\"Session-Storage-설정\"><a href=\"#Session-Storage-설정\" class=\"headerlink\" title=\"Session Storage 설정\"></a>Session Storage 설정</h3><ul>\n<li>express 는 기본 session을 in-memory 방식으로 저장하기 때문에 memory leak 문제가 있음(production 환경에서 사용 X)</li>\n<li>memory leak 방지 등 몇 가지 목적으로 session-storage 사용 추천 (mysql, mongodb, redis 등 모두 사용 가능함)</li>\n<li>session 은 기본적으로 passport가 아닌 express에서 관리해주고 있음, passport에서 회원정보를 기본적으로 저장하는 req.user정보는 req.session.passport.user를 의미하고 response하는 시점에 세션정보를 갱신함(store를 따로 써도 자동으로 갱신해줌)</li>\n<li>response하는 시점에 session을 업데이트하기 때문에 문제가 발생하면 req.logIn을 이용해서 serialize를 명시적으로 해줄 수 있음</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> express = <span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>) ;</span><br><span class=\"line\"><span class=\"keyword\">const</span> passport = <span class=\"built_in\">require</span>(<span class=\"string\">'passport'</span>); </span><br><span class=\"line\"><span class=\"keyword\">const</span> session = <span class=\"built_in\">require</span>(<span class=\"string\">'express-session'</span>); </span><br><span class=\"line\"><span class=\"keyword\">const</span> RedisStore = <span class=\"built_in\">require</span>(<span class=\"string\">'connect-redis'</span>)(session);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> app = express() ;</span><br><span class=\"line\">app.use(session(&#123; </span><br><span class=\"line\">  store: <span class=\"keyword\">new</span> RedisStore(&#123;</span><br><span class=\"line\">    url: config.redisStore.url</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  secret: config.redisStore.secret,</span><br><span class=\"line\">  <span class=\"comment\">//resave false는 session이 갱신된 경우만 데이터를 업데이트하도록 함(만료시간값 갱신은 관련없음)</span></span><br><span class=\"line\">  resave: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  saveUninitialized: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;));</span><br><span class=\"line\"><span class=\"comment\">//express 연결</span></span><br><span class=\"line\">app.use(passport.initialize()); </span><br><span class=\"line\"><span class=\"comment\">//영속적인 로그인 세션 관리 (deserialize)</span></span><br><span class=\"line\">app.use(passport.session());</span><br></pre></td></tr></table></figure>\n<h3 id=\"passport-기본-함수-구현\"><a href=\"#passport-기본-함수-구현\" class=\"headerlink\" title=\"passport 기본 함수 구현\"></a>passport 기본 함수 구현</h3><h4 id=\"passport-id-amp-pwd-체크\"><a href=\"#passport-id-amp-pwd-체크\" class=\"headerlink\" title=\"passport id &amp; pwd 체크\"></a>passport id &amp; pwd 체크</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> passport = <span class=\"built_in\">require</span>(<span class=\"string\">'passport'</span>) </span><br><span class=\"line\"><span class=\"keyword\">const</span> LocalStrategy = <span class=\"built_in\">require</span>(<span class=\"string\">'passport-local'</span>).Strategy</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; </span><br><span class=\"line\">  username: <span class=\"string\">'test-user'</span>,</span><br><span class=\"line\">  password: <span class=\"string\">'test-password'</span>,</span><br><span class=\"line\">  id: <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//post로 넘어오는 parameter명으로 변수명을 설정한다 (email, passwd) </span></span><br><span class=\"line\">passport.use(<span class=\"keyword\">new</span> LocalStrategy(&#123;</span><br><span class=\"line\">    usernameField: <span class=\"string\">'email'</span>,</span><br><span class=\"line\">    passwordField: <span class=\"string\">'passwd'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">username, password, done</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//findUser는 실제로 database에서 user를 조회해야 함</span></span><br><span class=\"line\">    findUser(username, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, user</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> done(err)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//일차하는 user가 없는 경우 ( = 일차하는 id 없음 )</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!user) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> done(<span class=\"literal\">null</span>, <span class=\"literal\">false</span>, &#123; <span class=\"attr\">message</span>: <span class=\"string\">'Incorrect user information.'</span> &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//조회한 user의 password가 입력된 password와 불일치 ( = 비밀번호 틀림 )</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!user.validPassword(password)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> done(<span class=\"literal\">null</span>, <span class=\"literal\">false</span>, &#123; <span class=\"attr\">message</span>: <span class=\"string\">'Incorrect user information.'</span> &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//예외 상황을 처리 완료 후 callback 두번째 parameter에 false가 아닌 값(searched user object)을 넘겨주면 로그인 성공</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> done(<span class=\"literal\">null</span>, user)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">))</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//LocalStrategy의 parameter로 정의된 익명함수는 verify callback이다</span></span><br><span class=\"line\"><span class=\"comment\">//verify callback은 request가 포함한 credential을 분석하여 done함수를 발생시킨다.</span></span><br><span class=\"line\"><span class=\"comment\">//done 함수는 인증 실패/성공여부를 포함하여 실행된다.</span></span><br><span class=\"line\"><span class=\"comment\">//done 함수는 passport.authenticate (로그인 api에서 사용하는 함수) 의 두번째 parameter로 실행된다.</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"user-serialize\"><a href=\"#user-serialize\" class=\"headerlink\" title=\"user serialize\"></a>user serialize</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passport.serializeUser(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user, done</span>) </span>&#123;</span><br><span class=\"line\">    done(<span class=\"literal\">null</span>, user);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// user를 두번째 인자로 넘기면 user 정보 전체를 session에 저장한다. user.id 로 id 정보만 저장하여 관리할 수 있음</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"user-deserialize\"><a href=\"#user-deserialize\" class=\"headerlink\" title=\"user deserialize\"></a>user deserialize</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passport.deserializeUser(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user, done</span>) </span>&#123;</span><br><span class=\"line\">    done(<span class=\"literal\">null</span>, user);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// session 에 저장된 user 정보를 deserialize 함, id만 관리한 경우 user 정보가 필요하면 DB에서 조회해야 함</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"authentication-middleware\"><a href=\"#authentication-middleware\" class=\"headerlink\" title=\"authentication middleware\"></a>authentication middleware</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">authenticationMiddleware</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (req.isAuthenticated()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> next()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    res.redirect(<span class=\"string\">'/'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"login-flow\"><a href=\"#login-flow\" class=\"headerlink\" title=\"login flow\"></a>login flow</h2><p>flow</p>\n<ol>\n<li>id 와 password를 post method로 login url로 요청</li>\n<li>login router에서 passport.authenticate 함수를 이용해 strategy를 선택</li>\n<li>선택된 strategy에서 id, password 비교 (db 조회), 비교 결과를 callback 함수를 이용해서 passport.authenticate 두번째 인자 함수로 전달</li>\n<li>serialize 를 통해 session에 user 정보 저장</li>\n<li>callback 함수안에서 req.logIn 함수 실행</li>\n<li>Set-Cookie 헤더에 세션키값을 저장하여  response</li>\n<li>session storage를 사용하는 경우 response할 때 req.session 에 있는 user 정보를 storage에 저장</li>\n</ol>\n<p>code</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.get(<span class=\"string\">'/login'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">  passport.authenticate(<span class=\"string\">'local'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, user, info</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) &#123; <span class=\"keyword\">return</span> next(err); &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!user) &#123; <span class=\"keyword\">return</span> res.redirect(<span class=\"string\">'/login'</span>); &#125;</span><br><span class=\"line\">    <span class=\"comment\">//passport가 제공하는 login함수(=logIn)을 이용하여 login session 저장</span></span><br><span class=\"line\">    req.logIn(user, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (err) &#123; <span class=\"keyword\">return</span> next(err); &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> res.redirect(<span class=\"string\">'/users/'</span> + user.username);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;)(req, res, next);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// logout 함수로 req.user 를 삭제하고 관련 login session을 비움</span></span><br><span class=\"line\">app.get(<span class=\"string\">'/logout'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>)</span>&#123;</span><br><span class=\"line\">  req.logout();</span><br><span class=\"line\">  res.redirect(<span class=\"string\">'/'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"resource-authentication-flow\"><a href=\"#resource-authentication-flow\" class=\"headerlink\" title=\"resource authentication flow\"></a>resource authentication flow</h2><p>flow </p>\n<ol>\n<li>endpont로 request 보냄</li>\n<li>cookie이용해서 session 정보 조회</li>\n<li>session 정보 deserialize 해서 user 정보 얻기</li>\n<li>req.isAuthenticate 함수를 이용해서 인증된 요청인지 확인</li>\n<li>인증된 경우 / 인증되지 않은 경우에 따라 처리</li>\n</ol>\n<p>code</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> passport = <span class=\"built_in\">require</span>(<span class=\"string\">'passport'</span>)</span><br><span class=\"line\">app.get(<span class=\"string\">'/resource'</span>, passport.authenticationMiddleware(), <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>)</span>&#123;</span><br><span class=\"line\">    res.render(<span class=\"string\">'resource'</span>, &#123; <span class=\"attr\">title</span>: <span class=\"string\">'passport example'</span> &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"참조-링크\"><a href=\"#참조-링크\" class=\"headerlink\" title=\"참조 링크\"></a>참조 링크</h2><ul>\n<li><a href=\"https://blog.risingstack.com/node-hero-node-js-authentication-passport-js/\" target=\"_blank\" rel=\"noopener\">https://blog.risingstack.com/node-hero-node-js-authentication-passport-js/</a></li>\n<li><a href=\"https://github.com/passport/express-4.x-local-example/blob/master/server.js\" target=\"_blank\" rel=\"noopener\">https://github.com/passport/express-4.x-local-example/blob/master/server.js</a></li>\n<li><a href=\"https://scotch.io/tutorials/easy-node-authentication-setup-and-local\" target=\"_blank\" rel=\"noopener\">https://scotch.io/tutorials/easy-node-authentication-setup-and-local</a></li>\n<li><a href=\"https://bcho.tistory.com/920\" target=\"_blank\" rel=\"noopener\">https://bcho.tistory.com/920</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"passport-http-www-passportjs-org\"><a href=\"#passport-http-www-passportjs-org\" class=\"headerlink\" title=\"passport : http://www.passportjs.org/\"></a>passport : <a href=\"http://www.passportjs.org/\" target=\"_blank\" rel=\"noopener\">http://www.passportjs.org/</a></h2><blockquote>\n<p>Simple, unobtrusive authentication for Node.js</p>\n</blockquote>\n<p>패스포트는 인증을 위한 다양한 Strategy Package를 제공합니다. 아래 본문은 그 중 Local Strategy에 대해 설명합니다.</p>\n<h2 id=\"local-strategy\"><a href=\"#local-strategy\" class=\"headerlink\" title=\"local strategy\"></a>local strategy</h2><p>외부 시스템의 인증 연동없이 직접 구현하는 방식이며 사용자 상태 관리를 위해 세션을 사용합니다.<br>로그인, 리소스 호출에 대한 흐름을 정리하고 코드로 설명하겠습니다.</p>\n<h2 id=\"사전작업\"><a href=\"#사전작업\" class=\"headerlink\" title=\"사전작업\"></a>사전작업</h2><h3 id=\"패스포트가-자동으로-생성해주는-함수-변수\"><a href=\"#패스포트가-자동으로-생성해주는-함수-변수\" class=\"headerlink\" title=\"패스포트가 자동으로 생성해주는 함수 (변수)\"></a>패스포트가 자동으로 생성해주는 함수 (변수)</h3><ul>\n<li>req.user : 로그인한 사용자 정보</li>\n<li>req.login(=logIn) : 로그인 함수 (세션에 사용자 정보를 저장)</li>\n<li>req.logout : 로그아웃 함수 (세션정보 비움)</li>\n<li>req.isAuthenticated : 요청 사용자의 인증여부 확인</li>\n</ul>\n<h3 id=\"Session-Storage-설정\"><a href=\"#Session-Storage-설정\" class=\"headerlink\" title=\"Session Storage 설정\"></a>Session Storage 설정</h3><ul>\n<li>express 는 기본 session을 in-memory 방식으로 저장하기 때문에 memory leak 문제가 있음(production 환경에서 사용 X)</li>\n<li>memory leak 방지 등 몇 가지 목적으로 session-storage 사용 추천 (mysql, mongodb, redis 등 모두 사용 가능함)</li>\n<li>session 은 기본적으로 passport가 아닌 express에서 관리해주고 있음, passport에서 회원정보를 기본적으로 저장하는 req.user정보는 req.session.passport.user를 의미하고 response하는 시점에 세션정보를 갱신함(store를 따로 써도 자동으로 갱신해줌)</li>\n<li>response하는 시점에 session을 업데이트하기 때문에 문제가 발생하면 req.logIn을 이용해서 serialize를 명시적으로 해줄 수 있음</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> express = <span class=\"built_in\">require</span>(<span class=\"string\">'express'</span>) ;</span><br><span class=\"line\"><span class=\"keyword\">const</span> passport = <span class=\"built_in\">require</span>(<span class=\"string\">'passport'</span>); </span><br><span class=\"line\"><span class=\"keyword\">const</span> session = <span class=\"built_in\">require</span>(<span class=\"string\">'express-session'</span>); </span><br><span class=\"line\"><span class=\"keyword\">const</span> RedisStore = <span class=\"built_in\">require</span>(<span class=\"string\">'connect-redis'</span>)(session);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> app = express() ;</span><br><span class=\"line\">app.use(session(&#123; </span><br><span class=\"line\">  store: <span class=\"keyword\">new</span> RedisStore(&#123;</span><br><span class=\"line\">    url: config.redisStore.url</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  secret: config.redisStore.secret,</span><br><span class=\"line\">  <span class=\"comment\">//resave false는 session이 갱신된 경우만 데이터를 업데이트하도록 함(만료시간값 갱신은 관련없음)</span></span><br><span class=\"line\">  resave: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  saveUninitialized: <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;));</span><br><span class=\"line\"><span class=\"comment\">//express 연결</span></span><br><span class=\"line\">app.use(passport.initialize()); </span><br><span class=\"line\"><span class=\"comment\">//영속적인 로그인 세션 관리 (deserialize)</span></span><br><span class=\"line\">app.use(passport.session());</span><br></pre></td></tr></table></figure>\n<h3 id=\"passport-기본-함수-구현\"><a href=\"#passport-기본-함수-구현\" class=\"headerlink\" title=\"passport 기본 함수 구현\"></a>passport 기본 함수 구현</h3><h4 id=\"passport-id-amp-pwd-체크\"><a href=\"#passport-id-amp-pwd-체크\" class=\"headerlink\" title=\"passport id &amp; pwd 체크\"></a>passport id &amp; pwd 체크</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> passport = <span class=\"built_in\">require</span>(<span class=\"string\">'passport'</span>) </span><br><span class=\"line\"><span class=\"keyword\">const</span> LocalStrategy = <span class=\"built_in\">require</span>(<span class=\"string\">'passport-local'</span>).Strategy</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">const</span> user = &#123; </span><br><span class=\"line\">  username: <span class=\"string\">'test-user'</span>,</span><br><span class=\"line\">  password: <span class=\"string\">'test-password'</span>,</span><br><span class=\"line\">  id: <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//post로 넘어오는 parameter명으로 변수명을 설정한다 (email, passwd) </span></span><br><span class=\"line\">passport.use(<span class=\"keyword\">new</span> LocalStrategy(&#123;</span><br><span class=\"line\">    usernameField: <span class=\"string\">'email'</span>,</span><br><span class=\"line\">    passwordField: <span class=\"string\">'passwd'</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">username, password, done</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//findUser는 실제로 database에서 user를 조회해야 함</span></span><br><span class=\"line\">    findUser(username, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, user</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> done(err)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//일차하는 user가 없는 경우 ( = 일차하는 id 없음 )</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!user) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> done(<span class=\"literal\">null</span>, <span class=\"literal\">false</span>, &#123; <span class=\"attr\">message</span>: <span class=\"string\">'Incorrect user information.'</span> &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//조회한 user의 password가 입력된 password와 불일치 ( = 비밀번호 틀림 )</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!user.validPassword(password)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> done(<span class=\"literal\">null</span>, <span class=\"literal\">false</span>, &#123; <span class=\"attr\">message</span>: <span class=\"string\">'Incorrect user information.'</span> &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//예외 상황을 처리 완료 후 callback 두번째 parameter에 false가 아닌 값(searched user object)을 넘겨주면 로그인 성공</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> done(<span class=\"literal\">null</span>, user)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">))</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//LocalStrategy의 parameter로 정의된 익명함수는 verify callback이다</span></span><br><span class=\"line\"><span class=\"comment\">//verify callback은 request가 포함한 credential을 분석하여 done함수를 발생시킨다.</span></span><br><span class=\"line\"><span class=\"comment\">//done 함수는 인증 실패/성공여부를 포함하여 실행된다.</span></span><br><span class=\"line\"><span class=\"comment\">//done 함수는 passport.authenticate (로그인 api에서 사용하는 함수) 의 두번째 parameter로 실행된다.</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"user-serialize\"><a href=\"#user-serialize\" class=\"headerlink\" title=\"user serialize\"></a>user serialize</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passport.serializeUser(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user, done</span>) </span>&#123;</span><br><span class=\"line\">    done(<span class=\"literal\">null</span>, user);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// user를 두번째 인자로 넘기면 user 정보 전체를 session에 저장한다. user.id 로 id 정보만 저장하여 관리할 수 있음</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"user-deserialize\"><a href=\"#user-deserialize\" class=\"headerlink\" title=\"user deserialize\"></a>user deserialize</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">passport.deserializeUser(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">user, done</span>) </span>&#123;</span><br><span class=\"line\">    done(<span class=\"literal\">null</span>, user);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// session 에 저장된 user 정보를 deserialize 함, id만 관리한 경우 user 정보가 필요하면 DB에서 조회해야 함</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"authentication-middleware\"><a href=\"#authentication-middleware\" class=\"headerlink\" title=\"authentication middleware\"></a>authentication middleware</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">authenticationMiddleware</span> (<span class=\"params\"></span>) </span>&#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (req.isAuthenticated()) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> next()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    res.redirect(<span class=\"string\">'/'</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"login-flow\"><a href=\"#login-flow\" class=\"headerlink\" title=\"login flow\"></a>login flow</h2><p>flow</p>\n<ol>\n<li>id 와 password를 post method로 login url로 요청</li>\n<li>login router에서 passport.authenticate 함수를 이용해 strategy를 선택</li>\n<li>선택된 strategy에서 id, password 비교 (db 조회), 비교 결과를 callback 함수를 이용해서 passport.authenticate 두번째 인자 함수로 전달</li>\n<li>serialize 를 통해 session에 user 정보 저장</li>\n<li>callback 함수안에서 req.logIn 함수 실행</li>\n<li>Set-Cookie 헤더에 세션키값을 저장하여  response</li>\n<li>session storage를 사용하는 경우 response할 때 req.session 에 있는 user 정보를 storage에 저장</li>\n</ol>\n<p>code</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app.get(<span class=\"string\">'/login'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res, next</span>) </span>&#123;</span><br><span class=\"line\">  passport.authenticate(<span class=\"string\">'local'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err, user, info</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (err) &#123; <span class=\"keyword\">return</span> next(err); &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!user) &#123; <span class=\"keyword\">return</span> res.redirect(<span class=\"string\">'/login'</span>); &#125;</span><br><span class=\"line\">    <span class=\"comment\">//passport가 제공하는 login함수(=logIn)을 이용하여 login session 저장</span></span><br><span class=\"line\">    req.logIn(user, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err</span>) </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (err) &#123; <span class=\"keyword\">return</span> next(err); &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> res.redirect(<span class=\"string\">'/users/'</span> + user.username);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;)(req, res, next);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// logout 함수로 req.user 를 삭제하고 관련 login session을 비움</span></span><br><span class=\"line\">app.get(<span class=\"string\">'/logout'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>)</span>&#123;</span><br><span class=\"line\">  req.logout();</span><br><span class=\"line\">  res.redirect(<span class=\"string\">'/'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"resource-authentication-flow\"><a href=\"#resource-authentication-flow\" class=\"headerlink\" title=\"resource authentication flow\"></a>resource authentication flow</h2><p>flow </p>\n<ol>\n<li>endpont로 request 보냄</li>\n<li>cookie이용해서 session 정보 조회</li>\n<li>session 정보 deserialize 해서 user 정보 얻기</li>\n<li>req.isAuthenticate 함수를 이용해서 인증된 요청인지 확인</li>\n<li>인증된 경우 / 인증되지 않은 경우에 따라 처리</li>\n</ol>\n<p>code</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> passport = <span class=\"built_in\">require</span>(<span class=\"string\">'passport'</span>)</span><br><span class=\"line\">app.get(<span class=\"string\">'/resource'</span>, passport.authenticationMiddleware(), <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">req, res</span>)</span>&#123;</span><br><span class=\"line\">    res.render(<span class=\"string\">'resource'</span>, &#123; <span class=\"attr\">title</span>: <span class=\"string\">'passport example'</span> &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"참조-링크\"><a href=\"#참조-링크\" class=\"headerlink\" title=\"참조 링크\"></a>참조 링크</h2><ul>\n<li><a href=\"https://blog.risingstack.com/node-hero-node-js-authentication-passport-js/\" target=\"_blank\" rel=\"noopener\">https://blog.risingstack.com/node-hero-node-js-authentication-passport-js/</a></li>\n<li><a href=\"https://github.com/passport/express-4.x-local-example/blob/master/server.js\" target=\"_blank\" rel=\"noopener\">https://github.com/passport/express-4.x-local-example/blob/master/server.js</a></li>\n<li><a href=\"https://scotch.io/tutorials/easy-node-authentication-setup-and-local\" target=\"_blank\" rel=\"noopener\">https://scotch.io/tutorials/easy-node-authentication-setup-and-local</a></li>\n<li><a href=\"https://bcho.tistory.com/920\" target=\"_blank\" rel=\"noopener\">https://bcho.tistory.com/920</a></li>\n</ul>\n"},{"title":"npm-registry","date":"2019-02-24T12:04:36.000Z","_content":"\n## private node package manger \n\nwww.npmjs.com 에서도 개인이 한 달에 7$를 지불하면 private 패키지를 관리할 수 있다.\n여건만 된다면 사설 저장소를 설치해서 관리하는 것도 나쁘지 않다.\n미러링이나 캐쉬로 사용가능하기 때문에 private 으로 관리할 수 있다는 점 외에 장점이 많다.\n사설 패키지 매니저로 `sinopia`와 `nexus`를 설치해보고 노드 프로젝트에 설정해보자.\n\n## sinopia\nhttps://www.npmjs.com/package/sinopia\n\nnpm 엔드포인트 수정\n```sbtshell\n$ npm config get registry\nhttps://registry.npmjs.org/\n$ npm set registry http://localhost:4873\n$ npm config get registry\nhttp://localhost:4873/\n```\n\n## nexus\nhttps://www.sonatype.com/\n\n### 설치 & 실행\n\n1. nexus를 설치하는 방법은 2가지가 있다.\n  - docker 사용\n  - 그냥 설치\n2. 그냥 설치해 보자 … 우선 다운로드 받는다. https://www.sonatype.com/download-oss-sonatype\n3. java 8이 설치되어 있어야 한다.\n4. 아카이브 해제하면 폴더 2개가 나온다\n5. sonatype-work 는 저장소다,\n6. 다른 폴더의 안의 bin 폴더에서 nexus 파일을 실행\n7. http://localhost:8081/ 로 접속\n8. default admin account [admin / admin123]\n\n### repository 생성\n\n![](/images/npm-registry/create_repo.png \"create_repository\")\n\n- 저장소 목록에서 url 컬럼의 버튼을 누르면 저장소 주소가 copy됨\n- repository 타입\n  - group : repository를 하나로 묶을 수 있는 repo\n  - hosted : 저장소 직접 호스팅\n  - proxy : 외부 저장소 prox\n-  npm 저장소 만들기\n  - proxy에 공식 저장소 주소 넣기 : `https://registry.npmjs.org/`\n  - hosted 만들기\n  - group 으로 hosted proxy 묶기\n\n### nexus npm저장소 계정만들기\n\n![](/images/npm-registry/create_acc.png \"create_account\")\n\n### 저장소 realms 설정\n\n![](/images/npm-registry/set_realms.png \"set_realms\")\n\n### user role 설정 \n처음 anonymous 권한 설정이 읽기에 열려 있기 때문에 필요에 따라 anonymous user의 role 변경이 필요함\n\n![](/images/npm-registry/set_role.png \"set_role\")\n\n### nexus npm 저장소 사용하기\n\n- module publish 관련 설정\n  - .npmrc파일 생성\n    ```sbtshell\n    #_auth=<username>:<password>\n    #base64 인코딩\n    _auth=YWRtaW46YWRtaW4xMjM=\n    ```\n  - package.json 수정\n    ```sbtshell\n    {\n      ...\n    \n      \"publishConfig\": {\n        \"registry\": \"http://your.nexus.repository.com/repository/npm-private/\"\n      }\n    }\n    ```\n- install repository 지정\n  - npm config command 이용\n  - .npmrc 파일에 설정정보 추가\n    ```sbtshell\n    registry=http://your.nexus.repository.com/repository/npm-group/\n    ```\n\n## reference\n- http://www.sonatype.org/nexus/2017/02/14/using-nexus-3-as-your-repository-part-2-npm-packages/\n- https://help.sonatype.com/display/NXRM3\n- https://gs.saro.me/#!m=elec&jn=774 \n- https://kingbbode.github.io/posts/nexus-3xx-maven-npm\n- https://blog.sonatype.com/using-nexus-3-as-your-repository-part-2-npm-packages","source":"_posts/nodejs/npm-registry.md","raw":"---\ntitle: npm-registry\ndate: 2019-02-24 21:04:36\ntags:\n- nodejs\n- npm\n- nexus\ncategories:\n- nodejs\n---\n\n## private node package manger \n\nwww.npmjs.com 에서도 개인이 한 달에 7$를 지불하면 private 패키지를 관리할 수 있다.\n여건만 된다면 사설 저장소를 설치해서 관리하는 것도 나쁘지 않다.\n미러링이나 캐쉬로 사용가능하기 때문에 private 으로 관리할 수 있다는 점 외에 장점이 많다.\n사설 패키지 매니저로 `sinopia`와 `nexus`를 설치해보고 노드 프로젝트에 설정해보자.\n\n## sinopia\nhttps://www.npmjs.com/package/sinopia\n\nnpm 엔드포인트 수정\n```sbtshell\n$ npm config get registry\nhttps://registry.npmjs.org/\n$ npm set registry http://localhost:4873\n$ npm config get registry\nhttp://localhost:4873/\n```\n\n## nexus\nhttps://www.sonatype.com/\n\n### 설치 & 실행\n\n1. nexus를 설치하는 방법은 2가지가 있다.\n  - docker 사용\n  - 그냥 설치\n2. 그냥 설치해 보자 … 우선 다운로드 받는다. https://www.sonatype.com/download-oss-sonatype\n3. java 8이 설치되어 있어야 한다.\n4. 아카이브 해제하면 폴더 2개가 나온다\n5. sonatype-work 는 저장소다,\n6. 다른 폴더의 안의 bin 폴더에서 nexus 파일을 실행\n7. http://localhost:8081/ 로 접속\n8. default admin account [admin / admin123]\n\n### repository 생성\n\n![](/images/npm-registry/create_repo.png \"create_repository\")\n\n- 저장소 목록에서 url 컬럼의 버튼을 누르면 저장소 주소가 copy됨\n- repository 타입\n  - group : repository를 하나로 묶을 수 있는 repo\n  - hosted : 저장소 직접 호스팅\n  - proxy : 외부 저장소 prox\n-  npm 저장소 만들기\n  - proxy에 공식 저장소 주소 넣기 : `https://registry.npmjs.org/`\n  - hosted 만들기\n  - group 으로 hosted proxy 묶기\n\n### nexus npm저장소 계정만들기\n\n![](/images/npm-registry/create_acc.png \"create_account\")\n\n### 저장소 realms 설정\n\n![](/images/npm-registry/set_realms.png \"set_realms\")\n\n### user role 설정 \n처음 anonymous 권한 설정이 읽기에 열려 있기 때문에 필요에 따라 anonymous user의 role 변경이 필요함\n\n![](/images/npm-registry/set_role.png \"set_role\")\n\n### nexus npm 저장소 사용하기\n\n- module publish 관련 설정\n  - .npmrc파일 생성\n    ```sbtshell\n    #_auth=<username>:<password>\n    #base64 인코딩\n    _auth=YWRtaW46YWRtaW4xMjM=\n    ```\n  - package.json 수정\n    ```sbtshell\n    {\n      ...\n    \n      \"publishConfig\": {\n        \"registry\": \"http://your.nexus.repository.com/repository/npm-private/\"\n      }\n    }\n    ```\n- install repository 지정\n  - npm config command 이용\n  - .npmrc 파일에 설정정보 추가\n    ```sbtshell\n    registry=http://your.nexus.repository.com/repository/npm-group/\n    ```\n\n## reference\n- http://www.sonatype.org/nexus/2017/02/14/using-nexus-3-as-your-repository-part-2-npm-packages/\n- https://help.sonatype.com/display/NXRM3\n- https://gs.saro.me/#!m=elec&jn=774 \n- https://kingbbode.github.io/posts/nexus-3xx-maven-npm\n- https://blog.sonatype.com/using-nexus-3-as-your-repository-part-2-npm-packages","slug":"nodejs/npm-registry","published":1,"updated":"2020-07-17T14:47:06.702Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckculonvs001btwuz1k6rbdaw","content":"<h2 id=\"private-node-package-manger\"><a href=\"#private-node-package-manger\" class=\"headerlink\" title=\"private node package manger\"></a>private node package manger</h2><p><a href=\"http://www.npmjs.com\" target=\"_blank\" rel=\"noopener\">www.npmjs.com</a> 에서도 개인이 한 달에 7$를 지불하면 private 패키지를 관리할 수 있다.<br>여건만 된다면 사설 저장소를 설치해서 관리하는 것도 나쁘지 않다.<br>미러링이나 캐쉬로 사용가능하기 때문에 private 으로 관리할 수 있다는 점 외에 장점이 많다.<br>사설 패키지 매니저로 <code>sinopia</code>와 <code>nexus</code>를 설치해보고 노드 프로젝트에 설정해보자.</p>\n<h2 id=\"sinopia\"><a href=\"#sinopia\" class=\"headerlink\" title=\"sinopia\"></a>sinopia</h2><p><a href=\"https://www.npmjs.com/package/sinopia\" target=\"_blank\" rel=\"noopener\">https://www.npmjs.com/package/sinopia</a></p>\n<p>npm 엔드포인트 수정<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm config get registry</span><br><span class=\"line\">https://registry.npmjs.org/</span><br><span class=\"line\">$ npm set registry http://localhost:4873</span><br><span class=\"line\">$ npm config get registry</span><br><span class=\"line\">http://localhost:4873/</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"nexus\"><a href=\"#nexus\" class=\"headerlink\" title=\"nexus\"></a>nexus</h2><p><a href=\"https://www.sonatype.com/\" target=\"_blank\" rel=\"noopener\">https://www.sonatype.com/</a></p>\n<h3 id=\"설치-amp-실행\"><a href=\"#설치-amp-실행\" class=\"headerlink\" title=\"설치 &amp; 실행\"></a>설치 &amp; 실행</h3><ol>\n<li>nexus를 설치하는 방법은 2가지가 있다.<ul>\n<li>docker 사용</li>\n<li>그냥 설치</li>\n</ul>\n</li>\n<li>그냥 설치해 보자 … 우선 다운로드 받는다. <a href=\"https://www.sonatype.com/download-oss-sonatype\" target=\"_blank\" rel=\"noopener\">https://www.sonatype.com/download-oss-sonatype</a></li>\n<li>java 8이 설치되어 있어야 한다.</li>\n<li>아카이브 해제하면 폴더 2개가 나온다</li>\n<li>sonatype-work 는 저장소다,</li>\n<li>다른 폴더의 안의 bin 폴더에서 nexus 파일을 실행</li>\n<li><a href=\"http://localhost:8081/\" target=\"_blank\" rel=\"noopener\">http://localhost:8081/</a> 로 접속</li>\n<li>default admin account [admin / admin123]</li>\n</ol>\n<h3 id=\"repository-생성\"><a href=\"#repository-생성\" class=\"headerlink\" title=\"repository 생성\"></a>repository 생성</h3><p><img src=\"/images/npm-registry/create_repo.png\" alt=\"\" title=\"create_repository\"></p>\n<ul>\n<li>저장소 목록에서 url 컬럼의 버튼을 누르면 저장소 주소가 copy됨</li>\n<li>repository 타입<ul>\n<li>group : repository를 하나로 묶을 수 있는 repo</li>\n<li>hosted : 저장소 직접 호스팅</li>\n<li>proxy : 외부 저장소 prox</li>\n</ul>\n</li>\n<li>npm 저장소 만들기<ul>\n<li>proxy에 공식 저장소 주소 넣기 : <code>https://registry.npmjs.org/</code></li>\n<li>hosted 만들기</li>\n<li>group 으로 hosted proxy 묶기</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"nexus-npm저장소-계정만들기\"><a href=\"#nexus-npm저장소-계정만들기\" class=\"headerlink\" title=\"nexus npm저장소 계정만들기\"></a>nexus npm저장소 계정만들기</h3><p><img src=\"/images/npm-registry/create_acc.png\" alt=\"\" title=\"create_account\"></p>\n<h3 id=\"저장소-realms-설정\"><a href=\"#저장소-realms-설정\" class=\"headerlink\" title=\"저장소 realms 설정\"></a>저장소 realms 설정</h3><p><img src=\"/images/npm-registry/set_realms.png\" alt=\"\" title=\"set_realms\"></p>\n<h3 id=\"user-role-설정\"><a href=\"#user-role-설정\" class=\"headerlink\" title=\"user role 설정\"></a>user role 설정</h3><p>처음 anonymous 권한 설정이 읽기에 열려 있기 때문에 필요에 따라 anonymous user의 role 변경이 필요함</p>\n<p><img src=\"/images/npm-registry/set_role.png\" alt=\"\" title=\"set_role\"></p>\n<h3 id=\"nexus-npm-저장소-사용하기\"><a href=\"#nexus-npm-저장소-사용하기\" class=\"headerlink\" title=\"nexus npm 저장소 사용하기\"></a>nexus npm 저장소 사용하기</h3><ul>\n<li><p>module publish 관련 설정</p>\n<ul>\n<li><p>.npmrc파일 생성</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#_auth=&lt;username&gt;:&lt;password&gt;</span><br><span class=\"line\">#base64 인코딩</span><br><span class=\"line\">_auth=YWRtaW46YWRtaW4xMjM=</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>package.json 수정</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  &quot;publishConfig&quot;: &#123;</span><br><span class=\"line\">    &quot;registry&quot;: &quot;http://your.nexus.repository.com/repository/npm-private/&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>install repository 지정</p>\n<ul>\n<li>npm config command 이용</li>\n<li>.npmrc 파일에 설정정보 추가<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">registry=http://your.nexus.repository.com/repository/npm-group/</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h2><ul>\n<li><a href=\"http://www.sonatype.org/nexus/2017/02/14/using-nexus-3-as-your-repository-part-2-npm-packages/\" target=\"_blank\" rel=\"noopener\">http://www.sonatype.org/nexus/2017/02/14/using-nexus-3-as-your-repository-part-2-npm-packages/</a></li>\n<li><a href=\"https://help.sonatype.com/display/NXRM3\" target=\"_blank\" rel=\"noopener\">https://help.sonatype.com/display/NXRM3</a></li>\n<li><a href=\"https://gs.saro.me/#!m=elec&amp;jn=774\" target=\"_blank\" rel=\"noopener\">https://gs.saro.me/#!m=elec&amp;jn=774</a> </li>\n<li><a href=\"https://kingbbode.github.io/posts/nexus-3xx-maven-npm\" target=\"_blank\" rel=\"noopener\">https://kingbbode.github.io/posts/nexus-3xx-maven-npm</a></li>\n<li><a href=\"https://blog.sonatype.com/using-nexus-3-as-your-repository-part-2-npm-packages\" target=\"_blank\" rel=\"noopener\">https://blog.sonatype.com/using-nexus-3-as-your-repository-part-2-npm-packages</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"private-node-package-manger\"><a href=\"#private-node-package-manger\" class=\"headerlink\" title=\"private node package manger\"></a>private node package manger</h2><p><a href=\"http://www.npmjs.com\" target=\"_blank\" rel=\"noopener\">www.npmjs.com</a> 에서도 개인이 한 달에 7$를 지불하면 private 패키지를 관리할 수 있다.<br>여건만 된다면 사설 저장소를 설치해서 관리하는 것도 나쁘지 않다.<br>미러링이나 캐쉬로 사용가능하기 때문에 private 으로 관리할 수 있다는 점 외에 장점이 많다.<br>사설 패키지 매니저로 <code>sinopia</code>와 <code>nexus</code>를 설치해보고 노드 프로젝트에 설정해보자.</p>\n<h2 id=\"sinopia\"><a href=\"#sinopia\" class=\"headerlink\" title=\"sinopia\"></a>sinopia</h2><p><a href=\"https://www.npmjs.com/package/sinopia\" target=\"_blank\" rel=\"noopener\">https://www.npmjs.com/package/sinopia</a></p>\n<p>npm 엔드포인트 수정<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm config get registry</span><br><span class=\"line\">https://registry.npmjs.org/</span><br><span class=\"line\">$ npm set registry http://localhost:4873</span><br><span class=\"line\">$ npm config get registry</span><br><span class=\"line\">http://localhost:4873/</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"nexus\"><a href=\"#nexus\" class=\"headerlink\" title=\"nexus\"></a>nexus</h2><p><a href=\"https://www.sonatype.com/\" target=\"_blank\" rel=\"noopener\">https://www.sonatype.com/</a></p>\n<h3 id=\"설치-amp-실행\"><a href=\"#설치-amp-실행\" class=\"headerlink\" title=\"설치 &amp; 실행\"></a>설치 &amp; 실행</h3><ol>\n<li>nexus를 설치하는 방법은 2가지가 있다.<ul>\n<li>docker 사용</li>\n<li>그냥 설치</li>\n</ul>\n</li>\n<li>그냥 설치해 보자 … 우선 다운로드 받는다. <a href=\"https://www.sonatype.com/download-oss-sonatype\" target=\"_blank\" rel=\"noopener\">https://www.sonatype.com/download-oss-sonatype</a></li>\n<li>java 8이 설치되어 있어야 한다.</li>\n<li>아카이브 해제하면 폴더 2개가 나온다</li>\n<li>sonatype-work 는 저장소다,</li>\n<li>다른 폴더의 안의 bin 폴더에서 nexus 파일을 실행</li>\n<li><a href=\"http://localhost:8081/\" target=\"_blank\" rel=\"noopener\">http://localhost:8081/</a> 로 접속</li>\n<li>default admin account [admin / admin123]</li>\n</ol>\n<h3 id=\"repository-생성\"><a href=\"#repository-생성\" class=\"headerlink\" title=\"repository 생성\"></a>repository 생성</h3><p><img src=\"/images/npm-registry/create_repo.png\" alt=\"\" title=\"create_repository\"></p>\n<ul>\n<li>저장소 목록에서 url 컬럼의 버튼을 누르면 저장소 주소가 copy됨</li>\n<li>repository 타입<ul>\n<li>group : repository를 하나로 묶을 수 있는 repo</li>\n<li>hosted : 저장소 직접 호스팅</li>\n<li>proxy : 외부 저장소 prox</li>\n</ul>\n</li>\n<li>npm 저장소 만들기<ul>\n<li>proxy에 공식 저장소 주소 넣기 : <code>https://registry.npmjs.org/</code></li>\n<li>hosted 만들기</li>\n<li>group 으로 hosted proxy 묶기</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"nexus-npm저장소-계정만들기\"><a href=\"#nexus-npm저장소-계정만들기\" class=\"headerlink\" title=\"nexus npm저장소 계정만들기\"></a>nexus npm저장소 계정만들기</h3><p><img src=\"/images/npm-registry/create_acc.png\" alt=\"\" title=\"create_account\"></p>\n<h3 id=\"저장소-realms-설정\"><a href=\"#저장소-realms-설정\" class=\"headerlink\" title=\"저장소 realms 설정\"></a>저장소 realms 설정</h3><p><img src=\"/images/npm-registry/set_realms.png\" alt=\"\" title=\"set_realms\"></p>\n<h3 id=\"user-role-설정\"><a href=\"#user-role-설정\" class=\"headerlink\" title=\"user role 설정\"></a>user role 설정</h3><p>처음 anonymous 권한 설정이 읽기에 열려 있기 때문에 필요에 따라 anonymous user의 role 변경이 필요함</p>\n<p><img src=\"/images/npm-registry/set_role.png\" alt=\"\" title=\"set_role\"></p>\n<h3 id=\"nexus-npm-저장소-사용하기\"><a href=\"#nexus-npm-저장소-사용하기\" class=\"headerlink\" title=\"nexus npm 저장소 사용하기\"></a>nexus npm 저장소 사용하기</h3><ul>\n<li><p>module publish 관련 설정</p>\n<ul>\n<li><p>.npmrc파일 생성</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#_auth=&lt;username&gt;:&lt;password&gt;</span><br><span class=\"line\">#base64 인코딩</span><br><span class=\"line\">_auth=YWRtaW46YWRtaW4xMjM=</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>package.json 수정</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  &quot;publishConfig&quot;: &#123;</span><br><span class=\"line\">    &quot;registry&quot;: &quot;http://your.nexus.repository.com/repository/npm-private/&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>install repository 지정</p>\n<ul>\n<li>npm config command 이용</li>\n<li>.npmrc 파일에 설정정보 추가<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">registry=http://your.nexus.repository.com/repository/npm-group/</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"reference\"><a href=\"#reference\" class=\"headerlink\" title=\"reference\"></a>reference</h2><ul>\n<li><a href=\"http://www.sonatype.org/nexus/2017/02/14/using-nexus-3-as-your-repository-part-2-npm-packages/\" target=\"_blank\" rel=\"noopener\">http://www.sonatype.org/nexus/2017/02/14/using-nexus-3-as-your-repository-part-2-npm-packages/</a></li>\n<li><a href=\"https://help.sonatype.com/display/NXRM3\" target=\"_blank\" rel=\"noopener\">https://help.sonatype.com/display/NXRM3</a></li>\n<li><a href=\"https://gs.saro.me/#!m=elec&amp;jn=774\" target=\"_blank\" rel=\"noopener\">https://gs.saro.me/#!m=elec&amp;jn=774</a> </li>\n<li><a href=\"https://kingbbode.github.io/posts/nexus-3xx-maven-npm\" target=\"_blank\" rel=\"noopener\">https://kingbbode.github.io/posts/nexus-3xx-maven-npm</a></li>\n<li><a href=\"https://blog.sonatype.com/using-nexus-3-as-your-repository-part-2-npm-packages\" target=\"_blank\" rel=\"noopener\">https://blog.sonatype.com/using-nexus-3-as-your-repository-part-2-npm-packages</a></li>\n</ul>\n"},{"title":"(programmers / level 1 / hash) 완주하지 못한 선수","date":"2022-03-21T13:20:19.000Z","_content":"\n## 문제 링크 \n- https://programmers.co.kr/learn/courses/30/lessons/42576\n\n## 풀이 \n```java\nimport java.util.Map;\nimport java.util.HashMap;\n\nclass Solution {\n    public String solution(String[] participant, String[] completion) {\n        // start at 22:40 ~ 23:00 \n        String answer = \"\";\n\n        Map<String, Integer> completionMap = new HashMap();\n        int completionLength = completion.length;\n        for(int i=0;i<completionLength;i++) {\n            String completionName = completion[i];\n            completionMap.put(completionName, completionMap.getOrDefault(completionName, 0) + 1);\n        }\n\n        int participantLength = participant.length;\n        for(int i=0;i<participantLength;i++) {\n            String participantName = participant[i];\n            Integer count = completionMap.get(participantName);\n            if(count == null) {\n                // 완주 X \n                answer = participantName;\n                break;\n            } else {\n                // 완주 \n                if(count == 1) {\n                    completionMap.remove(participantName);\n                } else {\n                    completionMap.put(participantName, count - 1);\n                }\n            }\n        }\n\n        return answer;\n    }\n}\n```","source":"_posts/algorithm/programmers/완주하지 못한 선수.md","raw":"---\ntitle: (programmers / level 1 / hash) 완주하지 못한 선수\ndate: 2022-03-21 22:20:19\ntags:\n- programmers\n- hash\n- level1 \n- java\ncategories:\n- algorithm\n---\n\n## 문제 링크 \n- https://programmers.co.kr/learn/courses/30/lessons/42576\n\n## 풀이 \n```java\nimport java.util.Map;\nimport java.util.HashMap;\n\nclass Solution {\n    public String solution(String[] participant, String[] completion) {\n        // start at 22:40 ~ 23:00 \n        String answer = \"\";\n\n        Map<String, Integer> completionMap = new HashMap();\n        int completionLength = completion.length;\n        for(int i=0;i<completionLength;i++) {\n            String completionName = completion[i];\n            completionMap.put(completionName, completionMap.getOrDefault(completionName, 0) + 1);\n        }\n\n        int participantLength = participant.length;\n        for(int i=0;i<participantLength;i++) {\n            String participantName = participant[i];\n            Integer count = completionMap.get(participantName);\n            if(count == null) {\n                // 완주 X \n                answer = participantName;\n                break;\n            } else {\n                // 완주 \n                if(count == 1) {\n                    completionMap.remove(participantName);\n                } else {\n                    completionMap.put(participantName, count - 1);\n                }\n            }\n        }\n\n        return answer;\n    }\n}\n```","slug":"algorithm/programmers/완주하지 못한 선수","published":1,"updated":"2022-03-21T14:04:52.192Z","_id":"cl10qcvq10000cquz689wamy9","comments":1,"layout":"post","photos":[],"link":"","content":"<html><head></head><body><h2 id=\"문제-링크\"><a href=\"#문제-링크\" class=\"headerlink\" title=\"문제 링크\"></a>문제 링크</h2><ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9wcm9ncmFtbWVycy5jby5rci9sZWFybi9jb3Vyc2VzLzMwL2xlc3NvbnMvNDI1NzY=\" title=\"https://programmers.co.kr/learn/courses/30/lessons/42576\">https://programmers.co.kr/learn/courses/30/lessons/42576<i class=\"fa fa-external-link\"></i></span></li>\n</ul>\n<h2 id=\"풀이\"><a href=\"#풀이\" class=\"headerlink\" title=\"풀이\"></a>풀이</h2><figure class=\"highlight java\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Map;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.HashMap;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>{</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">solution</span><span class=\"params\">(String[] participant, String[] completion)</span> </span>{</span><br><span class=\"line\">        <span class=\"comment\">// start at 22:40 ~ 23:00 </span></span><br><span class=\"line\">        String answer = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        Map&lt;String, Integer&gt; completionMap = <span class=\"keyword\">new</span> HashMap();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> completionLength = completion.length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;completionLength;i++) {</span><br><span class=\"line\">            String completionName = completion[i];</span><br><span class=\"line\">            completionMap.put(completionName, completionMap.getOrDefault(completionName, <span class=\"number\">0</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">        }</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> participantLength = participant.length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;participantLength;i++) {</span><br><span class=\"line\">            String participantName = participant[i];</span><br><span class=\"line\">            Integer count = completionMap.get(participantName);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(count == <span class=\"keyword\">null</span>) {</span><br><span class=\"line\">                <span class=\"comment\">// 완주 X </span></span><br><span class=\"line\">                answer = participantName;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">                <span class=\"comment\">// 완주 </span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(count == <span class=\"number\">1</span>) {</span><br><span class=\"line\">                    completionMap.remove(participantName);</span><br><span class=\"line\">                } <span class=\"keyword\">else</span> {</span><br><span class=\"line\">                    completionMap.put(participantName, count - <span class=\"number\">1</span>);</span><br><span class=\"line\">                }</span><br><span class=\"line\">            }</span><br><span class=\"line\">        }</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> answer;</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure></body></html>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"문제-링크\"><a href=\"#문제-링크\" class=\"headerlink\" title=\"문제 링크\"></a>문제 링크</h2><ul>\n<li><a href=\"https://programmers.co.kr/learn/courses/30/lessons/42576\" target=\"_blank\" rel=\"noopener\">https://programmers.co.kr/learn/courses/30/lessons/42576</a></li>\n</ul>\n<h2 id=\"풀이\"><a href=\"#풀이\" class=\"headerlink\" title=\"풀이\"></a>풀이</h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.util.Map;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.HashMap;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">solution</span><span class=\"params\">(String[] participant, String[] completion)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// start at 22:40 ~ 23:00 </span></span><br><span class=\"line\">        String answer = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        Map&lt;String, Integer&gt; completionMap = <span class=\"keyword\">new</span> HashMap();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> completionLength = completion.length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;completionLength;i++) &#123;</span><br><span class=\"line\">            String completionName = completion[i];</span><br><span class=\"line\">            completionMap.put(completionName, completionMap.getOrDefault(completionName, <span class=\"number\">0</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> participantLength = participant.length;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>;i&lt;participantLength;i++) &#123;</span><br><span class=\"line\">            String participantName = participant[i];</span><br><span class=\"line\">            Integer count = completionMap.get(participantName);</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(count == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 완주 X </span></span><br><span class=\"line\">                answer = participantName;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 완주 </span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(count == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                    completionMap.remove(participantName);</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    completionMap.put(participantName, count - <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> answer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckculontr0000twuznsljhtu0","category_id":"ckculonty0004twuzd4vcpfue","_id":"ckculonu2000btwuz2n6py04u"},{"post_id":"ckculontv0002twuza53qibte","category_id":"ckculonu10009twuzo4jy68vx","_id":"ckculonu3000gtwuzpqwbe869"},{"post_id":"ckculontz0006twuz7uf3noo3","category_id":"ckculonu2000ctwuz2mj7v22k","_id":"ckculonu3000jtwuzexg2hq3p"},{"post_id":"ckculonvf000ltwuz2buj518u","category_id":"ckculonvh000ntwuzp10nel3p","_id":"ckculonvm000wtwuz4i70k4wq"},{"post_id":"ckculonvg000mtwuzv49imul6","category_id":"ckculonvk000stwuz8ttdtagb","_id":"ckculonvq0012twuz0wxevmi4"},{"post_id":"ckculonvh000ptwuz13w62lqv","category_id":"ckculonvh000ntwuzp10nel3p","_id":"ckculonvs0018twuztu2ciyf5"},{"post_id":"ckculonvi000qtwuzay2g66hz","category_id":"ckculonvk000stwuz8ttdtagb","_id":"ckculonvt001etwuzgxcm2rvs"},{"post_id":"ckculonvj000rtwuz2l11cx8m","category_id":"ckculonvk000stwuz8ttdtagb","_id":"ckculonvu001gtwuzlzxugkrk"},{"post_id":"ckculonvl000utwuzn6lgvzfs","category_id":"ckculonvt001dtwuz4eyh5a52","_id":"ckculonvv001ktwuzqg34bu9e"},{"post_id":"ckculonvl000vtwuz2c9snmcm","category_id":"ckculonvt001dtwuz4eyh5a52","_id":"ckculonvw001ntwuz75eunvl3"},{"post_id":"ckculonvo000ztwuzjnzz61d7","category_id":"ckculonvt001dtwuz4eyh5a52","_id":"ckculonvx001qtwuz7krg34ta"},{"post_id":"ckculonvp0010twuzg592twi0","category_id":"ckculonvt001dtwuz4eyh5a52","_id":"ckculonvy001vtwuzh5z3tac7"},{"post_id":"ckculonvq0014twuzczu23lkw","category_id":"ckculonvt001dtwuz4eyh5a52","_id":"ckculonvz001ztwuzsz2rcibu"},{"post_id":"ckculonvr0016twuz1rvkrqzp","category_id":"ckculonvy001utwuznsy8io9i","_id":"ckculonw00024twuzr7jwf2pk"},{"post_id":"ckculonvs001btwuz1k6rbdaw","category_id":"ckculonvy001utwuznsy8io9i","_id":"ckculonw10028twuzic2ey7dx"},{"post_id":"cl10qcvq10000cquz689wamy9","category_id":"cl10q6e7g0001tyuz4efnfdkz","_id":"cl10qcvq40003cquz8s6xbgbu"}],"PostTag":[{"post_id":"ckculontr0000twuznsljhtu0","tag_id":"ckculontz0005twuzrwof2e1n","_id":"ckculonu2000etwuzw08uau87"},{"post_id":"ckculontr0000twuznsljhtu0","tag_id":"ckculonu1000atwuzq44z5hdh","_id":"ckculonu3000ftwuziwgatra9"},{"post_id":"ckculontv0002twuza53qibte","tag_id":"ckculonu2000dtwuzder4p2ec","_id":"ckculonu3000itwuztjh8yjkw"},{"post_id":"ckculontz0006twuz7uf3noo3","tag_id":"ckculonu3000htwuzzaf461ph","_id":"ckculonu4000ktwuzsfp02w0u"},{"post_id":"ckculonvf000ltwuz2buj518u","tag_id":"ckculonvh000otwuz6yu5i4ax","_id":"ckculonvr0015twuzppjy2xir"},{"post_id":"ckculonvf000ltwuz2buj518u","tag_id":"ckculonvk000ttwuz1ly2nb3d","_id":"ckculonvs0019twuzqqyw2tx3"},{"post_id":"ckculonvf000ltwuz2buj518u","tag_id":"ckculonvm000ytwuzbpxras0t","_id":"ckculonvt001ctwuzodpyz0so"},{"post_id":"ckculonvg000mtwuzv49imul6","tag_id":"ckculonvq0013twuzbhv5h19n","_id":"ckculonvx001rtwuzxbq5rznu"},{"post_id":"ckculonvg000mtwuzv49imul6","tag_id":"ckculonvs001atwuzu553ddpy","_id":"ckculonvy001stwuzirhdtzun"},{"post_id":"ckculonvg000mtwuzv49imul6","tag_id":"ckculonvu001ftwuzeobea1ll","_id":"ckculonvy001wtwuz8i84cqli"},{"post_id":"ckculonvg000mtwuzv49imul6","tag_id":"ckculonvv001itwuzfpb4hjj3","_id":"ckculonvz001xtwuzixy8dd3e"},{"post_id":"ckculonvg000mtwuzv49imul6","tag_id":"ckculonvv001ltwuzb0tb40no","_id":"ckculonvz0020twuzgmlug6fm"},{"post_id":"ckculonvh000ptwuz13w62lqv","tag_id":"ckculonvh000otwuz6yu5i4ax","_id":"ckculonw00023twuzge8mlnwn"},{"post_id":"ckculonvh000ptwuz13w62lqv","tag_id":"ckculonvk000ttwuz1ly2nb3d","_id":"ckculonw00025twuzlg3yez3a"},{"post_id":"ckculonvh000ptwuz13w62lqv","tag_id":"ckculonvm000ytwuzbpxras0t","_id":"ckculonw10027twuzhj7t150e"},{"post_id":"ckculonvi000qtwuzay2g66hz","tag_id":"ckculonvq0013twuzbhv5h19n","_id":"ckculonw3002dtwuzze5t1ax0"},{"post_id":"ckculonvi000qtwuzay2g66hz","tag_id":"ckculonvs001atwuzu553ddpy","_id":"ckculonw3002etwuzeq1ps58t"},{"post_id":"ckculonvi000qtwuzay2g66hz","tag_id":"ckculonvu001ftwuzeobea1ll","_id":"ckculonw4002gtwuzawolepyr"},{"post_id":"ckculonvi000qtwuzay2g66hz","tag_id":"ckculonvv001itwuzfpb4hjj3","_id":"ckculonw4002htwuznnczef4g"},{"post_id":"ckculonvi000qtwuzay2g66hz","tag_id":"ckculonvv001ltwuzb0tb40no","_id":"ckculonw4002jtwuzakvwhkzc"},{"post_id":"ckculonvj000rtwuz2l11cx8m","tag_id":"ckculonvq0013twuzbhv5h19n","_id":"ckculonw5002ntwuz35ma5km7"},{"post_id":"ckculonvj000rtwuz2l11cx8m","tag_id":"ckculonvs001atwuzu553ddpy","_id":"ckculonw5002otwuzc12dtuig"},{"post_id":"ckculonvj000rtwuz2l11cx8m","tag_id":"ckculonvu001ftwuzeobea1ll","_id":"ckculonw5002qtwuzjgqo92rt"},{"post_id":"ckculonvj000rtwuz2l11cx8m","tag_id":"ckculonw4002ktwuzo18208yy","_id":"ckculonw5002rtwuzl10etqtd"},{"post_id":"ckculonvj000rtwuz2l11cx8m","tag_id":"ckculonw5002ltwuz9j2j6r84","_id":"ckculonw6002ttwuzjocflabu"},{"post_id":"ckculonvl000utwuzn6lgvzfs","tag_id":"ckculontz0005twuzrwof2e1n","_id":"ckculonw6002utwuzrblv53dq"},{"post_id":"ckculonvl000utwuzn6lgvzfs","tag_id":"ckculonw5002mtwuz3b0d1b31","_id":"ckculonw6002wtwuzh5fghgpq"},{"post_id":"ckculonvl000utwuzn6lgvzfs","tag_id":"ckculonw5002ptwuzeegrxl1o","_id":"ckculonw6002xtwuzram82glx"},{"post_id":"ckculonvl000vtwuz2c9snmcm","tag_id":"ckculontz0005twuzrwof2e1n","_id":"ckculonw70030twuz9kpt6t56"},{"post_id":"ckculonvl000vtwuz2c9snmcm","tag_id":"ckculonw5002mtwuz3b0d1b31","_id":"ckculonw70031twuzecxhdjsg"},{"post_id":"ckculonvl000vtwuz2c9snmcm","tag_id":"ckculonw5002ptwuzeegrxl1o","_id":"ckculonw70033twuzvpenuu8c"},{"post_id":"ckculonvl000vtwuz2c9snmcm","tag_id":"ckculonw6002ytwuzwmzi0uc6","_id":"ckculonw70034twuzr1vvcpqj"},{"post_id":"ckculonvo000ztwuzjnzz61d7","tag_id":"ckculontz0005twuzrwof2e1n","_id":"ckculonw80036twuz3jabyl8j"},{"post_id":"ckculonvo000ztwuzjnzz61d7","tag_id":"ckculonw5002mtwuz3b0d1b31","_id":"ckculonw80037twuzuu8xtihk"},{"post_id":"ckculonvo000ztwuzjnzz61d7","tag_id":"ckculonw70032twuz6du36o2t","_id":"ckculonw80039twuz6difwo0l"},{"post_id":"ckculonvp0010twuzg592twi0","tag_id":"ckculontz0005twuzrwof2e1n","_id":"ckculonw8003atwuz7jg3bc16"},{"post_id":"ckculonvp0010twuzg592twi0","tag_id":"ckculonw5002mtwuz3b0d1b31","_id":"ckculonw9003ctwuzt7qd0rth"},{"post_id":"ckculonvq0014twuzczu23lkw","tag_id":"ckculontz0005twuzrwof2e1n","_id":"ckculonw9003dtwuzlx059e0a"},{"post_id":"ckculonvq0014twuzczu23lkw","tag_id":"ckculonw5002mtwuz3b0d1b31","_id":"ckculonw9003ftwuzlvuj919t"},{"post_id":"ckculonvr0016twuz1rvkrqzp","tag_id":"ckculonw8003btwuzgej3rnt6","_id":"ckculonwa003jtwuzf25252fg"},{"post_id":"ckculonvr0016twuz1rvkrqzp","tag_id":"ckculonw9003etwuzwcl0fjga","_id":"ckculonwa003ktwuzupvhadoe"},{"post_id":"ckculonvr0016twuz1rvkrqzp","tag_id":"ckculonw9003gtwuzf5rurp1r","_id":"ckculonwa003mtwuz6tp9ndfk"},{"post_id":"ckculonvr0016twuz1rvkrqzp","tag_id":"ckculonw9003htwuz6hqn6s9n","_id":"ckculonwa003ntwuzwruhiq5t"},{"post_id":"ckculonvs001btwuz1k6rbdaw","tag_id":"ckculonw8003btwuzgej3rnt6","_id":"ckculonwb003ptwuzk2hx9r54"},{"post_id":"ckculonvs001btwuz1k6rbdaw","tag_id":"ckculonwa003ltwuz7p4bw1kw","_id":"ckculonwb003qtwuzjvbjbbt0"},{"post_id":"ckculonvs001btwuz1k6rbdaw","tag_id":"ckculonwa003otwuzplywbpmt","_id":"ckculonwb003rtwuz16is0oot"},{"post_id":"cl10qcvq10000cquz689wamy9","tag_id":"cl10q6e7g0002tyuzgd9cfegj","_id":"cl10qcvq30001cquz4xqzfi9h"},{"post_id":"cl10qcvq10000cquz689wamy9","tag_id":"cl10q6e7i0003tyuza89ddki5","_id":"cl10qcvq40002cquz3sf9hfbx"},{"post_id":"cl10qcvq10000cquz689wamy9","tag_id":"cl10q6e7j0005tyuz27vr6b41","_id":"cl10qcvq40004cquzemxx14fz"},{"post_id":"cl10qcvq10000cquz689wamy9","tag_id":"cl10q6e7j0006tyuz6r7b0jvc","_id":"cl10qcvq40005cquz3b0hcvno"}],"Tag":[{"name":"mobile","_id":"ckculontz0005twuzrwof2e1n"},{"name":"flutter","_id":"ckculonu1000atwuzq44z5hdh"},{"name":"hexo","_id":"ckculonu2000dtwuzder4p2ec"},{"name":"markdown","_id":"ckculonu3000htwuzzaf461ph"},{"name":"aws","_id":"ckculonvh000otwuz6yu5i4ax"},{"name":"lambda","_id":"ckculonvk000ttwuz1ly2nb3d"},{"name":"claudiajs","_id":"ckculonvm000ytwuzbpxras0t"},{"name":"docker","_id":"ckculonvq0013twuzbhv5h19n"},{"name":"container","_id":"ckculonvs001atwuzu553ddpy"},{"name":"swarm","_id":"ckculonvu001ftwuzeobea1ll"},{"name":"redis","_id":"ckculonvv001itwuzfpb4hjj3"},{"name":"sentinel","_id":"ckculonvv001ltwuzb0tb40no"},{"name":"docker compose","_id":"ckculonw4002ktwuzo18208yy"},{"name":"vagrant","_id":"ckculonw5002ltwuz9j2j6r84"},{"name":"ionic","_id":"ckculonw5002mtwuz3b0d1b31"},{"name":"android","_id":"ckculonw5002ptwuzeegrxl1o"},{"name":"play store","_id":"ckculonw6002ytwuzwmzi0uc6"},{"name":"angular","_id":"ckculonw70032twuz6du36o2t"},{"name":"nodejs","_id":"ckculonw8003btwuzgej3rnt6"},{"name":"express","_id":"ckculonw9003etwuzwcl0fjga"},{"name":"passport","_id":"ckculonw9003gtwuzf5rurp1r"},{"name":"authentication","_id":"ckculonw9003htwuz6hqn6s9n"},{"name":"npm","_id":"ckculonwa003ltwuz7p4bw1kw"},{"name":"nexus","_id":"ckculonwa003otwuzplywbpmt"},{"name":"programmers","_id":"cl10q6e7g0002tyuzgd9cfegj"},{"name":"hash","_id":"cl10q6e7i0003tyuza89ddki5"},{"name":"level1","_id":"cl10q6e7j0005tyuz27vr6b41"},{"name":"java","_id":"cl10q6e7j0006tyuz6r7b0jvc"}]}}